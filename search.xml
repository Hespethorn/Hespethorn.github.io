<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World ç³»ç»ŸåŒ–å­¦ä¹ ä¹‹æ—…</title>
    <url>/posts/f9d777ad/</url>
    <content><![CDATA[<img src="/img/PageCode/1.png" alt="Hello World ç³»ç»ŸåŒ–å­¦ä¹ ä¹‹æ—…" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="ğŸŒŸWelcome-to-My-Technical-Diary"><a href="#ğŸŒŸWelcome-to-My-Technical-Diary" class="headerlink" title="ğŸŒŸWelcome to My Technical Diary"></a>ğŸŒŸWelcome to My Technical Diary</h1><blockquote>
<p>This is my first vlog! Iâ€™ll use this blog to document my journey from learning C to mastering Go (Golang). Over time, I hope to share insights, code snippets, and lessons learned along the way.</p>
</blockquote>
<blockquote>
<p>Let&#39;s engineer our way from &quot;Hello World&quot; to production-grade systems!</p>
</blockquote>
<h1 id="ğŸ§­-Navigation-System-Overview"><a href="#ğŸ§­-Navigation-System-Overview" class="headerlink" title="ğŸ§­ Navigation System Overview"></a>ğŸ§­ Navigation System Overview</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Home (Landing Page)</span><br><span class="line">- Daily progress reports | Technical retrospectives </span><br><span class="line"></span><br><span class="line">Tech Stack Panel (Sidebar)</span><br><span class="line">- **Tag Cloud**: `#Go` `#C`  </span><br><span class="line">  *(Click tags to filter content)*</span><br><span class="line">- **Chronology**: Full article timeline with timestamps  </span><br><span class="line"></span><br><span class="line">Resource Repository (Links)</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="ğŸ“Œ-Development-Discipline"><a href="#ğŸ“Œ-Development-Discipline" class="headerlink" title="ğŸ“Œ Development Discipline"></a>ğŸ“Œ Development Discipline</h1><h2 id="æ ¸å¿ƒç†å¿µ"><a href="#æ ¸å¿ƒç†å¿µ" class="headerlink" title="æ ¸å¿ƒç†å¿µ"></a>æ ¸å¿ƒç†å¿µ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ Core Doctrines:</span><br><span class="line">   1. Daily effective code (Minimum 3 production-ready lines)</span><br><span class="line">   2. Error log as primary learning artifact</span><br><span class="line">   3. Weekly code refactoring cycle</span><br><span class="line"></span><br><span class="line">! Anti-pattern Prohibitions:</span><br><span class="line">   âŒ Code pasting without comprehension  </span><br><span class="line">   âŒ Error message suppression  </span><br><span class="line">   âŒ Premature toolchain upgrades</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="ğŸš€-Immediate-Action-Plan"><a href="#ğŸš€-Immediate-Action-Plan" class="headerlink" title="ğŸš€ Immediate Action Plan"></a>ğŸš€ Immediate Action Plan</h1><h2 id="Daily-Commitment-Checklist-âœ…"><a href="#Daily-Commitment-Checklist-âœ…" class="headerlink" title="Daily Commitment Checklist âœ…"></a>Daily Commitment Checklist âœ…</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">### Daily Commitments</span><br><span class="line">1. Submit valid code (even if only comments)</span><br><span class="line">2. Document debugging sessions (full error logs)</span><br><span class="line">3. Update progress metrics</span><br><span class="line"></span><br><span class="line">### Join the Journey</span><br><span class="line">&gt; &quot;Technology is not an island, but a guiding light&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>&quot;Technology is not an island, but a guiding light.&quot;</p>
</blockquote>
]]></content>
      <categories>
        <category>Essays</category>
      </categories>
      <tags>
        <tag>LearningJournal</tag>
        <tag>ProgrammingEducation</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€æ—¥æœŸå·¥å…·å®Œæ•´å®ç°</title>
    <url>/posts/39679951/</url>
    <content><![CDATA[<img src="/img/PageCode/2.png" alt="Cè¯­è¨€æ—¥æœŸå·¥å…·å®Œæ•´å®ç°" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™æ—¥æœŸå·¥å…·ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™æ—¥æœŸå·¥å…·ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™æ—¥æœŸå·¥å…·ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™æ—¥æœŸå·¥å…·ï¼Ÿ</h1><p>åœ¨å¼€å‘æ—¥ç¨‹ç®¡ç†ã€è´¢åŠ¡ç»Ÿè®¡æˆ–æ•°æ®åˆ†æç±»åº”ç”¨æ—¶ï¼Œæ—¥æœŸå¤„ç†æ˜¯ç»•ä¸å¼€çš„éœ€æ±‚ã€‚è™½ç„¶Cæ ‡å‡†åº“æä¾›äº†ç›¸å…³å‡½æ•°ï¼Œä½†å®é™…åœºæ™¯ä¸­å¾€å¾€éœ€è¦æ›´çµæ´»çš„åŠŸèƒ½â€”â€”æ¯”å¦‚ç²¾ç¡®è®¡ç®—ä¸¤ä¸ªæ—¥æœŸçš„å¤©æ•°å·®ã€è‡ªå®šä¹‰æ ¼å¼æ‰“å°æœˆå†ï¼Œæˆ–éªŒè¯ç”¨æˆ·è¾“å…¥çš„æ—¥æœŸåˆæ³•æ€§ã€‚ä»Šå¤©æˆ‘ä»¬å°±ç”¨Cè¯­è¨€æ‰‹å†™ä¸€ä¸ª<strong>å…¨åŠŸèƒ½æ—¥æœŸå·¥å…·</strong>ï¼Œè¦†ç›–ä»åŸºç¡€åˆ¤æ–­åˆ°å¤æ‚äº¤äº’çš„å…¨æµç¨‹ï¼Œå¹¶æ‹†è§£æ ¸å¿ƒç®—æ³•åŸç†ã€‚</p>
<hr>
<h1 id="æ ¸å¿ƒåŠŸèƒ½æ¸…å•"><a href="#æ ¸å¿ƒåŠŸèƒ½æ¸…å•" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½æ¸…å•"></a>æ ¸å¿ƒåŠŸèƒ½æ¸…å•</h1><p>è¿™ä¸ªæ—¥æœŸå·¥å…·å®ç°äº†5å¤§æ ¸å¿ƒåŠŸèƒ½ï¼Œè¦†ç›–æ—¥å¸¸å¼€å‘ä¸­æœ€å¸¸ç”¨çš„æ—¥æœŸæ“ä½œåœºæ™¯ï¼š</p>
<ul>
<li>âœ… <strong>è®¡ç®—æ—¥æœŸå·®</strong>ï¼šç²¾ç¡®è®¡ç®—ä»»æ„ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°é—´éš”ï¼›</li>
<li>âœ… <strong>æŸ¥è¯¢æ˜ŸæœŸå‡ </strong>ï¼šè¾“å…¥å¹´æœˆæ—¥ï¼Œå¿«é€Ÿå¾—åˆ°å¯¹åº”çš„æ˜ŸæœŸåç§°ï¼›</li>
<li>âœ… <strong>æ‰“å°æœˆå†</strong>ï¼šä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºå½“æœˆæ—¥æœŸä¸æ˜ŸæœŸçš„å¯¹åº”å…³ç³»ï¼›</li>
<li>âœ… <strong>æ‰“å°å¹´å†</strong>ï¼šæŒ‰æœˆä»½åˆ†å¼€å±•ç¤ºå…¨å¹´æ—¥å†ï¼›</li>
<li>âœ… <strong>è¾“å…¥éªŒè¯</strong>ï¼šè‡ªåŠ¨æ£€æŸ¥æ—¥æœŸåˆæ³•æ€§ï¼ˆå¦‚é—°å¹´äºŒæœˆæ˜¯å¦æœ‰29å¤©ï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="å…³é”®æ•°æ®ä¸ç®—æ³•ï¼šæ—¥æœŸè®¡ç®—çš„åº•å±‚é€»è¾‘"><a href="#å…³é”®æ•°æ®ä¸ç®—æ³•ï¼šæ—¥æœŸè®¡ç®—çš„åº•å±‚é€»è¾‘" class="headerlink" title="å…³é”®æ•°æ®ä¸ç®—æ³•ï¼šæ—¥æœŸè®¡ç®—çš„åº•å±‚é€»è¾‘"></a>å…³é”®æ•°æ®ä¸ç®—æ³•ï¼šæ—¥æœŸè®¡ç®—çš„åº•å±‚é€»è¾‘</h1><h2 id="åŸºç¡€æ•°æ®ï¼šæœˆä»½å¤©æ•°ä¸æ˜ŸæœŸæ˜ å°„"><a href="#åŸºç¡€æ•°æ®ï¼šæœˆä»½å¤©æ•°ä¸æ˜ŸæœŸæ˜ å°„" class="headerlink" title="åŸºç¡€æ•°æ®ï¼šæœˆä»½å¤©æ•°ä¸æ˜ŸæœŸæ˜ å°„"></a>åŸºç¡€æ•°æ®ï¼šæœˆä»½å¤©æ•°ä¸æ˜ŸæœŸæ˜ å°„</h2><p>ä»£ç ä¸­å®šä¹‰äº†ä¸¤ä¸ªå…¨å±€å¸¸é‡æ•°ç»„ï¼Œå®ƒä»¬æ˜¯æ•´ä¸ªå·¥å…·çš„ã€Œæ•°æ®åŸºçŸ³ã€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const int mon[12] = &#123; 31,28,31,30,31,30,31,31,30,31,30,31 &#125;;  </span><br><span class="line">// å¹³å¹´å„æœˆå¤©æ•°ï¼ˆç´¢å¼•0=1æœˆï¼‰</span><br><span class="line">const char *week_day[7] = &#123; &quot;å‘¨æ—¥&quot;, &quot;å‘¨ä¸€&quot;, &quot;å‘¨äºŒ&quot;, &quot;å‘¨ä¸‰&quot;, &quot;å‘¨å››&quot;, &quot;å‘¨äº”&quot;, &quot;å‘¨å…­&quot; &#125;;  </span><br><span class="line">// æ˜ŸæœŸåç§°æ˜ å°„</span><br></pre></td></tr></table></figure>

<ul>
<li><code>mon</code>æ•°ç»„ï¼šå­˜å‚¨å¹³å¹´å„æœˆçš„å¤©æ•°ï¼ˆå¦‚1æœˆ31å¤©ï¼Œ2æœˆ28å¤©ï¼‰ï¼›</li>
<li><code>week_day</code>æ•°ç»„ï¼šå°†0-6æ˜ å°„åˆ°ã€Œå‘¨æ—¥-å‘¨å…­ã€ï¼Œç”¨äºåç»­æ˜ŸæœŸå‡ çš„è¾“å‡ºã€‚</li>
</ul>
<h2 id="é—°å¹´åˆ¤æ–­ï¼šæ—¶é—´çš„ã€Œæ ¡æ­£å™¨ã€"><a href="#é—°å¹´åˆ¤æ–­ï¼šæ—¶é—´çš„ã€Œæ ¡æ­£å™¨ã€" class="headerlink" title="é—°å¹´åˆ¤æ–­ï¼šæ—¶é—´çš„ã€Œæ ¡æ­£å™¨ã€"></a>é—°å¹´åˆ¤æ–­ï¼šæ—¶é—´çš„ã€Œæ ¡æ­£å™¨ã€</h2><p>é—°å¹´çš„è§„åˆ™æ˜¯ï¼šèƒ½è¢«4æ•´é™¤ä½†ä¸èƒ½è¢«100æ•´é™¤ï¼Œæˆ–èƒ½è¢«400æ•´é™¤çš„å¹´ä»½ã€‚è¿™ä¸ªå‡½æ•°æ˜¯æ—¥æœŸè®¡ç®—çš„ã€Œæ—¶é—´æ ¡æ­£å™¨ã€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bool is_leap_year(int year) &#123;</span><br><span class="line">    return ((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¸ºä»€ä¹ˆéœ€è¦é—°å¹´ï¼Ÿ</strong> åœ°çƒç»•å¤ªé˜³å…¬è½¬å‘¨æœŸçº¦ä¸º365.2422å¤©ï¼Œå¹³å¹´365å¤©ä¼šç´¯ç§¯è¯¯å·®ï¼Œé—°å¹´é€šè¿‡å¢åŠ 2æœˆ1å¤©ï¼ˆ29å¤©ï¼‰æ¥ä¿®æ­£ã€‚</p>
<h2 id="è®¡ç®—æ¯æœˆç¬¬ä¸€å¤©çš„æ˜ŸæœŸï¼šæœˆå†çš„ã€Œå®šä½ä»ªã€"><a href="#è®¡ç®—æ¯æœˆç¬¬ä¸€å¤©çš„æ˜ŸæœŸï¼šæœˆå†çš„ã€Œå®šä½ä»ªã€" class="headerlink" title="è®¡ç®—æ¯æœˆç¬¬ä¸€å¤©çš„æ˜ŸæœŸï¼šæœˆå†çš„ã€Œå®šä½ä»ªã€"></a>è®¡ç®—æ¯æœˆç¬¬ä¸€å¤©çš„æ˜ŸæœŸï¼šæœˆå†çš„ã€Œå®šä½ä»ªã€</h2><p>è¿™ä¸ªå‡½æ•°æ˜¯æœˆå†æ‰“å°çš„ã€Œå®šä½ä»ªã€ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šè®¡ç®—ã€Œä»å…¬å…ƒ1å¹´1æœˆ1æ—¥åˆ°ç›®æ ‡å¹´æœˆ1æ—¥ã€çš„æ€»å¤©æ•°ï¼Œå†é€šè¿‡å–æ¨¡7å¾—åˆ°æ˜ŸæœŸå‡ ï¼ˆ0&#x3D;å‘¨æ—¥ï¼Œ1&#x3D;å‘¨ä¸€...6&#x3D;å‘¨å…­ï¼‰ã€‚å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç´¯è®¡åŸºå‡†å¤©æ•°</strong>ï¼š<code>(year - 1) * 365</code>è®¡ç®—æ‰€æœ‰å®Œæ•´å¹´çš„å¤©æ•°ï¼ŒåŠ ä¸Šé—°å¹´ä¿®æ­£é¡¹<code>(year - 1)/4 - (year - 1)/100 + (year - 1)/400</code>ï¼ˆæ¯4å¹´ä¸€é—°ï¼Œæ¯100å¹´å»é—°ï¼Œæ¯400å¹´åŠ é—°ï¼‰ï¼›</li>
<li><strong>é—°å¹´ä¿®æ­£</strong>ï¼šè‹¥å½“å‰å¹´æ˜¯é—°å¹´ä¸”æœˆä»½&gt;2ï¼ˆ2æœˆå·²è¿‡ï¼‰ï¼Œæ€»å¤©æ•°åŠ 1ï¼›</li>
<li><strong>æœˆä»½ç´¯è®¡</strong>ï¼šä»å½“å¹´1æœˆå¼€å§‹ç´¯åŠ å‰å‡ ä¸ªæœˆçš„å¤©æ•°ï¼ˆå¦‚è®¡ç®—3æœˆ1æ—¥ï¼Œéœ€ç´¯åŠ 1æœˆå’Œ2æœˆçš„å¤©æ•°ï¼‰ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹éªŒè¯</strong>ï¼ˆ2024å¹´3æœˆ1æ—¥ï¼‰ï¼š</p>
<ul>
<li>åŸºå‡†å¹´ï¼ˆ2023å¹´åŠä¹‹å‰ï¼‰ï¼š2023Ã—365 + 2023&#x2F;4 - 2023&#x2F;100 + 2023&#x2F;400 &#x3D; 738315 + 505 - 20 + 5 &#x3D; 738805å¤©ï¼›</li>
<li>é—°å¹´ä¿®æ­£ï¼š2024æ˜¯é—°å¹´ä¸”æœˆä»½&gt;2ï¼ŒåŠ 1å¤© â†’ 738806å¤©ï¼›</li>
<li>æœˆä»½ç´¯è®¡ï¼š1æœˆï¼ˆ31ï¼‰+2æœˆï¼ˆ29ï¼Œé—°å¹´ï¼‰&#x3D;60å¤© â†’ æ€»å¤©æ•°738806+60&#x3D;738866å¤©ï¼›</li>
<li>738866 % 7 &#x3D; 2 â†’ 2024å¹´3æœˆ1æ—¥æ˜¯å‘¨äºŒï¼ˆ<code>week_day[2]</code>ï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="åŠŸèƒ½å®ç°ï¼šä»ä»£ç åˆ°äº¤äº’çš„å…¨é“¾è·¯"><a href="#åŠŸèƒ½å®ç°ï¼šä»ä»£ç åˆ°äº¤äº’çš„å…¨é“¾è·¯" class="headerlink" title="åŠŸèƒ½å®ç°ï¼šä»ä»£ç åˆ°äº¤äº’çš„å…¨é“¾è·¯"></a>åŠŸèƒ½å®ç°ï¼šä»ä»£ç åˆ°äº¤äº’çš„å…¨é“¾è·¯</h1><h2 id="æœˆå†æ‰“å°ï¼šå¯¹é½çš„è‰ºæœ¯"><a href="#æœˆå†æ‰“å°ï¼šå¯¹é½çš„è‰ºæœ¯" class="headerlink" title="æœˆå†æ‰“å°ï¼šå¯¹é½çš„è‰ºæœ¯"></a>æœˆå†æ‰“å°ï¼šå¯¹é½çš„è‰ºæœ¯</h2><p>æœˆå†çš„æ ¸å¿ƒæ˜¯ã€Œå¯¹é½ã€â€”â€”æ ¹æ®æ¯æœˆç¬¬ä¸€å¤©çš„æ˜ŸæœŸï¼Œåœ¨æœˆåˆå¡«å……ç©ºç™½ï¼Œç„¶åé€è¡Œæ‰“å°æ—¥æœŸã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void calendar_month(int year, int month) &#123;</span><br><span class="line">    printf(&quot;æ—¥\tä¸€\täºŒ\tä¸‰\tå››\täº”\tå…­\n&quot;);  // è¡¨å¤´</span><br><span class="line">    for (int i = 0; i &lt; 51; i++) printf(&quot;=&quot;);  // åˆ†éš”çº¿</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    int first_day = month_first_day(year, month) % 7;  // å½“æœˆ1æ—¥çš„æ˜ŸæœŸï¼ˆ0=å‘¨æ—¥ï¼‰</span><br><span class="line">    for (int i = 0; i &lt; first_day; i++) printf(&quot;\t&quot;);  // å¡«å……æœˆåˆç©ºç™½</span><br><span class="line"></span><br><span class="line">    // æ‰“å°æ—¥æœŸï¼ˆ1æ—¥åˆ°æœˆæœ«ï¼‰</span><br><span class="line">    for (int d = 1; d &lt;= mon[month - 1]; d++) &#123;</span><br><span class="line">        printf(&quot;%d\t&quot;, d);</span><br><span class="line">        if ((first_day + d) % 7 == 0) printf(&quot;\n&quot;);  // æ¯7å¤©æ¢è¡Œ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼ˆ2024å¹´3æœˆï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ—¥	ä¸€	äºŒ	ä¸‰	å››	äº”	å…­</span><br><span class="line">===============================</span><br><span class="line">                1	2	3	4	5</span><br><span class="line">6	7	8	9	10	11	12</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="è®¡ç®—æ—¥æœŸå·®ï¼šæ€»å¤©æ•°ç›¸å‡çš„å·§æ€"><a href="#è®¡ç®—æ—¥æœŸå·®ï¼šæ€»å¤©æ•°ç›¸å‡çš„å·§æ€" class="headerlink" title="è®¡ç®—æ—¥æœŸå·®ï¼šæ€»å¤©æ•°ç›¸å‡çš„å·§æ€"></a>è®¡ç®—æ—¥æœŸå·®ï¼šæ€»å¤©æ•°ç›¸å‡çš„å·§æ€</h2><p>è®¡ç®—ä¸¤ä¸ªæ—¥æœŸçš„å¤©æ•°å·®ï¼Œæœ¬è´¨æ˜¯ã€Œæ€»å¤©æ•°ç›¸å‡ã€ã€‚ä»£ç é€šè¿‡<code>month_first_day</code>è·å–ä¸¤ä¸ªæ—¥æœŸåˆ°å¹´åˆçš„æ€»å¤©æ•°ï¼Œå†æ±‚å·®å€¼çš„ç»å¯¹å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">case 1: &#123;</span><br><span class="line">    int days = month_first_day(year, month) + day;  // å½“å‰æ—¥æœŸåˆ°å¹´åˆçš„æ€»å¤©æ•°</span><br><span class="line">    printf(&quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªæ—¥æœŸï¼Œä¾‹å¦‚2025å¹´6æœˆ2æ—¥\n&quot;);</span><br><span class="line">    scanf(&quot;%då¹´%dæœˆ%dæ—¥&quot;, &amp;year, &amp;month, &amp;day);</span><br><span class="line">    days = days - (month_first_day(year, month) + day);  // å‡å»ç¬¬äºŒä¸ªæ—¥æœŸçš„æ€»å¤©æ•°</span><br><span class="line">    printf(&quot;å¤©æ•°å·®ä¸ºï¼š%d\n&quot;, abs(days));  // å–ç»å¯¹å€¼</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥è¯¢æ˜ŸæœŸå‡ ï¼šæ˜ŸæœŸçš„ã€Œè§£ç å™¨ã€"><a href="#æŸ¥è¯¢æ˜ŸæœŸå‡ ï¼šæ˜ŸæœŸçš„ã€Œè§£ç å™¨ã€" class="headerlink" title="æŸ¥è¯¢æ˜ŸæœŸå‡ ï¼šæ˜ŸæœŸçš„ã€Œè§£ç å™¨ã€"></a>æŸ¥è¯¢æ˜ŸæœŸå‡ ï¼šæ˜ŸæœŸçš„ã€Œè§£ç å™¨ã€</h2><p>é€šè¿‡<code>month_first_day</code>è·å–å½“æœˆ1æ—¥çš„æ˜ŸæœŸï¼Œå†åŠ ä¸Šæ—¥æœŸæ•°å‡1ï¼ˆå› ä¸º1æ—¥æ˜¯ç¬¬0å¤©ï¼‰ï¼Œæœ€åå–æ¨¡7å¾—åˆ°æ˜ŸæœŸç´¢å¼•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">case 2: &#123;</span><br><span class="line">    int week_index = (month_first_day(year, month) % 7 + day - 1) % 7;</span><br><span class="line">    printf(&quot;%då¹´%dæœˆ%dæ—¥æ˜¯ %s\n&quot;, year, month, day, week_day[week_index]);</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¾“å…¥éªŒè¯ï¼šé˜²é”™è®¾è®¡"><a href="#è¾“å…¥éªŒè¯ï¼šé˜²é”™è®¾è®¡" class="headerlink" title="è¾“å…¥éªŒè¯ï¼šé˜²é”™è®¾è®¡"></a>è¾“å…¥éªŒè¯ï¼šé˜²é”™è®¾è®¡</h2><p>ä»£ç é€šè¿‡å¤šé‡æ ¡éªŒç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ—¥æœŸåˆæ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ—¥æœŸåˆæ³•æ€§æ ¡éªŒï¼ˆcase 1-4å…±ç”¨ï¼‰</span><br><span class="line">int max_day = mon[month - 1];  // å½“æœˆæœ€å¤§å¤©æ•°ï¼ˆå¹³å¹´ï¼‰</span><br><span class="line">if (month == 2 &amp;&amp; is_leap_year(year)) max_day++;  // é—°å¹´äºŒæœˆä¿®æ­£</span><br><span class="line">if (day &lt; 1 || day &gt; max_day || month &lt; 1 || month &gt; 12 || year &lt; 0) &#123;</span><br><span class="line">    printf(&quot;é”™è¯¯ï¼Œé‡æ–°è¾“å…¥\n&quot;);</span><br><span class="line">    continue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="äº¤äº’è®¾è®¡ï¼šä»å‘½ä»¤è¡Œåˆ°ç”¨æˆ·ä½“éªŒ"><a href="#äº¤äº’è®¾è®¡ï¼šä»å‘½ä»¤è¡Œåˆ°ç”¨æˆ·ä½“éªŒ" class="headerlink" title="äº¤äº’è®¾è®¡ï¼šä»å‘½ä»¤è¡Œåˆ°ç”¨æˆ·ä½“éªŒ"></a>äº¤äº’è®¾è®¡ï¼šä»å‘½ä»¤è¡Œåˆ°ç”¨æˆ·ä½“éªŒ</h1><p>ä¸»å‡½æ•°é€šè¿‡<code>do-while</code>å¾ªç¯å®ç°èœå•é©±åŠ¨çš„äº¤äº’ç•Œé¢ï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ¸…ç©ºè¾“å…¥ç¼“å†²åŒº</strong>ï¼šé¿å…å› è¾“å…¥é”™è¯¯ï¼ˆå¦‚è¾“å…¥å­—æ¯ï¼‰å¯¼è‡´çš„æ­»å¾ªç¯ï¼›</li>
<li><strong>èœå•å¼•å¯¼</strong>ï¼šæ¸…æ™°çš„é€‰é¡¹æç¤ºï¼ˆ1-5ï¼‰ï¼›</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¯¹éæ³•è¾“å…¥ï¼ˆå¦‚æœˆä»½13ã€æ—¥æœŸ32ï¼‰è¿›è¡Œå‹å¥½æç¤ºï¼›</li>
<li><strong>åŠŸèƒ½åˆ†å‘</strong>ï¼šæ ¹æ®ç”¨æˆ·é€‰æ‹©è°ƒç”¨å¯¹åº”å‡½æ•°ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹äº¤äº’æµç¨‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·è¾“å…¥ä½ æƒ³é€‰æ‹©çš„åŠŸèƒ½ï¼š</span><br><span class="line">1.è®¡ç®—æŒ‡å®šæ—¥æœŸé—´çš„å¤©æ•°</span><br><span class="line">2.è®¡ç®—æŒ‡å®šæ—¥æœŸæ˜¯æ˜ŸæœŸå‡ </span><br><span class="line">3.æ‰“å°æŒ‡å®šæ—¥æœŸçš„æœˆå†</span><br><span class="line">4.æ‰“å°æŒ‡å®šæ—¥æœŸå¹´å†</span><br><span class="line">5.é€€å‡º</span><br><span class="line">1</span><br><span class="line">è¯·è¾“å…¥æ—¥æœŸï¼Œä¾‹å¦‚2025å¹´6æœˆ2æ—¥</span><br><span class="line">2024å¹´3æœˆ1æ—¥</span><br><span class="line">è¯·è¾“å…¥ç¬¬äºŒä¸ªæ—¥æœŸï¼Œä¾‹å¦‚2025å¹´6æœˆ2æ—¥</span><br><span class="line">2024å¹´3æœˆ2æ—¥</span><br><span class="line">è®¡ç®—æŒ‡å®šæ—¥æœŸé—´çš„å¤©æ•°å·®ä¸ºï¼š1</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å®Œæ•´æºä»£ç "><a href="#å®Œæ•´æºä»£ç " class="headerlink" title="å®Œæ•´æºä»£ç "></a>å®Œæ•´æºä»£ç </h1><p>ä»¥ä¸‹æ˜¯é¡¹ç›®çš„å®Œæ•´Cè¯­è¨€æºä»£ç ï¼Œå¯ç›´æ¥å¤åˆ¶ç¼–è¯‘è¿è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdbool.h&gt;</span><br><span class="line">#include&quot;function.h&quot;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">	</span><br><span class="line">	do &#123;</span><br><span class="line">		printf(&quot;è¯·è¾“å…¥ä½ æƒ³é€‰æ‹©çš„åŠŸèƒ½ï¼š\n1.è®¡ç®—æŒ‡å®šæ—¥æœŸé—´çš„å¤©æ•°\n2.è®¡ç®—æŒ‡å®šæ—¥æœŸæ˜¯æ˜ŸæœŸå‡ \n3.æ‰“å°æŒ‡å®šæ—¥æœŸçš„æœˆå†\n4.æ‰“å°æŒ‡å®šæ—¥æœŸå¹´å†\n5.é€€å‡º\n&quot;);</span><br><span class="line">		scanf(&quot; %d&quot;, &amp;num);</span><br><span class="line">		while (getchar() != &#x27;\n&#x27;);</span><br><span class="line">		if (num &gt; 0 &amp;&amp; num &lt; 5)</span><br><span class="line">		&#123;</span><br><span class="line">			printf(&quot;è¯·è¾“å…¥æ—¥æœŸï¼Œä¾‹å¦‚2025å¹´6æœˆ2æ—¥\n&quot;);</span><br><span class="line">			if (scanf(&quot;%då¹´%dæœˆ%dæ—¥&quot;, &amp;year, &amp;month, &amp;day) != 3) &#123;</span><br><span class="line">				while (getchar() != &#x27;\n&#x27;);</span><br><span class="line">				printf(&quot;è¾“å…¥æ ¼å¼é”™è¯¯ï¼\n&quot;);</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			if (day &gt; mon[month - 1] || is_leap_year(year) &amp;&amp; month == 2 &amp;&amp; day &gt; mon[1] + 1 || month &gt; 12 || day &lt; 0 || month &lt; 0 || year &lt; 0)</span><br><span class="line">			&#123;</span><br><span class="line">				printf(&quot;é”™è¯¯ï¼Œé‡æ–°è¾“å…¥\n&quot;);</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		switch (num) &#123;</span><br><span class="line">		case 1:</span><br><span class="line">		&#123;</span><br><span class="line">			days = month_first_day(year, month) + day;</span><br><span class="line">			printf(&quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªæ—¥æœŸï¼Œä¾‹å¦‚2025å¹´6æœˆ2æ—¥\n&quot;);</span><br><span class="line">			while (scanf(&quot;%då¹´%dæœˆ%dæ—¥&quot;, &amp;year, &amp;month, &amp;day) != 3) &#123;</span><br><span class="line">				while (getchar() != &#x27;\n&#x27;);</span><br><span class="line">				printf(&quot;è¾“å…¥æ ¼å¼é”™è¯¯2ï¼\n&quot;);</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			days = days - (month_first_day(year, month) + day);</span><br><span class="line">			days = days &lt; 0 ? -days : days;</span><br><span class="line">			printf(&quot;è®¡ç®—æŒ‡å®šæ—¥æœŸé—´çš„å¤©æ•°å·®ä¸º%d\n&quot;, days);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		case 2:</span><br><span class="line">		&#123;</span><br><span class="line">			printf(&quot;%då¹´%dæœˆ%dæ—¥æ˜¯ %s\n&quot;, year, month, day, week_day[(month_first_day(year, month) % 7 + day - 1) % 7]);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		case 3:</span><br><span class="line">		&#123;</span><br><span class="line">			calendar_month(year, month, day);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		case 4:</span><br><span class="line">		&#123;</span><br><span class="line">			for (int month = 1; month &lt; 13; month++)</span><br><span class="line">			&#123;</span><br><span class="line">				day = 1;</span><br><span class="line">				printf(&quot;\n\n&quot;);</span><br><span class="line">				printf(&quot;\t\t     %då¹´%dæœˆ\t\t\t&quot;, year, month);</span><br><span class="line">				printf(&quot;\n\n&quot;);</span><br><span class="line">				calendar_month(year, month, 1);</span><br><span class="line">				printf(&quot;\n&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			printf(&quot;\n&quot;);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		default:</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; while (num != 5);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä»£ç äº®ç‚¹æ€»ç»“"><a href="#ä»£ç äº®ç‚¹æ€»ç»“" class="headerlink" title="ä»£ç äº®ç‚¹æ€»ç»“"></a>ä»£ç äº®ç‚¹æ€»ç»“</h1><ul>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šé€šè¿‡å‡½æ•°æ‹†åˆ†ï¼ˆå¦‚<code>is_leap_year</code>ã€<code>month_first_day</code>ï¼‰å®ç°é€»è¾‘è§£è€¦ï¼Œä¾¿äºç»´æŠ¤ï¼›</li>
<li><strong>è¾“å…¥éªŒè¯</strong>ï¼šä½¿ç”¨<code>while (getchar() != &#39; &#39;)</code>æ¸…ç©ºç¼“å†²åŒºï¼Œé¿å…å› è¾“å…¥é”™è¯¯å¯¼è‡´çš„æ­»å¾ªç¯ï¼›</li>
<li><strong>é«˜æ•ˆç®—æ³•</strong>ï¼šåŸºäºæ€»å¤©æ•°å·®è®¡ç®—æ—¥æœŸé—´éš”ï¼Œé¿å…é€æœˆç´¯åŠ çš„ä½æ•ˆæ“ä½œï¼›</li>
<li><strong>å‹å¥½çš„äº¤äº’</strong>ï¼šæ¸…æ™°çš„èœå•å¼•å¯¼å’Œé”™è¯¯æç¤ºï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„å®Œæ•´ä»£ç ï¼Œè¯»è€…å¯ç›´æ¥è¿è¡Œå¹¶ä½“éªŒæ—¥æœŸå·¥å…·çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒæ—¶æ·±å…¥ç†è§£æ—¥æœŸå¤„ç†çš„åº•å±‚é€»è¾‘ï¼</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Practical System Development</category>
      </categories>
      <tags>
        <tag>CODE</tag>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>Cæ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°å¤ç°</title>
    <url>/posts/83143407/</url>
    <content><![CDATA[<img src="/img/PageCode/3.png" alt="Cæ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°å¤ç°" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤ç°æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤ç°æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤ç°æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤ç°æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°ï¼Ÿ</h1><p>åœ¨Cè¯­è¨€å¼€å‘ä¸­ï¼Œ&#96;&#96;æä¾›çš„å­—ç¬¦ä¸²å‡½æ•°ï¼ˆå¦‚<code>strlen</code>ã€<code>strcpy</code>ï¼‰æ˜¯æœ€å¸¸ç”¨çš„å·¥å…·ä¹‹ä¸€ã€‚ä½†è¿™äº›å‡½æ•°çš„åº•å±‚å®ç°é€»è¾‘ä½ çœŸçš„æ¸…æ¥šå—ï¼Ÿ</p>
<ul>
<li><strong>å­¦ä¹ ä»·å€¼</strong>ï¼šå¤ç°æ ‡å‡†åº“å‡½æ•°èƒ½å¸®ä½ æ·±å…¥ç†è§£å­—ç¬¦ä¸²æ“ä½œçš„åº•å±‚é€»è¾‘ï¼ˆå¦‚ç©ºç»ˆæ­¢ç¬¦çš„ä½œç”¨ã€å†…å­˜å¤åˆ¶çš„å®‰å…¨æ€§ï¼‰ï¼›</li>
<li><strong>å·¥ç¨‹å®è·µ</strong>ï¼šåœ¨åµŒå…¥å¼å¼€å‘ã€æ“ä½œç³»ç»Ÿå†…æ ¸ç­‰åœºæ™¯ä¸­ï¼Œå¯èƒ½å› å†…å­˜é™åˆ¶æˆ–å®‰å…¨è¦æ±‚æ— æ³•ç›´æ¥ä½¿ç”¨æ ‡å‡†åº“ï¼Œéœ€è‡ªå®šä¹‰å®ç°ï¼›</li>
<li><strong>é¿å‘æŒ‡å—</strong>ï¼šäº†è§£æ ‡å‡†åº“å‡½æ•°çš„æ½œåœ¨é—®é¢˜ï¼ˆå¦‚<code>strcpy</code>çš„ç¼“å†²åŒºæº¢å‡ºé£é™©ï¼‰ï¼Œèƒ½å¸®åŠ©ä½ åœ¨å®é™…å¼€å‘ä¸­å†™å‡ºæ›´å®‰å…¨çš„ä»£ç ã€‚</li>
</ul>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±é€šè¿‡å¤ç°6ä¸ªæ ¸å¿ƒå­—ç¬¦ä¸²å‡½æ•°ï¼ˆ<code>strlen</code>ã€<code>strcpy</code>ã€<code>strncpy</code>ã€<code>strcat</code>ã€<code>strncat</code>ã€<code>strcmp</code>ï¼‰ï¼Œå½»åº•æŒæ¡å­—ç¬¦ä¸²æ“ä½œçš„åº•å±‚åŸç†ï¼</p>
<hr>
<h1 id="å¤ç°1ï¼šmy-strlenâ€”â€”è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦"><a href="#å¤ç°1ï¼šmy-strlenâ€”â€”è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å¤ç°1ï¼šmy_strlenâ€”â€”è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦"></a>å¤ç°1ï¼š<code>my_strlen</code>â€”â€”è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦</h1><h2 id="åŠŸèƒ½è¯´æ˜"><a href="#åŠŸèƒ½è¯´æ˜" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strlen</code>ç”¨äºè®¡ç®—å­—ç¬¦ä¸²çš„æœ‰æ•ˆå­—ç¬¦æ•°ï¼ˆä¸åŒ…å«ç©ºç»ˆæ­¢ç¬¦<code>\0</code>ï¼‰ã€‚</p>
<h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>ä»å­—ç¬¦ä¸²èµ·å§‹åœ°å€å¼€å§‹éå†ï¼Œæ¯é‡åˆ°ä¸€ä¸ªé<code>\0</code>å­—ç¬¦è®¡æ•°åŠ 1ï¼Œç›´åˆ°é‡åˆ°<code>\0</code>åœæ­¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">size_t my_strlen(const char *p) &#123;</span><br><span class="line">    size_t count = 0;</span><br><span class="line">    while (*p != &#x27;\0&#x27;) &#123;  // éå†ç›´åˆ°ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">        count++;</span><br><span class="line">        p++;              // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">    &#125;</span><br><span class="line">    return count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹"><a href="#å…³é”®ç‚¹" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>ä½¿ç”¨<code>size_t</code>ç±»å‹é¿å…è´Ÿæ•°é—®é¢˜ï¼ˆé•¿åº¦ä¸å¯èƒ½ä¸ºè´Ÿï¼‰ï¼›</li>
<li>æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼ˆnä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼ˆä»…ç”¨è®¡æ•°å™¨ï¼‰ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char p[30] = &quot;122345&quot;; </span><br><span class="line">printf(&quot;%zu\n&quot;, my_strlen(p));  // è¾“å‡º6ï¼ˆå­—ç¬¦&#x27;1&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å¤ç°2ï¼šmy-strcpyâ€”â€”å¤åˆ¶å­—ç¬¦ä¸²å†…å®¹"><a href="#å¤ç°2ï¼šmy-strcpyâ€”â€”å¤åˆ¶å­—ç¬¦ä¸²å†…å®¹" class="headerlink" title="å¤ç°2ï¼šmy_strcpyâ€”â€”å¤åˆ¶å­—ç¬¦ä¸²å†…å®¹"></a>å¤ç°2ï¼š<code>my_strcpy</code>â€”â€”å¤åˆ¶å­—ç¬¦ä¸²å†…å®¹</h1><h2 id="åŠŸèƒ½è¯´æ˜-1"><a href="#åŠŸèƒ½è¯´æ˜-1" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strcpy</code>å°†æºå­—ç¬¦ä¸²ï¼ˆ<code>src</code>ï¼‰çš„å†…å®¹å¤åˆ¶åˆ°ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆ<code>dest</code>ï¼‰ï¼Œå¹¶ç¡®ä¿<code>dest</code>ä»¥<code>\0</code>ç»“å°¾ã€‚</p>
<h2 id="å®ç°åŸç†-1"><a href="#å®ç°åŸç†-1" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><ol>
<li>ä¿å­˜<code>dest</code>çš„èµ·å§‹åœ°å€ï¼ˆç”¨äºè¿”å›ï¼‰ï¼›</li>
<li>é€ä¸ªå¤åˆ¶<code>src</code>çš„å­—ç¬¦åˆ°<code>dest</code>ï¼Œç›´åˆ°é‡åˆ°<code>src</code>çš„<code>\0</code>ï¼›</li>
<li>æ‰‹åŠ¨åœ¨<code>dest</code>æœ«å°¾æ·»åŠ <code>\0</code>ï¼ˆç¡®ä¿ç›®æ ‡å­—ç¬¦ä¸²åˆæ³•ï¼‰ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *my_strcpy(char *dest, const char *src) &#123;</span><br><span class="line">    char *tmp = dest;       // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    while (*src != &#x27;\0&#x27;) &#123;  // å¤åˆ¶ç›´åˆ°æºå­—ç¬¦ä¸²ç»“æŸ</span><br><span class="line">        *dest++ = *src++;   // é€ä¸ªå­—ç¬¦å¤åˆ¶ï¼ˆåç½®++é¿å…è¦†ç›–ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">    *dest = &#x27;\0&#x27;;           // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">    return tmp;             // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹-1"><a href="#å…³é”®ç‚¹-1" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>å¿…é¡»ç¡®ä¿<code>dest</code>æœ‰è¶³å¤Ÿç©ºé—´å®¹çº³<code>src</code>çš„å†…å®¹ï¼ˆå¦åˆ™ä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡ºï¼‰ï¼›</li>
<li>è¿”å›<code>dest</code>çš„èµ·å§‹åœ°å€æ˜¯ä¸ºäº†æ”¯æŒé“¾å¼è°ƒç”¨ï¼ˆå¦‚<code>strcpy(dest, strcpy(tmp, src))</code>ï¼‰ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹-1"><a href="#æµ‹è¯•ç”¨ä¾‹-1" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char p[30] = &quot;122345&quot;; </span><br><span class="line">char q[] = &quot;12234&quot;; </span><br><span class="line">printf(&quot;%s\n&quot;, my_strcpy(p, q));  // è¾“å‡º&quot;12234&quot;ï¼ˆpè¢«è¦†ç›–ä¸ºqçš„å†…å®¹ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å¤ç°3ï¼šmy-strncpyâ€”â€”å®‰å…¨å¤åˆ¶ï¼ˆé™åˆ¶é•¿åº¦ï¼‰"><a href="#å¤ç°3ï¼šmy-strncpyâ€”â€”å®‰å…¨å¤åˆ¶ï¼ˆé™åˆ¶é•¿åº¦ï¼‰" class="headerlink" title="å¤ç°3ï¼šmy_strncpyâ€”â€”å®‰å…¨å¤åˆ¶ï¼ˆé™åˆ¶é•¿åº¦ï¼‰"></a>å¤ç°3ï¼š<code>my_strncpy</code>â€”â€”å®‰å…¨å¤åˆ¶ï¼ˆé™åˆ¶é•¿åº¦ï¼‰</h1><h2 id="åŠŸèƒ½è¯´æ˜-2"><a href="#åŠŸèƒ½è¯´æ˜-2" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strncpy</code>å°†æºå­—ç¬¦ä¸²çš„å‰<code>n</code>ä¸ªå­—ç¬¦å¤åˆ¶åˆ°ç›®æ ‡å­—ç¬¦ä¸²ï¼Œè‹¥æºå­—ç¬¦ä¸²é•¿åº¦å°äº<code>n</code>ï¼Œåˆ™ç”¨<code>\0</code>å¡«å……å‰©ä½™ç©ºé—´ã€‚</p>
<h2 id="å®ç°åŸç†-2"><a href="#å®ç°åŸç†-2" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><ol>
<li>éå†æºå­—ç¬¦ä¸²çš„å‰<code>n</code>ä¸ªå­—ç¬¦ï¼ˆæˆ–ç›´åˆ°é‡åˆ°<code>\0</code>ï¼‰ï¼›</li>
<li>è‹¥æºå­—ç¬¦ä¸²é•¿åº¦ä¸è¶³<code>n</code>ï¼Œç»§ç»­ç”¨<code>\0</code>å¡«å……ç›®æ ‡å­—ç¬¦ä¸²è‡³<code>n</code>é•¿åº¦ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *my_strncpy(char *dest, const char *src, size_t n) &#123;</span><br><span class="line">    size_t i;</span><br><span class="line">    for (i = 0; i &lt; n &amp;&amp; src[i] != &#x27;\0&#x27;; i++) &#123;  // å¤åˆ¶å‰nä¸ªæœ‰æ•ˆå­—ç¬¦</span><br><span class="line">        dest[i] = src[i];</span><br><span class="line">    &#125;</span><br><span class="line">    for (; i &lt; n; i++) &#123;                        // å¡«å……å‰©ä½™ç©ºé—´ä¸º\0</span><br><span class="line">        dest[i] = &#x27;\0&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    return dest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹-2"><a href="#å…³é”®ç‚¹-2" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>è‹¥<code>n</code>å¤§äºæºå­—ç¬¦ä¸²é•¿åº¦ï¼Œç›®æ ‡å­—ç¬¦ä¸²æœ«å°¾ä¼šè¢«å¡«å……<code>\0</code>ï¼ˆé¿å…æœªç»ˆæ­¢ï¼‰ï¼›</li>
<li>è‹¥<code>n</code>å°äºæºå­—ç¬¦ä¸²é•¿åº¦ï¼Œä»…å¤åˆ¶å‰<code>n</code>ä¸ªå­—ç¬¦ï¼ˆç›®æ ‡å­—ç¬¦ä¸²ä¸ä¼šä»¥<code>\0</code>ç»“å°¾ï¼éœ€é¢å¤–å¤„ç†ï¼‰ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹-2"><a href="#æµ‹è¯•ç”¨ä¾‹-2" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char p[30] = &quot;122345&quot;; </span><br><span class="line">char a[] = &quot;128757&quot;; </span><br><span class="line">printf(&quot;%s\n&quot;, my_strncpy(p, a, 4));  // è¾“å‡º&quot;1287&quot;ï¼ˆå¤åˆ¶å‰4ä¸ªå­—ç¬¦ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å¤ç°4ï¼šmy-strcatâ€”â€”æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#å¤ç°4ï¼šmy-strcatâ€”â€”æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="å¤ç°4ï¼šmy_strcatâ€”â€”æ‹¼æ¥å­—ç¬¦ä¸²"></a>å¤ç°4ï¼š<code>my_strcat</code>â€”â€”æ‹¼æ¥å­—ç¬¦ä¸²</h1><h2 id="åŠŸèƒ½è¯´æ˜-3"><a href="#åŠŸèƒ½è¯´æ˜-3" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strcat</code>å°†æºå­—ç¬¦ä¸²ï¼ˆ<code>src</code>ï¼‰çš„å†…å®¹è¿½åŠ åˆ°ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆ<code>dest</code>ï¼‰çš„æœ«å°¾ï¼Œå¹¶ç¡®ä¿<code>dest</code>ä»¥<code>\0</code>ç»“å°¾ã€‚</p>
<h2 id="å®ç°åŸç†-3"><a href="#å®ç°åŸç†-3" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><ol>
<li>æ‰¾åˆ°<code>dest</code>çš„æœ«å°¾ï¼ˆç©ºç»ˆæ­¢ç¬¦ä½ç½®ï¼‰ï¼›</li>
<li>å°†<code>src</code>çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°<code>dest</code>æœ«å°¾ï¼Œç›´åˆ°<code>src</code>ç»“æŸï¼›</li>
<li>æ‰‹åŠ¨åœ¨<code>dest</code>æœ«å°¾æ·»åŠ <code>\0</code>ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *my_strcat(char *dest, const char *src) &#123;</span><br><span class="line">    char *tmp = dest;       // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    while (*dest != &#x27;\0&#x27;) &#123; // æ‰¾åˆ°destçš„æœ«å°¾</span><br><span class="line">        dest++;</span><br><span class="line">    &#125;</span><br><span class="line">    while ((*dest++ = *src++) != &#x27;\0&#x27;);  // å¤åˆ¶srcåˆ°destæœ«å°¾</span><br><span class="line">    *dest = &#x27;\0&#x27;;           // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦ï¼ˆé˜²æ­¢srcæœªç»ˆæ­¢å¯¼è‡´destè¶Šç•Œï¼‰</span><br><span class="line">    return tmp;             // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹-3"><a href="#å…³é”®ç‚¹-3" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>å¿…é¡»ç¡®ä¿<code>dest</code>æœ‰è¶³å¤Ÿç©ºé—´å®¹çº³<code>src</code>çš„å†…å®¹ï¼ˆå¦åˆ™ä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡ºï¼‰ï¼›</li>
<li>è‹¥<code>dest</code>åŸæœ¬ä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆ<code>&quot;&quot;</code>ï¼‰ï¼Œåˆ™ç›´æ¥å¤åˆ¶<code>src</code>ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹-3"><a href="#æµ‹è¯•ç”¨ä¾‹-3" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char p[30] = &quot;122345&quot;; </span><br><span class="line">char a[] = &quot;128757&quot;; </span><br><span class="line">printf(&quot;%s\n&quot;, my_strcat(p, a));  // è¾“å‡º&quot;122345128757&quot;ï¼ˆpè¢«æ‰©å±•ä¸ºä¸¤å­—ç¬¦ä¸²æ‹¼æ¥ç»“æœï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å¤ç°5ï¼šmy-strncatâ€”â€”å®‰å…¨æ‹¼æ¥ï¼ˆé™åˆ¶é•¿åº¦ï¼‰"><a href="#å¤ç°5ï¼šmy-strncatâ€”â€”å®‰å…¨æ‹¼æ¥ï¼ˆé™åˆ¶é•¿åº¦ï¼‰" class="headerlink" title="å¤ç°5ï¼šmy_strncatâ€”â€”å®‰å…¨æ‹¼æ¥ï¼ˆé™åˆ¶é•¿åº¦ï¼‰"></a>å¤ç°5ï¼š<code>my_strncat</code>â€”â€”å®‰å…¨æ‹¼æ¥ï¼ˆé™åˆ¶é•¿åº¦ï¼‰</h1><h2 id="åŠŸèƒ½è¯´æ˜-4"><a href="#åŠŸèƒ½è¯´æ˜-4" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strncat</code>å°†æºå­—ç¬¦ä¸²çš„å‰<code>n</code>ä¸ªå­—ç¬¦è¿½åŠ åˆ°ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆ<code>dest</code>ï¼‰çš„æœ«å°¾ï¼Œå¹¶ç¡®ä¿<code>dest</code>ä»¥<code>\0</code>ç»“å°¾ã€‚</p>
<h2 id="å®ç°åŸç†-4"><a href="#å®ç°åŸç†-4" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><ol>
<li>æ‰¾åˆ°<code>dest</code>çš„æœ«å°¾ï¼ˆç©ºç»ˆæ­¢ç¬¦ä½ç½®ï¼‰ï¼›</li>
<li>å¤åˆ¶æºå­—ç¬¦ä¸²çš„å‰<code>n</code>ä¸ªå­—ç¬¦åˆ°<code>dest</code>æœ«å°¾ï¼ˆè‹¥æºå­—ç¬¦ä¸²æå‰ç»“æŸåˆ™åœæ­¢ï¼‰ï¼›</li>
<li>æ‰‹åŠ¨åœ¨<code>dest</code>æœ«å°¾æ·»åŠ <code>\0</code>ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *my_strncat(char *dest, const char *src, size_t n) &#123;</span><br><span class="line">    char *tmp = dest;       // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    while (*dest != &#x27;\0&#x27;) &#123; // æ‰¾åˆ°destçš„æœ«å°¾</span><br><span class="line">        dest++;</span><br><span class="line">    &#125;</span><br><span class="line">    for (size_t i = 0; i &lt; n &amp;&amp; *src != &#x27;\0&#x27;; i++) &#123;  // å¤åˆ¶å‰nä¸ªå­—ç¬¦ï¼ˆæˆ–æºæå‰ç»“æŸï¼‰</span><br><span class="line">        *dest++ = *src++;</span><br><span class="line">    &#125;</span><br><span class="line">    *dest = &#x27;\0&#x27;;           // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">    return tmp;             // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹-4"><a href="#å…³é”®ç‚¹-4" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>è‹¥<code>n</code>å¤§äºæºå­—ç¬¦ä¸²é•¿åº¦ï¼Œä»…å¤åˆ¶æºçš„å…¨éƒ¨å†…å®¹å¹¶åœ¨æœ«å°¾æ·»åŠ <code>\0</code>ï¼›</li>
<li>è‹¥<code>n</code>å°äºæºå­—ç¬¦ä¸²é•¿åº¦ï¼Œå¤åˆ¶å‰<code>n</code>ä¸ªå­—ç¬¦åå¼ºåˆ¶ç»ˆæ­¢<code>dest</code>ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹-4"><a href="#æµ‹è¯•ç”¨ä¾‹-4" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char p[30] = &quot;122345&quot;; </span><br><span class="line">char a[] = &quot;128757&quot;; </span><br><span class="line">printf(&quot;%s\n&quot;, my_strncat(p, a, 4));  // è¾“å‡º&quot;1223451287&quot;ï¼ˆpæœ«å°¾è¿½åŠ å‰4ä¸ªå­—ç¬¦ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å¤ç°6ï¼šmy-strcmpâ€”â€”æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°"><a href="#å¤ç°6ï¼šmy-strcmpâ€”â€”æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°" class="headerlink" title="å¤ç°6ï¼šmy_strcmpâ€”â€”æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°"></a>å¤ç°6ï¼š<code>my_strcmp</code>â€”â€”æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°</h1><h2 id="åŠŸèƒ½è¯´æ˜-5"><a href="#åŠŸèƒ½è¯´æ˜-5" class="headerlink" title="åŠŸèƒ½è¯´æ˜"></a>åŠŸèƒ½è¯´æ˜</h2><p><code>my_strcmp</code>é€ä¸ªæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦ï¼Œè¿”å›å®ƒä»¬çš„å­—å…¸åºå…³ç³»ï¼ˆè´Ÿæ•°ã€0ã€æ­£æ•°åˆ†åˆ«è¡¨ç¤º<code>str1 &lt; str2</code>ã€<code>ç›¸ç­‰</code>ã€<code>str1 &gt; str2</code>ï¼‰ã€‚</p>
<h2 id="å®ç°åŸç†-5"><a href="#å®ç°åŸç†-5" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>é€ä¸ªæ¯”è¾ƒ<code>str1</code>å’Œ<code>str2</code>çš„å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°ä¸åŒçš„å­—ç¬¦æˆ–å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æŸï¼š</p>
<ul>
<li>è‹¥å­—ç¬¦å€¼ä¸åŒï¼Œè¿”å›å®ƒä»¬çš„ASCIIå·®å€¼ï¼ˆ<code>*(unsigned char *)str1 - *(unsigned char *)str2</code>ï¼‰ï¼›</li>
<li>è‹¥å…¨éƒ¨å­—ç¬¦ç›¸åŒä¸”åŒæ—¶ç»“æŸï¼Œè¿”å›0ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int my_strcmp(const char *str1, const char *str2) &#123;</span><br><span class="line">    while (*str1 &amp;&amp; *str2 &amp;&amp; *str1 == *str2) &#123;  </span><br><span class="line">    // å­—ç¬¦ç›¸åŒä¸”æœªç»“æŸåˆ™ç»§ç»­</span><br><span class="line">        str1++;</span><br><span class="line">        str2++;</span><br><span class="line">    &#125;</span><br><span class="line">    return *(unsigned char *)str1 - *(unsigned char *)str2;  </span><br><span class="line">    // è¿”å›å·®å€¼ï¼ˆå¤„ç†ç¬¦å·é—®é¢˜ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…³é”®ç‚¹-5"><a href="#å…³é”®ç‚¹-5" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>ä½¿ç”¨<code>unsigned char</code>å¼ºåˆ¶è½¬æ¢é¿å…ç¬¦å·æ‰©å±•é—®é¢˜ï¼ˆå¦‚<code>char</code>ä¸ºæœ‰ç¬¦å·ç±»å‹æ—¶ï¼Œ<code>\xff</code>ä¼šè¢«è§†ä¸º-1ï¼‰ï¼›</li>
<li>è‹¥ä¸¤ä¸ªå­—ç¬¦ä¸²å®Œå…¨ç›¸åŒä½†é•¿åº¦ä¸åŒï¼ˆå¦‚<code>&quot;abc&quot;</code>å’Œ<code>&quot;abcd&quot;</code>ï¼‰ï¼Œä¼šåœ¨è¾ƒçŸ­å­—ç¬¦ä¸²çš„<code>\0</code>å¤„åœæ­¢æ¯”è¾ƒï¼Œè¿”å›<code>\0 - &#39;d&#39;</code>ï¼ˆè´Ÿæ•°ï¼‰ã€‚</li>
</ul>
<h2 id="æµ‹è¯•ç”¨ä¾‹-5"><a href="#æµ‹è¯•ç”¨ä¾‹-5" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char a[] = &quot;128757&quot;; </span><br><span class="line">char q[] = &quot;12234&quot;; </span><br><span class="line">printf(&quot;%d\n&quot;, my_strcmp(a, q));  // è¾“å‡ºæ­£æ•°ï¼ˆ&quot;128757&quot; &gt; &quot;12234&quot;ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯æ‰€æœ‰å‡½æ•°"><a href="#ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯æ‰€æœ‰å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯æ‰€æœ‰å‡½æ•°"></a>ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯æ‰€æœ‰å‡½æ•°</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    char p[30] = &quot;122345&quot;;  // å¯ä¿®æ”¹çš„æ•°ç»„</span><br><span class="line">    char q[] = &quot;12234&quot;;</span><br><span class="line">    char a[] = &quot;128757&quot;;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strcmp</span><br><span class="line">    printf(&quot;%d\n&quot;, my_strcmp(a, q));  // è¾“å‡ºæ­£æ•°ï¼ˆ&quot;128757&quot; &gt; &quot;12234&quot;ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strlen</span><br><span class="line">    printf(&quot;%zu\n&quot;, my_strlen(p));  // è¾“å‡º6ï¼ˆå­—&#x27;1&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strcpy</span><br><span class="line">    printf(&quot;%s\n&quot;, my_strcpy(p, q));  // è¾“å‡º&quot;12234&quot;ï¼ˆpè¢«è¦†ç›–ä¸ºqçš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strcmpï¼ˆæ¯”è¾ƒä¿®æ”¹åçš„på’Œqï¼‰</span><br><span class="line">    printf(&quot;%d\n&quot;, my_strcmp(p, q));  // è¾“å‡º0ï¼ˆä¸¤è€…å†…å®¹ç›¸åŒï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strncpyï¼ˆå¤åˆ¶å‰4ä¸ªå­—ç¬¦ï¼‰</span><br><span class="line">    printf(&quot;%s\n&quot;, my_strncpy(p, a, 4));  // è¾“å‡º&quot;1287&quot;ï¼ˆpå‰4ä½è¢«è¦†ç›–ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strcatï¼ˆæ‹¼æ¥aåˆ°pæœ«å°¾ï¼‰</span><br><span class="line">    printf(&quot;%s\n&quot;, my_strcat(p, a));  // è¾“å‡º&quot;1287128757&quot;ï¼ˆpæœ«å°¾è¿½åŠ açš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strncatï¼ˆæ‹¼æ¥å‰4ä¸ªå­—ç¬¦ï¼‰</span><br><span class="line">    printf(&quot;%s\n&quot;, my_strncat(p, a, 4));  // è¾“å‡º&quot;128712871287&quot;ï¼ˆpæœ«å°¾è¿½åŠ å‰4ä¸ªå­—ç¬¦ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• strcpyï¼ˆå†æ¬¡è¦†ç›–pï¼‰</span><br><span class="line">    printf(&quot;%s\n&quot;, my_strcpy(p, q));  // è¾“å‡º&quot;12234&quot;ï¼ˆpè¢«è¦†ç›–ä¸ºqçš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ€»ç»“ï¼šå¤ç°æ ‡å‡†åº“å‡½æ•°çš„ä»·å€¼"><a href="#æ€»ç»“ï¼šå¤ç°æ ‡å‡†åº“å‡½æ•°çš„ä»·å€¼" class="headerlink" title="æ€»ç»“ï¼šå¤ç°æ ‡å‡†åº“å‡½æ•°çš„ä»·å€¼"></a>æ€»ç»“ï¼šå¤ç°æ ‡å‡†åº“å‡½æ•°çš„ä»·å€¼</h1><blockquote>
<p>é€šè¿‡æ‰‹åŠ¨å®ç°Cè¯­è¨€æ ‡å‡†åº“çš„å­—ç¬¦ä¸²å‡½æ•°ï¼Œæˆ‘ä»¬ä¸ä»…æŒæ¡äº†åº•å±‚å†…å­˜æ“ä½œçš„ç»†èŠ‚ï¼ˆå¦‚ç©ºç»ˆæ­¢ç¬¦çš„ä½œç”¨ã€ç¼“å†²åŒºæº¢å‡ºçš„é£é™©ï¼‰ï¼Œæ›´æ·±å…¥ç†è§£äº†è¿™äº›å‡½æ•°çš„è®¾è®¡é€»è¾‘å’Œæ½œåœ¨é™·é˜±ã€‚è¿™å¯¹æå‡ä»£ç çš„å®‰å…¨æ€§ï¼ˆå¦‚é¿å…<code>strcpy</code>çš„ç¼“å†²åŒºæº¢å‡ºï¼‰ã€ä¼˜åŒ–æ€§èƒ½ï¼ˆå¦‚<code>strncpy</code>çš„æŒ‰éœ€å¤åˆ¶ï¼‰ä»¥åŠè°ƒè¯•å¤æ‚é—®é¢˜ï¼ˆå¦‚å­—ç¬¦ä¸²è¶Šç•Œï¼‰éƒ½æœ‰é‡è¦æ„ä¹‰ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸‹æ¬¡é‡åˆ°å­—ç¬¦ä¸²æ“ä½œéœ€æ±‚æ—¶ï¼Œä¸å¦¨å°è¯•è‡ªå·±å®ç°æ ¸å¿ƒé€»è¾‘â€”â€”è¿™ä¸ä»…èƒ½åŠ æ·±å¯¹Cè¯­è¨€çš„ç†è§£ï¼Œæ›´èƒ½è®©ä½ åœ¨å·¥ç¨‹å®è·µä¸­å†™å‡ºæ›´å¥å£®çš„ä»£ç ï¼</p>
</blockquote>
<hr>
<h1 id="å®Œæ•´æºä»£ç ï¼šå¤ç°Cè¯­è¨€æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°"><a href="#å®Œæ•´æºä»£ç ï¼šå¤ç°Cè¯­è¨€æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å®Œæ•´æºä»£ç ï¼šå¤ç°Cè¯­è¨€æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°"></a>å®Œæ•´æºä»£ç ï¼šå¤ç°Cè¯­è¨€æ ‡å‡†åº“å­—ç¬¦ä¸²å‡½æ•°</h1><p>ä»¥ä¸‹æ˜¯æ‰€æœ‰å¤ç°å‡½æ•°çš„å®Œæ•´å®ç°ï¼ŒåŒ…å«è¯¦ç»†æ³¨é‡Šä¸æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ç›´æ¥å¤åˆ¶ç¼–è¯‘è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#define _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdbool.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stddef.h&gt;  // ç”¨äºsize_tç±»å‹</span></span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">å¤ç°Cè¯­è¨€ä¸­çš„åº“å‡½æ•°</span><br><span class="line">* 1.size_t my_strlen(const char *str);</span><br><span class="line">* 2.char *my_strcpy(char *dest, const char *src);</span><br><span class="line">* 3.char *my_strncpy(char *dest, const char *src, size_t n);</span><br><span class="line">* 4.char *my_strcat(char *dest, const char *src);</span><br><span class="line">* 5.char *my_strncat(char *dest, const char *src, size_t n);</span><br><span class="line">* 6.int my_strcmp(const char *str1, const char *str2);</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">// 1. å®ç° strlen æ±‚å­—ç¬¦çš„é•¿åº¦</span><br><span class="line">size_t my_strlen(const char *p) &#123;</span><br><span class="line">    size_t count = 0;</span><br><span class="line">    <span class="keyword">while</span> (*p != <span class="string">&#x27;\0&#x27;</span>) &#123;  // éå†ç›´åˆ°ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">        count++;</span><br><span class="line">        p++;              // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 2. å®ç° strcpy å¤åˆ¶å­—ç¬¦ä¸²çš„å€¼</span><br><span class="line">char *my_strcpy(char *dest, const char *src) &#123;</span><br><span class="line">    char *tmp = dest;       // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    <span class="keyword">while</span> (*src != <span class="string">&#x27;\0&#x27;</span>) &#123;  // å¤åˆ¶ç›´åˆ°æºå­—ç¬¦ä¸²ç»“æŸ</span><br><span class="line">        *dest++ = *src++;   // é€ä¸ªå­—ç¬¦å¤åˆ¶ï¼ˆåç½®++é¿å…è¦†ç›–ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">    *dest = <span class="string">&#x27;\0&#x27;</span>;           // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">    <span class="built_in">return</span> tmp;             // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 3. æ›´å®‰å…¨çš„å¤åˆ¶ï¼ˆå¸¦é•¿åº¦é™åˆ¶ï¼‰</span><br><span class="line">char *my_strncpy(char *dest, const char *src, size_t n) &#123;</span><br><span class="line">    size_t i;</span><br><span class="line">    <span class="keyword">for</span> (i = 0; i &lt; n &amp;&amp; src[i] != <span class="string">&#x27;\0&#x27;</span>; i++) &#123;</span><br><span class="line">        // å¤åˆ¶å‰nä¸ªæœ‰æ•ˆå­—ç¬¦</span><br><span class="line">        dest[i] = src[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; n; i++) &#123;</span><br><span class="line">        // å¡«å……å‰©ä½™ç©ºé—´ä¸º\0</span><br><span class="line">        dest[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> dest;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 4. å®ç° strcat æ‹¼æ¥å­—ç¬¦ä¸²</span><br><span class="line">char *my_strcat(char *dest, const char *src) &#123;</span><br><span class="line">    char *tmp = dest;</span><br><span class="line">    // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    <span class="keyword">while</span> (*dest != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">        // æ‰¾åˆ°destçš„æœ«å°¾ï¼ˆç©ºç»ˆæ­¢ç¬¦ä½ç½®ï¼‰</span><br><span class="line">        dest++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> ((*dest++ = *src++) != &#x27;\<span class="number">0</span>&#x27;);</span><br><span class="line">    // å¤åˆ¶srcåˆ°destæœ«å°¾</span><br><span class="line">    *dest = &#x27;\<span class="number">0</span>&#x27;;</span><br><span class="line">    // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦ï¼ˆé˜²æ­¢srcæœªç»ˆæ­¢å¯¼è‡´destè¶Šç•Œï¼‰</span><br><span class="line">    return tmp;</span><br><span class="line">    // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="number">5</span>. å®ç° strncat å®‰å…¨æ‹¼æ¥ï¼ˆé™åˆ¶é•¿åº¦ï¼‰</span><br><span class="line">char *my_strncat(char *dest, const char *src, size_t n) &#123;</span><br><span class="line">    char *tmp = dest;       // ä¿å­˜ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">    while (*dest != &#x27;\<span class="number">0</span>&#x27;) &#123; // æ‰¾åˆ°destçš„æœ«å°¾</span><br><span class="line">        dest++;</span><br><span class="line">    &#125;</span><br><span class="line">    for (size_t i = <span class="number">0</span>; i &lt; n &amp;&amp; *src != &#x27;\<span class="number">0</span>&#x27;; i++) &#123;  // å¤åˆ¶å‰nä¸ªå­—ç¬¦ï¼ˆæˆ–æºæå‰ç»“æŸï¼‰</span><br><span class="line">        *dest++ = *src++;</span><br><span class="line">    &#125;</span><br><span class="line">    *dest = &#x27;\<span class="number">0</span>&#x27;;           // æ‰‹åŠ¨æ·»åŠ ç©ºç»ˆæ­¢ç¬¦</span><br><span class="line">    return tmp;             // è¿”å›ç›®æ ‡èµ·å§‹åœ°å€</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="number">6</span>. å®ç° strcmp æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°</span><br><span class="line">int my_strcmp(const char *str1, const char *str2) &#123;</span><br><span class="line">    while (*str1 &amp;&amp; *str2 &amp;&amp; *str1 == *str2) &#123;  // å­—ç¬¦ç›¸åŒä¸”æœªç»“æŸåˆ™ç»§ç»­</span><br><span class="line">        str1++;</span><br><span class="line">        str2++;</span><br><span class="line">    &#125;</span><br><span class="line">    // è¿”å›å·®å€¼ï¼ˆè½¬æ¢ä¸ºunsigned charé¿å…ç¬¦å·æ‰©å±•é—®é¢˜ï¼‰</span><br><span class="line">    return *(unsigned char *)str1 - *(unsigned char *)str2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸»å‡½æ•°ï¼šæµ‹è¯•æ‰€æœ‰å¤ç°å‡½æ•°</span><br><span class="line">int main(void) &#123;</span><br><span class="line">    char p[<span class="number">30</span>] = &quot;<span class="number">122345</span>&quot;;  // å¯ä¿®æ”¹çš„æ•°ç»„ï¼ˆåˆå§‹é•¿åº¦<span class="number">6</span>ï¼‰</span><br><span class="line">    char q[] = &quot;<span class="number">12234</span>&quot;;     // è‡ªåŠ¨æ¨å¯¼é•¿åº¦ï¼ˆ<span class="number">5</span>+<span class="number">1</span>=<span class="number">6</span>ï¼‰</span><br><span class="line">    char a[] = &quot;<span class="number">128757</span>&quot;;    // è‡ªåŠ¨æ¨å¯¼é•¿åº¦ï¼ˆ<span class="number">6</span>+<span class="number">1</span>=<span class="number">7</span>ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strcmpï¼ˆæ¯”è¾ƒaå’Œqï¼‰</span><br><span class="line">    printf(&quot;my_strcmp(a, q) = %d\n&quot;, my_strcmp(a, q));  // è¾“å‡ºæ­£æ•°ï¼ˆ<span class="string">&quot;128757&quot;</span> &gt; <span class="string">&quot;12234&quot;</span>ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strlenï¼ˆè®¡ç®—pçš„é•¿åº¦ï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strlen(p) = %zu\n&quot;</span>, my_strlen(p));  // è¾“å‡º6ï¼ˆå­—ç¬¦<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strcpyï¼ˆå°†qå¤åˆ¶åˆ°pï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strcpy(p, q) = %s\n&quot;</span>, my_strcpy(p, q));  // è¾“å‡º<span class="string">&quot;12234&quot;</span>ï¼ˆpè¢«è¦†ç›–ä¸ºqçš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strcmpï¼ˆæ¯”è¾ƒä¿®æ”¹åçš„på’Œqï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strcmp(p, q) = %d\n&quot;</span>, my_strcmp(p, q));  // è¾“å‡º0ï¼ˆä¸¤è€…å†…å®¹ç›¸åŒï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strncpyï¼ˆå°†açš„å‰4ä¸ªå­—ç¬¦å¤åˆ¶åˆ°pï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strncpy(p, a, 4) = %s\n&quot;</span>, my_strncpy(p, a, 4));  // è¾“å‡º<span class="string">&quot;1287&quot;</span>ï¼ˆpå‰4ä½è¢«è¦†ç›–ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strcatï¼ˆå°†aæ‹¼æ¥è‡³pæœ«å°¾ï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strcat(p, a) = %s\n&quot;</span>, my_strcat(p, a));  // è¾“å‡º<span class="string">&quot;1287128757&quot;</span>ï¼ˆpæœ«å°¾è¿½åŠ açš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strncatï¼ˆå°†açš„å‰4ä¸ªå­—ç¬¦æ‹¼æ¥è‡³pæœ«å°¾ï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strncat(p, a, 4) = %s\n&quot;</span>, my_strncat(p, a, 4));  // è¾“å‡º<span class="string">&quot;128712871287&quot;</span>ï¼ˆpæœ«å°¾è¿½åŠ å‰4ä¸ªå­—ç¬¦ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯• my_strcpyï¼ˆå†æ¬¡å°†qå¤åˆ¶åˆ°pï¼‰</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;my_strcpy(p, q) = %s\n&quot;</span>, my_strcpy(p, q));  // è¾“å‡º<span class="string">&quot;12234&quot;</span>ï¼ˆpè¢«è¦†ç›–ä¸ºqçš„å†…å®¹ï¼‰</span><br><span class="line"></span><br><span class="line">        <span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>CODE</tag>
        <tag>Cè¯­è¨€</tag>
        <tag>å®‰å…¨ç¼–ç </tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å®ç°ç®€æ˜“ä¹¦ç±ç®¡ç†ç³»ç»Ÿ</title>
    <url>/posts/12989e68/</url>
    <content><![CDATA[<img src="/img/PageCode/4.png" alt="Cè¯­è¨€å®ç°ç®€æ˜“ä¹¦ç±ç®¡ç†ç³»ç»Ÿ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="ä¸€ã€å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¹¦ç±ç®¡ç†ç³»ç»Ÿï¼Ÿ"><a href="#ä¸€ã€å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¹¦ç±ç®¡ç†ç³»ç»Ÿï¼Ÿ" class="headerlink" title="ä¸€ã€å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¹¦ç±ç®¡ç†ç³»ç»Ÿï¼Ÿ"></a>ä¸€ã€å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¹¦ç±ç®¡ç†ç³»ç»Ÿï¼Ÿ</h1><p>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦æ•´ç†è‡ªå·±çš„ä¹¦ç±æ”¶è—ï¼šå¯èƒ½æ˜¯ä¸ªäººé˜…è¯»æ¸…å•ã€å®¶åº­è—ä¹¦ç›®å½•ï¼Œæˆ–æ˜¯å°å‹å›¾ä¹¦é¦†çš„ç®¡ç†éœ€æ±‚ã€‚æ‰‹åŠ¨è®°å½•ä¹¦ç±ä¿¡æ¯ï¼ˆå¦‚ä¹¦åã€ä½œè€…ã€ç±»åˆ«ï¼‰å®¹æ˜“å‡ºé”™ï¼Œä¸”æŸ¥è¯¢æ•ˆç‡ä½ä¸‹ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç”¨Cè¯­è¨€å®ç°ä¸€ä¸ª<strong>ç®€æ˜“ä¹¦ç±ç®¡ç†ç³»ç»Ÿ</strong>ï¼Œé€šè¿‡ç»“æ„åŒ–çš„æ•°æ®å­˜å‚¨å’Œå‹å¥½çš„ç”¨æˆ·äº¤äº’ï¼Œè§£å†³è¿™ä¸€ç—›ç‚¹ã€‚</p>
<p>è¿™ä¸ªç³»ç»Ÿå°†å®ç°ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>å­˜å‚¨ä¹¦ç±çš„åŸºç¡€ä¿¡æ¯ï¼ˆç¼–å·ã€ä¹¦åã€ä½œè€…ã€ç±»åˆ«ï¼‰ï¼›</li>
<li>æŒ‰ç±»åˆ«å¿«é€Ÿç­›é€‰ä¹¦ç±ï¼›</li>
<li>æ¸…æ™°å±•ç¤ºæ‰€æœ‰ä¹¦ç±ä¿¡æ¯ï¼›</li>
<li>æä¾›ç”¨æˆ·å‹å¥½çš„äº¤äº’ç•Œé¢ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å°†æŒæ¡Cè¯­è¨€ä¸­æšä¸¾ã€ç»“æ„ä½“ã€å‡½æ•°å°è£…ã€ç”¨æˆ·è¾“å…¥å¤„ç†ç­‰æ ¸å¿ƒæŠ€æœ¯çš„å®é™…åº”ç”¨ã€‚</p>
<hr>
<h1 id="äºŒã€æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šç”¨æšä¸¾å’Œç»“æ„ä½“ç»„ç»‡ä¿¡æ¯"><a href="#äºŒã€æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šç”¨æšä¸¾å’Œç»“æ„ä½“ç»„ç»‡ä¿¡æ¯" class="headerlink" title="äºŒã€æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šç”¨æšä¸¾å’Œç»“æ„ä½“ç»„ç»‡ä¿¡æ¯"></a>äºŒã€æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šç”¨æšä¸¾å’Œç»“æ„ä½“ç»„ç»‡ä¿¡æ¯</h1><h2 id="1-1-æšä¸¾ç±»å‹ï¼šå®šä¹‰ä¹¦ç±ç±»åˆ«"><a href="#1-1-æšä¸¾ç±»å‹ï¼šå®šä¹‰ä¹¦ç±ç±»åˆ«" class="headerlink" title="1.1 æšä¸¾ç±»å‹ï¼šå®šä¹‰ä¹¦ç±ç±»åˆ«"></a>1.1 æšä¸¾ç±»å‹ï¼šå®šä¹‰ä¹¦ç±ç±»åˆ«</h2><p>ä¹¦ç±çš„ç±»åˆ«æ˜¯å›ºå®šçš„ï¼ˆå¦‚ç§‘å¹»ã€æ–‡å­¦ã€å†å²ç­‰ï¼‰ï¼Œä½¿ç”¨æšä¸¾ï¼ˆ<code>enum</code>ï¼‰å¯ä»¥é¿å…é­”æ³•æ•°å­—ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚åœ¨å¤´æ–‡ä»¶<code>function.h</code>ä¸­å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef enum Genre &#123;</span><br><span class="line">    SCIENCE_FICTION = 0,  // ç§‘å¹»</span><br><span class="line">    LITERATURE = 1,       // æ–‡å­¦</span><br><span class="line">    HISTORY = 2,          // å†å²</span><br><span class="line">    TECHNOLOGY = 3,       // ç§‘æŠ€</span><br><span class="line">    OTHER = 4             // å…¶ä»–</span><br><span class="line">&#125; Genre;</span><br></pre></td></tr></table></figure>

<h2 id="1-2-ç»“æ„ä½“ï¼šå°è£…ä¹¦ç±ä¿¡æ¯"><a href="#1-2-ç»“æ„ä½“ï¼šå°è£…ä¹¦ç±ä¿¡æ¯" class="headerlink" title="1.2 ç»“æ„ä½“ï¼šå°è£…ä¹¦ç±ä¿¡æ¯"></a>1.2 ç»“æ„ä½“ï¼šå°è£…ä¹¦ç±ä¿¡æ¯</h2><p>æ¯æœ¬ä¹¦çš„ä¿¡æ¯å¯ä»¥å°è£…ä¸ºä¸€ä¸ªç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰ï¼Œå°†ç›¸å…³æ•°æ®ç»‘å®šåœ¨ä¸€èµ·ã€‚ç»“æ„ä½“<code>Book</code>åŒ…å«ç¼–å·ã€ä¹¦åã€ä½œè€…å’Œç±»åˆ«å››ä¸ªå­—æ®µï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct Book &#123;</span><br><span class="line">    int num;              // ç¼–å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span><br><span class="line">    char name[15];        // ä¹¦åï¼ˆæœ€å¤š14å­—ç¬¦+ç»ˆæ­¢ç¬¦ï¼‰</span><br><span class="line">    char author[20];      // ä½œè€…ï¼ˆæœ€å¤š19å­—ç¬¦+ç»ˆæ­¢ç¬¦ï¼‰</span><br><span class="line">    Genre genre;          // ç±»åˆ«ï¼ˆä½¿ç”¨æšä¸¾ç±»å‹ï¼‰</span><br><span class="line">&#125; Book;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-åˆå§‹åŒ–ä¹¦ç±æ•°ç»„"><a href="#1-3-åˆå§‹åŒ–ä¹¦ç±æ•°ç»„" class="headerlink" title="1.3 åˆå§‹åŒ–ä¹¦ç±æ•°ç»„"></a>1.3 åˆå§‹åŒ–ä¹¦ç±æ•°ç»„</h2><p>ä¸ºäº†æ¼”ç¤ºåŠŸèƒ½ï¼Œæˆ‘ä»¬åœ¨æºæ–‡ä»¶<code>main.c</code>ä¸­é¢„å…ˆåˆå§‹åŒ–ä¸€ä¸ªåŒ…å«10æœ¬ä¹¦çš„æ•°ç»„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book books[MAX_BOOKS] = &#123;</span><br><span class="line">    &#123;1, &quot;ä¸‰ä½“&quot;, &quot;åˆ˜æ…ˆæ¬£&quot;, SCIENCE_FICTION&#125;,</span><br><span class="line">    &#123;2, &quot;çº¢æ¥¼æ¢¦&quot;, &quot;æ›¹é›ªèŠ¹&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;3, &quot;ä¸­å›½é€šå²&quot;, &quot;å•æ€å‹‰&quot;, HISTORY&#125;,</span><br><span class="line">    &#123;4, &quot;æ—¶é—´ç®€å²&quot;, &quot;å²è’‚èŠ¬_éœé‡‘&quot;, TECHNOLOGY&#125;,</span><br><span class="line">    &#123;5, &quot;å›´åŸ&quot;, &quot;é’±é’Ÿä¹¦&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;6, &quot;å‚²æ…¢ä¸åè§&quot;, &quot;ç®€_å¥¥æ–¯æ±€&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;7, &quot;å‘¼å•¸å±±åº„&quot;, &quot;è‰¾ç±³è‰_å‹ƒæœ—ç‰¹&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;8, &quot;æ´»ç€&quot;, &quot;ä½™å&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;9, &quot;æ˜æœé‚£äº›äº‹å„¿&quot;, &quot;å½“å¹´æ˜æœˆ&quot;, HISTORY&#125;,</span><br><span class="line">    &#123;10, &quot;ä¹Œåˆä¹‹ä¼—&quot;, &quot;å¤æ–¯å¡”å¤«_å‹’åº&quot;, OTHER&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä¸‰ã€åŠŸèƒ½å®ç°ï¼šä»æ•°æ®æ‰“å°åˆ°ç±»åˆ«ç­›é€‰"><a href="#ä¸‰ã€åŠŸèƒ½å®ç°ï¼šä»æ•°æ®æ‰“å°åˆ°ç±»åˆ«ç­›é€‰" class="headerlink" title="ä¸‰ã€åŠŸèƒ½å®ç°ï¼šä»æ•°æ®æ‰“å°åˆ°ç±»åˆ«ç­›é€‰"></a>ä¸‰ã€åŠŸèƒ½å®ç°ï¼šä»æ•°æ®æ‰“å°åˆ°ç±»åˆ«ç­›é€‰</h1><h2 id="3-1-å‡½æ•°1ï¼šGenre-Znâ€”â€”æšä¸¾è½¬ä¸­æ–‡"><a href="#3-1-å‡½æ•°1ï¼šGenre-Znâ€”â€”æšä¸¾è½¬ä¸­æ–‡" class="headerlink" title="3.1 å‡½æ•°1ï¼šGenre_Znâ€”â€”æšä¸¾è½¬ä¸­æ–‡"></a>3.1 å‡½æ•°1ï¼š<code>Genre_Zn</code>â€”â€”æšä¸¾è½¬ä¸­æ–‡</h2><p>æšä¸¾å€¼ï¼ˆå¦‚<code>SCIENCE_FICTION</code>ï¼‰æ˜¯æ•°å­—ï¼Œç›´æ¥æ‰“å°ä¸ç›´è§‚ã€‚é€šè¿‡<code>switch</code>è¯­å¥å°†å…¶è½¬æ¢ä¸ºä¸­æ–‡å­—ç¬¦ä¸²ï¼Œå¢å¼ºå¯è¯»æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const char *Genre_Zn(Genre i) &#123;</span><br><span class="line">    switch (i) &#123;</span><br><span class="line">        case SCIENCE_FICTION: return &quot;ç§‘å¹»&quot;;</span><br><span class="line">        case LITERATURE:         return &quot;æ–‡å­¦&quot;;</span><br><span class="line">        case HISTORY:          return &quot;å†å²&quot;;</span><br><span class="line">        case TECHNOLOGY:          return &quot;ç§‘æŠ€&quot;;</span><br><span class="line">        case OTHER:          return &quot;å…¶ä»–&quot;;</span><br><span class="line">        default:              return &quot;æœªçŸ¥&quot;;  // å¤„ç†éæ³•è¾“å…¥</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2-å‡½æ•°2ï¼šprint-book-infoâ€”â€”æ‰“å°æ‰€æœ‰ä¹¦ç±ä¿¡æ¯"><a href="#3-2-å‡½æ•°2ï¼šprint-book-infoâ€”â€”æ‰“å°æ‰€æœ‰ä¹¦ç±ä¿¡æ¯" class="headerlink" title="3.2 å‡½æ•°2ï¼šprint_book_infoâ€”â€”æ‰“å°æ‰€æœ‰ä¹¦ç±ä¿¡æ¯"></a>3.2 å‡½æ•°2ï¼š<code>print_book_info</code>â€”â€”æ‰“å°æ‰€æœ‰ä¹¦ç±ä¿¡æ¯</h2><p>è¯¥å‡½æ•°éå†ä¹¦ç±æ•°ç»„ï¼ŒæŒ‰å›ºå®šæ ¼å¼æ‰“å°æ¯æœ¬ä¹¦çš„è¯¦ç»†ä¿¡æ¯ã€‚ä¸ºäº†ç¾è§‚ï¼Œä½¿ç”¨åˆ†éš”çº¿å¢å¼ºå¯è¯»æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void print_book_info(Book *books, int count) &#123;</span><br><span class="line">    // æ‰“å°åˆ†éš”çº¿ï¼ˆ21ä¸ª&quot;-&quot;ï¼‰</span><br><span class="line">    for (int i = 0; i &lt; 21; i++) printf(&quot;-&quot;);</span><br><span class="line">    printf(&quot; æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ &quot;);</span><br><span class="line">    for (int i = 0; i &lt; 21; i++) printf(&quot;-&quot;);</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    // éå†å¹¶æ‰“å°æ¯æœ¬ä¹¦</span><br><span class="line">    for (int i = 0; i &lt; MAX_BOOKS; i++) &#123;</span><br><span class="line">        printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;,books[i].num, books[i].name,books[i].author,Genre_Zn(books[i].genre));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-å‡½æ•°3ï¼šfind-books-by-genreâ€”â€”æŒ‰ç±»åˆ«ç­›é€‰ä¹¦ç±"><a href="#3-3-å‡½æ•°3ï¼šfind-books-by-genreâ€”â€”æŒ‰ç±»åˆ«ç­›é€‰ä¹¦ç±" class="headerlink" title="3.3 å‡½æ•°3ï¼šfind_books_by_genreâ€”â€”æŒ‰ç±»åˆ«ç­›é€‰ä¹¦ç±"></a>3.3 å‡½æ•°3ï¼š<code>find_books_by_genre</code>â€”â€”æŒ‰ç±»åˆ«ç­›é€‰ä¹¦ç±</h2><p>ç”¨æˆ·è¾“å…¥ç±»åˆ«ç¼–å·åï¼Œè¯¥å‡½æ•°éå†æ•°ç»„ï¼Œåªæ‰“å°ç¬¦åˆæ¡ä»¶çš„ä¹¦ç±ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void find_books_by_genre(Book *books, int count, Genre genre) &#123;</span><br><span class="line">    for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        if (books[i].genre == genre) &#123;</span><br><span class="line">            printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;,books[i].num, books[i].name,books[i].author,Genre_Zn(books[i].genre));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="å››ã€ä¸»å‡½æ•°ï¼šç”¨æˆ·äº¤äº’æµç¨‹"><a href="#å››ã€ä¸»å‡½æ•°ï¼šç”¨æˆ·äº¤äº’æµç¨‹" class="headerlink" title="å››ã€ä¸»å‡½æ•°ï¼šç”¨æˆ·äº¤äº’æµç¨‹"></a>å››ã€ä¸»å‡½æ•°ï¼šç”¨æˆ·äº¤äº’æµç¨‹</h1><p>ä¸»å‡½æ•°è´Ÿè´£è°ƒç”¨ä¸Šè¿°å‡½æ•°ï¼Œæä¾›äº¤äº’ç•Œé¢ã€‚ç”¨æˆ·å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ä¹¦ç±ï¼Œæˆ–æŒ‰ç±»åˆ«ç­›é€‰ä¹¦ç±ï¼Œè¾“å…¥<code>5</code>é€€å‡ºç¨‹åºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    // æ‰“å°æ‰€æœ‰ä¹¦ç±ä¿¡æ¯</span><br><span class="line">    print_book_info(books, MAX_BOOKS);</span><br><span class="line"></span><br><span class="line">    // ç”¨æˆ·æŒ‰ç±»åˆ«æŸ¥è¯¢å¾ªç¯</span><br><span class="line">    Genre gen;</span><br><span class="line">    do &#123;</span><br><span class="line">        printf(&quot;\nè¯·è¾“å…¥ä¹¦ç±ç±»åˆ«ç¼–å·ï¼ˆ0:ç§‘å¹» 1.æ–‡å­¦ 2.å†å² 3.ç§‘æŠ€ 4.å…¶ä»– 5.é€€å‡ºï¼‰\n&quot;);</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;gen);  // è¯»å–ç”¨æˆ·è¾“å…¥çš„ç±»åˆ«ç¼–å·</span><br><span class="line">        find_books_by_genre(books, MAX_BOOKS, gen);  // ç­›é€‰å¹¶æ‰“å°</span><br><span class="line">    &#125; while (gen != 5);  // è¾“å…¥5æ—¶é€€å‡ºå¾ªç¯</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šè¿è¡Œæ•ˆæœå±•ç¤º"><a href="#äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šè¿è¡Œæ•ˆæœå±•ç¤º" class="headerlink" title="äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šè¿è¡Œæ•ˆæœå±•ç¤º"></a>äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šè¿è¡Œæ•ˆæœå±•ç¤º</h1><h2 id="5-1-åˆå§‹ä¹¦ç±åˆ—è¡¨æ‰“å°"><a href="#5-1-åˆå§‹ä¹¦ç±åˆ—è¡¨æ‰“å°" class="headerlink" title="5.1 åˆå§‹ä¹¦ç±åˆ—è¡¨æ‰“å°"></a>5.1 åˆå§‹ä¹¦ç±åˆ—è¡¨æ‰“å°</h2><p>ç¨‹åºå¯åŠ¨åï¼Œé¦–å…ˆæ‰“å°æ‰€æœ‰ä¹¦ç±çš„ä¿¡æ¯ï¼Œè¾“å‡ºç±»ä¼¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--------------------- æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ ---------------------</span><br><span class="line"></span><br><span class="line">ç¼–å·:1  ä¹¦å:ä¸‰ä½“        ä½œè€…:åˆ˜æ…ˆæ¬£       ç±»åˆ«:ç§‘å¹»    </span><br><span class="line">ç¼–å·:2  ä¹¦å:çº¢æ¥¼æ¢¦      ä½œè€…:æ›¹é›ªèŠ¹       ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:3  ä¹¦å:ä¸­å›½é€šå²    ä½œè€…:å•æ€å‹‰       ç±»åˆ«:å†å²    </span><br><span class="line">ç¼–å·:4  ä¹¦å:æ—¶é—´ç®€å²    ä½œè€…:å²è’‚èŠ¬_éœé‡‘   ç±»åˆ«:ç§‘æŠ€    </span><br><span class="line">ç¼–å·:5  ä¹¦å:å›´åŸ        ä½œè€…:é’±é’Ÿä¹¦       ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:6  ä¹¦å:å‚²æ…¢ä¸åè§  ä½œè€…:ç®€_å¥¥æ–¯æ±€    ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:7  ä¹¦å:å‘¼å•¸å±±åº„    ä½œè€…:è‰¾ç±³è‰_å‹ƒæœ—ç‰¹ ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:8  ä¹¦å:æ´»ç€        ä½œè€…:ä½™å         ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:9  ä¹¦å:æ˜æœé‚£äº›äº‹å„¿  ä½œè€…:å½“å¹´æ˜æœˆ     ç±»åˆ«:å†å²    </span><br><span class="line">ç¼–å·:10 ä¹¦å:ä¹Œåˆä¹‹ä¼—    ä½œè€…:å¤æ–¯å¡”å¤«_å‹’åº ç±»åˆ«:å…¶ä»–    </span><br></pre></td></tr></table></figure>

<h2 id="5-2-æŒ‰ç±»åˆ«æŸ¥è¯¢åŠŸèƒ½"><a href="#5-2-æŒ‰ç±»åˆ«æŸ¥è¯¢åŠŸèƒ½" class="headerlink" title="5.2 æŒ‰ç±»åˆ«æŸ¥è¯¢åŠŸèƒ½"></a>5.2 æŒ‰ç±»åˆ«æŸ¥è¯¢åŠŸèƒ½</h2><p>ç”¨æˆ·è¾“å…¥<code>1</code>ï¼ˆæ–‡å­¦ï¼‰ï¼Œç¨‹åºç­›é€‰å¹¶æ‰“å°æ‰€æœ‰æ–‡å­¦ç±»ä¹¦ç±ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç¼–å·:2  ä¹¦å:çº¢æ¥¼æ¢¦      ä½œè€…:æ›¹é›ªèŠ¹       ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:5  ä¹¦å:å›´åŸ        ä½œè€…:é’±é’Ÿä¹¦       ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:6  ä¹¦å:å‚²æ…¢ä¸åè§  ä½œè€…:ç®€_å¥¥æ–¯æ±€    ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:7  ä¹¦å:å‘¼å•¸å±±åº„    ä½œè€…:è‰¾ç±³è‰_å‹ƒæœ—ç‰¹ ç±»åˆ«:æ–‡å­¦    </span><br><span class="line">ç¼–å·:8  ä¹¦å:æ´»ç€        ä½œè€…:ä½™å         ç±»åˆ«:æ–‡å­¦    </span><br></pre></td></tr></table></figure>

<p>è¾“å…¥<code>5</code>åï¼Œç¨‹åºé€€å‡ºã€‚</p>
<hr>
<h1 id="å…­ã€æ½œåœ¨é—®é¢˜"><a href="#å…­ã€æ½œåœ¨é—®é¢˜" class="headerlink" title="å…­ã€æ½œåœ¨é—®é¢˜"></a>å…­ã€æ½œåœ¨é—®é¢˜</h1><h2 id="é—®é¢˜ï¼šMAX-BOOKSæœªå®šä¹‰"><a href="#é—®é¢˜ï¼šMAX-BOOKSæœªå®šä¹‰" class="headerlink" title="é—®é¢˜ï¼šMAX_BOOKSæœªå®šä¹‰"></a>é—®é¢˜ï¼š<code>MAX_BOOKS</code>æœªå®šä¹‰</h2><p>å½“å‰ä»£ç ä¸­<code>MAX_BOOKS</code>åœ¨<code>function.h</code>ä¸­å®šä¹‰ä¸º<code>10</code>ï¼Œä½†éœ€ç¡®ä¿æºæ–‡ä»¶<code>main.c</code>å’Œ<code>function.c</code>ä¸­ä¸€è‡´ã€‚è‹¥ä¹¦ç±æ•°é‡è¶…è¿‡<code>MAX_BOOKS</code>ï¼Œä¼šå¯¼è‡´æ•°ç»„è¶Šç•Œã€‚éœ€è¦åœ¨<code>function.h</code>ä¸­æ˜ç¡®å®šä¹‰ï¼Œå¹¶åœ¨ä½¿ç”¨æ—¶æ£€æŸ¥è¾¹ç•Œã€‚</p>
<h3 id="æ”¹è¿›å»ºè®®1ï¼šå¢åŠ ä¹¦ç±å±æ€§"><a href="#æ”¹è¿›å»ºè®®1ï¼šå¢åŠ ä¹¦ç±å±æ€§" class="headerlink" title="æ”¹è¿›å»ºè®®1ï¼šå¢åŠ ä¹¦ç±å±æ€§"></a>æ”¹è¿›å»ºè®®1ï¼šå¢åŠ ä¹¦ç±å±æ€§</h3><p>å¯ä»¥æ‰©å±•<code>Book</code>ç»“æ„ä½“ï¼Œæ·»åŠ å‡ºç‰ˆå¹´ä»½ã€ISBNã€é¡µæ•°ç­‰å­—æ®µï¼Œä¸°å¯Œä¿¡æ¯ç»´åº¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct Book &#123;</span><br><span class="line">    int num;              // ç¼–å·</span><br><span class="line">    char name[15];        // ä¹¦å</span><br><span class="line">    char author[20];      // ä½œè€…</span><br><span class="line">    Genre genre;          // ç±»åˆ«</span><br><span class="line">    int publish_year;     // å‡ºç‰ˆå¹´ä»½ï¼ˆæ–°å¢ï¼‰</span><br><span class="line">    char isbn[13];        // ISBNï¼ˆæ–°å¢ï¼‰</span><br><span class="line">&#125; Book;</span><br></pre></td></tr></table></figure>

<h3 id="æ”¹è¿›å»ºè®®2ï¼šæ•°æ®æŒä¹…åŒ–"><a href="#æ”¹è¿›å»ºè®®2ï¼šæ•°æ®æŒä¹…åŒ–" class="headerlink" title="æ”¹è¿›å»ºè®®2ï¼šæ•°æ®æŒä¹…åŒ–"></a>æ”¹è¿›å»ºè®®2ï¼šæ•°æ®æŒä¹…åŒ–</h3><p>å½“å‰ä¹¦ç±æ•°æ®æ˜¯ç¡¬ç¼–ç çš„ï¼Œé‡å¯ç¨‹åºåæ•°æ®ä¸¢å¤±ã€‚å¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ï¼ˆå¦‚<code>books.txt</code>ï¼‰ï¼Œå¯åŠ¨æ—¶è¯»å–ï¼Œå®ç°æŒä¹…åŒ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç¤ºä¾‹ï¼šä»æ–‡ä»¶è¯»å–ä¹¦ç±æ•°æ®</span><br><span class="line">FILE *fp = fopen(&quot;books.txt&quot;, &quot;r&quot;);</span><br><span class="line">if (fp) &#123;</span><br><span class="line">    fscanf(fp, &quot;%d&quot;, &amp;count);  // è¯»å–ä¹¦ç±æ•°é‡</span><br><span class="line">    for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        fscanf(fp, &quot;%d %s %s %d&quot;, &amp;books[i].num, books[i].name, books[i].author, &amp;books[i].genre);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ”¹è¿›å»ºè®®3ï¼šå›¾å½¢åŒ–ç•Œé¢"><a href="#æ”¹è¿›å»ºè®®3ï¼šå›¾å½¢åŒ–ç•Œé¢" class="headerlink" title="æ”¹è¿›å»ºè®®3ï¼šå›¾å½¢åŒ–ç•Œé¢"></a>æ”¹è¿›å»ºè®®3ï¼šå›¾å½¢åŒ–ç•Œé¢</h3><p>å½“å‰äº¤äº’æ˜¯å‘½ä»¤è¡Œå½¢å¼ï¼Œå¯é€šè¿‡<code>SDL</code>æˆ–<code>Qt</code>ç­‰åº“å¼€å‘å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<hr>
<h1 id="ä¸ƒã€æ€»ç»“ï¼šä»ä»£ç åˆ°èƒ½åŠ›çš„æå‡"><a href="#ä¸ƒã€æ€»ç»“ï¼šä»ä»£ç åˆ°èƒ½åŠ›çš„æå‡" class="headerlink" title="ä¸ƒã€æ€»ç»“ï¼šä»ä»£ç åˆ°èƒ½åŠ›çš„æå‡"></a>ä¸ƒã€æ€»ç»“ï¼šä»ä»£ç åˆ°èƒ½åŠ›çš„æå‡</h1><p>é€šè¿‡è¿™ä¸ªç®€æ˜“ä¹¦ç±ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬å®è·µäº†Cè¯­è¨€çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li><strong>æšä¸¾ç±»å‹</strong>ï¼šå®šä¹‰å›ºå®šç±»åˆ«ï¼Œæé«˜ä»£ç å¯è¯»æ€§ï¼›</li>
<li><strong>ç»“æ„ä½“</strong>ï¼šå°è£…å¤æ‚æ•°æ®ï¼Œç»„ç»‡ä¿¡æ¯æ›´æ¸…æ™°ï¼›</li>
<li><strong>å‡½æ•°å°è£…</strong>ï¼šå°†åŠŸèƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹å‡½æ•°ï¼Œæå‡ä»£ç å¤ç”¨æ€§ï¼›</li>
<li><strong>ç”¨æˆ·äº¤äº’</strong>ï¼šå¤„ç†è¾“å…¥è¾“å‡ºï¼Œå®ç°åŸºç¡€çš„CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›ç»éªŒæ˜¯åç»­å¼€å‘æ›´å¤æ‚ç³»ç»Ÿï¼ˆå¦‚å­¦ç”Ÿç®¡ç†ç³»ç»Ÿã€åº“å­˜ç®¡ç†ç³»ç»Ÿï¼‰çš„åŸºç¡€ã€‚ä¸å¦¨å°è¯•æ‰©å±•æœ¬æ–‡çš„åŠŸèƒ½ï¼ˆå¦‚æ·»åŠ ä¹¦ç±ã€åˆ é™¤ä¹¦ç±ï¼‰ï¼Œåœ¨å®è·µä¸­è¿›ä¸€æ­¥æå‡ç¼–ç¨‹èƒ½åŠ›ï¼</p>
<hr>
<h1 id="å…«ã€å®Œæ•´æºä»£ç "><a href="#å…«ã€å®Œæ•´æºä»£ç " class="headerlink" title="å…«ã€å®Œæ•´æºä»£ç "></a>å…«ã€å®Œæ•´æºä»£ç </h1><h2 id="å¤´æ–‡ä»¶-function-h"><a href="#å¤´æ–‡ä»¶-function-h" class="headerlink" title="å¤´æ–‡ä»¶ function.h"></a>å¤´æ–‡ä»¶ function.h</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef FUNCTION_H</span><br><span class="line">#define FUNCTION_H</span><br><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#define MAX_BOOKS 10</span><br><span class="line"></span><br><span class="line">typedef enum Genre &#123;</span><br><span class="line">    SCIENCE_FICTION = 0,</span><br><span class="line">    LITERATURE = 1,</span><br><span class="line">    HISTORY = 2,</span><br><span class="line">    TECHNOLOGY = 3,</span><br><span class="line">    OTHER = 4</span><br><span class="line">&#125; Genre;</span><br><span class="line"></span><br><span class="line">typedef struct Book &#123;</span><br><span class="line">    int num;</span><br><span class="line">    char name[15];</span><br><span class="line">    char author[20];</span><br><span class="line">    Genre genre;</span><br><span class="line">&#125; Book;</span><br><span class="line"></span><br><span class="line">const char *Genre_Zn(Genre i);</span><br><span class="line">void print_book_info(Book *books, int count);</span><br><span class="line">void find_books_by_genre(Book *books, int count, Genre genre);</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h2 id="æºæ–‡ä»¶-main-c"><a href="#æºæ–‡ä»¶-main-c" class="headerlink" title="æºæ–‡ä»¶ main.c"></a>æºæ–‡ä»¶ main.c</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#include &quot;function.h&quot;</span><br><span class="line"></span><br><span class="line">Book books[MAX_BOOKS] = &#123;</span><br><span class="line">    &#123;1, &quot;ä¸‰ä½“&quot;, &quot;åˆ˜æ…ˆæ¬£&quot;, SCIENCE_FICTION&#125;,</span><br><span class="line">    &#123;2, &quot;çº¢æ¥¼æ¢¦&quot;, &quot;æ›¹é›ªèŠ¹&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;3, &quot;ä¸­å›½é€šå²&quot;, &quot;å•æ€å‹‰&quot;, HISTORY&#125;,</span><br><span class="line">    &#123;4, &quot;æ—¶é—´ç®€å²&quot;, &quot;å²è’‚èŠ¬_éœé‡‘&quot;, TECHNOLOGY&#125;,</span><br><span class="line">    &#123;5, &quot;å›´åŸ&quot;, &quot;é’±é’Ÿä¹¦&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;6, &quot;å‚²æ…¢ä¸åè§&quot;, &quot;ç®€_å¥¥æ–¯æ±€&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;7, &quot;å‘¼å•¸å±±åº„&quot;, &quot;è‰¾ç±³è‰_å‹ƒæœ—ç‰¹&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;8, &quot;æ´»ç€&quot;, &quot;ä½™å&quot;, LITERATURE&#125;,</span><br><span class="line">    &#123;9, &quot;æ˜æœé‚£äº›äº‹å„¿&quot;, &quot;å½“å¹´æ˜æœˆ&quot;, HISTORY&#125;,</span><br><span class="line">    &#123;10, &quot;ä¹Œåˆä¹‹ä¼—&quot;, &quot;å¤æ–¯å¡”å¤«_å‹’åº&quot;, OTHER&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    print_book_info(books, MAX_BOOKS);</span><br><span class="line">    Genre gen;</span><br><span class="line">    do &#123;</span><br><span class="line">        printf(&quot;\nè¯·è¾“å…¥ä¹¦ç±ç±»åˆ«ç¼–å·ï¼ˆ0:ç§‘å¹» 1.æ–‡å­¦ 2.å†å² 3.ç§‘æŠ€ 4.å…¶ä»– 5.é€€å‡ºï¼‰\n&quot;);</span><br><span class="line">            scanf(&quot;%d&quot;, &amp;gen);</span><br><span class="line">        find_books_by_genre(books, MAX_BOOKS, gen);</span><br><span class="line">    &#125; while (gen != 5);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æºæ–‡ä»¶-function-c"><a href="#æºæ–‡ä»¶-function-c" class="headerlink" title="æºæ–‡ä»¶ function.c"></a>æºæ–‡ä»¶ function.c</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#include &quot;function.h&quot;</span><br><span class="line"></span><br><span class="line">const char *Genre_Zn(Genre i) &#123;</span><br><span class="line">	switch (i) &#123;</span><br><span class="line">	case SCIENCE_FICTION: return &quot;ç§‘å¹»&quot;;</span><br><span class="line">	case LITERATURE:         return &quot;æ–‡å­¦&quot;;</span><br><span class="line">	case HISTORY:          return &quot;å†å²&quot;;</span><br><span class="line">	case TECHNOLOGY:          return &quot;ç§‘æŠ€&quot;;</span><br><span class="line">	case OTHER:          return &quot;å…¶ä»–&quot;;</span><br><span class="line">	default:              return &quot;æœªçŸ¥&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print_book_info(Book *books, int count) &#123;</span><br><span class="line">	for (int i = 0; i &lt; 21; i++) printf(&quot;-&quot;);</span><br><span class="line">	printf(&quot; æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ &quot;);</span><br><span class="line">	for (int i = 0; i &lt; 21; i++) printf(&quot;-&quot;);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">	for (int i = 0; i &lt; MAX_BOOKS; i++) &#123;</span><br><span class="line">		printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;, books[i].num, books[i].name, books[i].author, Genre_Zn(books[i].genre));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void find_books_by_genre(Book *books, int count, Genre genre) &#123;</span><br><span class="line">	for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">		if (books[i].genre == genre) &#123;</span><br><span class="line">			printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;, books[i].num, books[i].name, books[i].author, Genre_Zn(books[i].genre));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C-Code</category>
        <category>Practical System Development</category>
      </categories>
      <tags>
        <tag>CODE</tag>
        <tag>Cè¯­è¨€</tag>
        <tag>ç»“æ„ä½“</tag>
        <tag>æšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title>Cç¨‹åºé¡¹ç›®è®¡åˆ’ä¹¦</title>
    <url>/posts/870cf8e7/</url>
    <content><![CDATA[<img src="/img/PageCode/0.png" alt="Cç¨‹åºé¡¹ç›®è®¡åˆ’ä¹¦" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">åˆ·é¢˜</button><button type="button" class="tab">é¡¹ç›®</button><button type="button" class="tab">å¼€æºé¡¹ç›®å­¦ä¹ </button></div><div class="tab-contents"><div class="tab-item-content active"><div class="timeline blue"><div class='timeline-item headline'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>2025</p>
</div>
        </div>
      </div><div class='timeline-item'>
        <div class='timeline-item-title'>
          <div class='item-circle'><p>6.9</p>
</div>
        </div>
        <div class='timeline-item-content'><p><a href="/posts/83dcefb7/"><strong>0001.Two-Sum</strong></a></p>
</div>
      </div></div></div><div class="tab-item-content"><p><a href="/posts/39679951/"><strong>0001.ä¸‡å¹´å†ç¨‹åº</strong></a><br><a href="/posts/12989e68/"><strong>0002.ä¹¦ç±ç®¡ç†ç¨‹åº</strong></a><br><a href="/posts/834f76ba/"><strong>0003.ä¹¦ç±ç®¡ç†ç³»ç»ŸåŸºäºæ–‡ä»¶æµè¾“å…¥è¾“å‡º</strong></a></p></div><div class="tab-item-content"><p><a href="https://github.com/DoctorWkt/acwj?tab=readme-ov-file"><strong>acwj</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ•™ç¨‹æ³¨é‡å®æˆ˜å¾ªåºæ¸è¿›ï¼Œä¸€æ­¥æ­¥æ•™ä½ å¦‚ä½•ç”¨ C è¯­è¨€å†™ä¸€ä¸ªå¯ä»¥è‡ªå·±ç¼–è¯‘è‡ªå·±ï¼ˆè‡ªä¸¾ï¼‰ã€èƒ½å¤Ÿåœ¨çœŸæ­£çš„ç¡¬ä»¶ä¸Šè¿è¡Œçš„ C è¯­è¨€ç¼–è¯‘å™¨ã€‚</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/cstack/db_tutorial"><strong>db_tutorial</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨ C ä»é›¶åˆ›å»ºä¸€ä¸ªç®€å•çš„æ•°æ®åº“</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/Simple-XX/SimpleKernel"><strong>SimpleKerne</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æä¾›äº†å„ä¸ªé˜¶æ®µå®Œæˆåº¦ä¸åŒçš„å†…æ ¸ï¼Œå¯ä»¥é€‰æ‹©ä»è‡ªå·±å–œæ¬¢çš„åœ°æ–¹å¼€å§‹ã€‚</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/zouxiaohang/TinySTL"><strong>TinnySTL</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TinnySTL æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ C++ STL å®ç°ï¼Œå®ƒç”±ä¸€ç³»åˆ—å¤´æ–‡ä»¶ç»„æˆï¼Œå¯ä»¥æ–¹ä¾¿åœ°åµŒå…¥åˆ°ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨ã€‚è¿™ä¸ªé¡¹ç›®æ¶µç›–äº†å¾ˆå¤šåŸºç¡€çš„ STL ç»„ä»¶ï¼Œæ¯”å¦‚ vectorã€listã€map ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯åœ¨ STL æ ‡å‡†åŸºç¡€ä¸Šé‡æ–°å®ç°çš„ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ STL çš„å®ç°åŸç†ï¼Œå¯ä»¥ç”¨æ¥ç†è§£æœåŠ¡å™¨ç¨‹åºçš„åŸç†å’Œæœ¬è´¨ã€‚</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/EZLippi/WebBench"><strong>Webbench</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Webbench æ˜¯ä¸€ä¸ªè‘—åçš„è½»é‡çº§ Web å‹åŠ›æµ‹è¯•å·¥å…·ï¼Œç”¨äºå¯¹ Web æœåŠ¡å™¨è¿›è¡Œæ€§èƒ½æµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•ã€‚é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥å­¦ä¹ å¦‚ä½•æ¨¡æ‹Ÿé«˜å¹¶å‘è¯·æ±‚ï¼Œäº†è§£ Web æœåŠ¡å™¨åœ¨é«˜è´Ÿè½½æƒ…å†µä¸‹çš„è¡¨ç°ã€‚Webbench ä»£ç ç®€å•ï¼Œæ˜“äºç†è§£ï¼Œéå¸¸é€‚åˆåˆå­¦è€…å­¦ä¹ å’ŒæŒæ¡ Web æ€§èƒ½æµ‹è¯•çš„åŸºæœ¬æ¦‚å¿µå’Œå®ç°æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/qinguoyi/TinyWebServer"><strong>TinyWebServer</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux ä¸‹ C++ è½»é‡çº§ Web æœåŠ¡å™¨ï¼ŒåŠ©åŠ›åˆå­¦è€…å¿«é€Ÿå®è·µç½‘ç»œç¼–ç¨‹ï¼Œæ­å»ºå±äºè‡ªå·±çš„æœåŠ¡å™¨ï¼</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/Alinshans/MyTinySTL"><strong>è¿·ä½  STL åº“ MyTinySTL</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™é‡Œæ¨èä¸€ä¸ªå¤§ç¥å†™çš„é¡¹ç›® MyTinySTLï¼Œå®ƒä½¿ç”¨ C++11 é‡æ–°å¤å†™äº†ä¸€ä¸ªå°å‹ STLï¼ˆå®¹å™¨åº“ï¼‹ç®—æ³•åº“ï¼‰ã€‚ä»£ç ç»“æ„æ¸…æ™°è§„èŒƒã€åŒ…å«ä¸­æ–‡æ–‡æ¡£ä¸æ³¨é‡Šï¼Œå¹¶ä¸”è‡ªå¸¦ä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¡†æ¶ï¼Œéå¸¸é€‚åˆæ–°æ‰‹å­¦ä¹ ä¸å‚è€ƒï¼æ¶‰åŠæŠ€æœ¯ï¼šC++11 æ¨¡æ¿ç¼–ç¨‹ã€å†…å­˜ç®¡ç†æŠ€æœ¯ã€å®¹å™¨å®ç°ï¼ˆå¦‚ vectorã€listã€deque ç­‰ï¼‰ã€ç®—æ³•å®ç°ï¼ˆå¦‚æ’åºã€æŸ¥æ‰¾ç­‰ï¼‰ã€è¿­ä»£å™¨è®¾è®¡ã€é€‚é…å™¨æ¨¡å¼ç­‰ã€‚</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/mayerui/sudoku"><strong>sudoku</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨ C++ å®ç°çš„å‘½ä»¤è¡Œæ•°ç‹¬æ¸¸æˆï¼Œå‘½ä»¤è¡Œæ“ä½œæ˜“ä¸Šæ‰‹ï¼Œ600å¤šè¡Œä»£ç </span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/microsoft/calculator"><strong>calculator</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç³»ç»Ÿé¢„è£…çš„è®¡ç®—å™¨å·¥å…·å¼€æºäº†</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/yuesong-feng/30dayMakeCppServer"><strong>30dayMakeCppServer</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ¬é¡¹ç›® 30 å¤©è‡ªåˆ¶ C++ æœåŠ¡å™¨ï¼ŒåŒ…å«å›¾æ–‡æ•™ç¨‹å’Œæºç ï¼Œæ•™ä½ åœ¨ 30 å¤©å†…å…¥é—¨ Linux æœåŠ¡å™¨å¼€å‘ï¼Œè®²è§£äº† Socketã€epollã€çº¿ç¨‹æ± ã€CMake ç­‰çŸ¥è¯†ç‚¹ã€‚</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/SamyPesse/How-to-Make-a-Computer-Operating-System"><strong>How-to-Make-a-Computer-Operating-System</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¦‚ä½•ç”¨ C++ åˆ¶ä½œä¸€ä¸ªè®¡ç®—æœºæ“ä½œç³»ç»Ÿï¼Œè¿™ä¸ªé¡¹ç›®å°±å‘Šè¯‰ä½ ã€‚</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/aristocratos/btop"><strong>btop</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">çŸ¥é“è‡ªå·±ç”µè„‘çš„å¤„ç†å™¨ã€å†…å­˜ã€ç£ç›˜è¿™äº›ç¡¬ä»¶çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚ä½•çŸ¥é“ç½‘ç»œå’Œè¿›ç¨‹çš„ç»Ÿè®¡ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/alibaba/async_simple"><strong>async_simple</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">async_simple æ˜¯é˜¿é‡Œå¼€æºçš„è½»é‡çº§ C++ å¼‚æ­¥æ¡†æ¶ã€‚ </span><br><span class="line">è¯¥é¡¹ç›®æä¾›äº†åŸºäº C++20 æ— æ ˆåç¨‹(Lazy)ã€æœ‰æ ˆåç¨‹(Uthread) ä»¥åŠ Future/Promise ç­‰å¼‚æ­¥ç»„ä»¶ï¼Œèƒ½å¤Ÿè½»æ¾å®Œæˆ C++ å¼‚æ­¥çš„å¼€å‘ã€‚ </span><br><span class="line">ç›®å‰è¿™ä¸ªé¡¹ç›®å¹¿æ³›åº”ç”¨äºé˜¿é‡Œçš„å›¾è®¡ç®—å¼•æ“ã€æ—¶åºæ•°æ®åº“ã€æœç´¢å¼•æ“ç­‰ç³»ç»Ÿã€‚</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/sogou/workflow"><strong>workflow</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">workflow æ˜¯æœç‹—å¼€æºçš„ C++ æœåŠ¡å™¨å¼•æ“ã€‚</span><br><span class="line">è¿™ä¸ªé¡¹ç›®æœ‰ç‚¹ä¸œè¥¿ï¼Œæ”¯æ’‘æœç‹—å‡ ä¹æ‰€æœ‰åç«¯ C++ åœ¨çº¿æœåŠ¡ï¼š æœç´¢æœåŠ¡ äº‘è¾“å…¥æ³• å¹¿å‘Š ... æ¯æ—¥å¤„ç†å¤§æ¦‚è¶…è¿‡ç™¾äº¿çš„è¯·æ±‚ã€‚ </span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„ä¼ä¸šçº§ç¨‹åºå¼•æ“ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•° C++ åç«¯å¼€å‘éœ€æ±‚ã€‚ </span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/facebook/folly"><strong>folly</strong></a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">folly æ˜¯ Facebook å¼€æºçš„ C++ å·¥å…·åº“ã€‚ è¿™ä¸ªé¡¹ç›®åŒ…å«ä¸€ç³»åˆ—é«˜æ€§èƒ½çš„ C++ ç»„ä»¶åº“ï¼Œååˆ†çš„æ–¹ä¾¿ä¸”é«˜æ•ˆï¼Œè€Œä¸”æ˜¯åœ¨ Facebook å†…éƒ¨è¢«å¹¿æ³›åº”ç”¨ã€‚ è¯¥é¡¹ç›®ä¸ä»…ä»£ç è§„èŒƒæµ‹è¯•ç”¨ä¾‹å……è¶³ï¼Œè€Œä¸”æºç ä¸­åŒ…å«ä¸°å¯Œçš„æ³¨é‡Šã€‚</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      <categories>
        <category>practice problems</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç¨‹åº</tag>
        <tag>å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€ä½è¿ç®—</title>
    <url>/posts/8f9a0b1c/</url>
    <content><![CDATA[<img src="/img/PageCode/6.png" alt="Cè¯­è¨€ä½è¿ç®—" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦æŒæ¡ä½è¿ç®—ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦æŒæ¡ä½è¿ç®—ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦æŒæ¡ä½è¿ç®—ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦æŒæ¡ä½è¿ç®—ï¼Ÿ</h1><p>åœ¨è®¡ç®—æœºåº•å±‚ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨å’Œå¤„ç†ã€‚ä½è¿ç®—ï¼ˆBitwise Operationsï¼‰ä½œä¸ºç›´æ¥æ“ä½œäºŒè¿›åˆ¶ä½çš„å·¥å…·ï¼Œæ˜¯é«˜æ€§èƒ½è®¡ç®—ã€åµŒå…¥å¼å¼€å‘ã€ç®—æ³•ä¼˜åŒ–çš„æ ¸å¿ƒæŠ€èƒ½ã€‚ä»Šå¤©æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œæ·±å…¥ç†è§£**ä¸ï¼ˆ&amp;ï¼‰ã€æˆ–ï¼ˆ|ï¼‰ã€å¼‚æˆ–ï¼ˆ^ï¼‰ã€å–åï¼ˆ~ï¼‰ã€ç§»ä½ï¼ˆ&lt;&lt;ã€&gt;&gt;ï¼‰**ç­‰ä½è¿ç®—çš„åº”ç”¨åœºæ™¯ï¼Œå¹¶å®ç°ä¸€ç»„å®ç”¨çš„ä½æ“ä½œå‡½æ•°ã€‚</p>
<hr>
<h1 id="ä½è¿ç®—åŸºç¡€ï¼šäºŒè¿›åˆ¶è§†è§’ä¸‹çš„æ•°å­—"><a href="#ä½è¿ç®—åŸºç¡€ï¼šäºŒè¿›åˆ¶è§†è§’ä¸‹çš„æ•°å­—" class="headerlink" title="ä½è¿ç®—åŸºç¡€ï¼šäºŒè¿›åˆ¶è§†è§’ä¸‹çš„æ•°å­—"></a>ä½è¿ç®—åŸºç¡€ï¼šäºŒè¿›åˆ¶è§†è§’ä¸‹çš„æ•°å­—</h1><p>è¦æŒæ¡ä½è¿ç®—ï¼Œé¦–å…ˆéœ€è¦ç†è§£äºŒè¿›åˆ¶æ•°çš„è¡¨ç¤ºè§„åˆ™ï¼š</p>
<ul>
<li><strong>æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰</strong>ï¼šäºŒè¿›åˆ¶æ•°çš„æœ€å³è¾¹ä¸€ä½ï¼ˆ2â°ä½ï¼‰ï¼Œå†³å®šæ•°çš„å¥‡å¶æ€§ï¼›</li>
<li><strong>é«˜ä½</strong>ï¼šä»å³å¾€å·¦ä¾æ¬¡ä¸º2Â¹ã€2Â²...2â¿ä½ï¼Œæ¯ä¸€ä½ä»£è¡¨2çš„å¹‚æ¬¡ï¼›</li>
<li><strong>è¡¥ç è¡¨ç¤º</strong>ï¼šè´Ÿæ•°åœ¨å†…å­˜ä¸­ä»¥è¡¥ç å½¢å¼å­˜å‚¨ï¼ˆåŸç å–å+1ï¼‰ï¼Œè¿™æ˜¯ä½è¿ç®—å¤„ç†è´Ÿæ•°çš„å…³é”®ã€‚</li>
</ul>
<hr>
<h1 id="å®æˆ˜å‡½æ•°è§£æï¼šé€ä¸ªå‡»ç ´ä½è¿ç®—é—®é¢˜"><a href="#å®æˆ˜å‡½æ•°è§£æï¼šé€ä¸ªå‡»ç ´ä½è¿ç®—é—®é¢˜" class="headerlink" title="å®æˆ˜å‡½æ•°è§£æï¼šé€ä¸ªå‡»ç ´ä½è¿ç®—é—®é¢˜"></a>å®æˆ˜å‡½æ•°è§£æï¼šé€ä¸ªå‡»ç ´ä½è¿ç®—é—®é¢˜</h1><h2 id="1-åˆ¤æ–­å¥‡æ•°ï¼šæœ€ä½ä½çš„ã€Œ1ã€å¯†ç "><a href="#1-åˆ¤æ–­å¥‡æ•°ï¼šæœ€ä½ä½çš„ã€Œ1ã€å¯†ç " class="headerlink" title="1. åˆ¤æ–­å¥‡æ•°ï¼šæœ€ä½ä½çš„ã€Œ1ã€å¯†ç "></a>1. åˆ¤æ–­å¥‡æ•°ï¼šæœ€ä½ä½çš„ã€Œ1ã€å¯†ç </h2><p><strong>é—®é¢˜æè¿°</strong>ï¼šåˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦ä¸ºå¥‡æ•°ã€‚<br> â€‹<strong>â€‹ä½è¿ç®—æ€è·¯â€‹</strong>â€‹ï¼šå¥‡æ•°çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸€å®šæ˜¯1ï¼Œå¶æ•°çš„æœ€ä½ä½æ˜¯0ã€‚å› æ­¤ï¼Œåªéœ€å°†æ•°å­—ä¸1ï¼ˆäºŒè¿›åˆ¶000...0001ï¼‰è¿›è¡ŒæŒ‰ä½ä¸ï¼ˆ&amp;ï¼‰æ“ä½œï¼Œè‹¥ç»“æœä¸º1åˆ™æ˜¯å¥‡æ•°ï¼Œå¦åˆ™æ˜¯å¶æ•°ã€‚</p>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void is_odd(int num) &#123;</span><br><span class="line">    // å¥‡æ•°çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸€å®šæ˜¯1ï¼Œç”¨ num &amp; 1 ä¿ç•™æœ€ä½ä½</span><br><span class="line">    int result = num &amp; 1;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸ºå¥‡æ•°ï¼Ÿ%s\n&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹éªŒè¯</strong>ï¼š</p>
<ul>
<li>è¾“å…¥5ï¼ˆäºŒè¿›åˆ¶101ï¼‰ï¼š5 &amp; 1 &#x3D; 1 â†’ å¥‡æ•°ï¼›</li>
<li>è¾“å…¥6ï¼ˆäºŒè¿›åˆ¶110ï¼‰ï¼š6 &amp; 1 &#x3D; 0 â†’ å¶æ•°ã€‚</li>
</ul>
<hr>
<h2 id="2-åˆ¤æ–­2çš„å¹‚ï¼šäºŒè¿›åˆ¶ä¸­çš„ã€Œå­¤ç‹¬1ã€"><a href="#2-åˆ¤æ–­2çš„å¹‚ï¼šäºŒè¿›åˆ¶ä¸­çš„ã€Œå­¤ç‹¬1ã€" class="headerlink" title="2. åˆ¤æ–­2çš„å¹‚ï¼šäºŒè¿›åˆ¶ä¸­çš„ã€Œå­¤ç‹¬1ã€"></a>2. åˆ¤æ–­2çš„å¹‚ï¼šäºŒè¿›åˆ¶ä¸­çš„ã€Œå­¤ç‹¬1ã€</h2><p><strong>é—®é¢˜æè¿°</strong>ï¼šåˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°æ˜¯å¦æ˜¯2çš„å¹‚ï¼ˆå¦‚1&#x3D;2â°ï¼Œ2&#x3D;2Â¹ï¼Œ4&#x3D;2Â²...ï¼‰ã€‚<br> â€‹<strong>â€‹ä½è¿ç®—æ€è·¯â€‹</strong>â€‹ï¼š2çš„å¹‚çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­åªæœ‰ä¸€ä¸ª1ï¼ˆå¦‚8&#x3D;1000â‚‚ï¼‰ï¼Œè‹¥å°†å…¶å‡1ï¼ˆå¦‚8-1&#x3D;7&#x3D;0111â‚‚ï¼‰ï¼Œåˆ™åŸæ•°ä¸å‡1åçš„æ•°æŒ‰ä½ä¸ç»“æœå¿…ä¸º0ï¼ˆ1000 &amp; 0111 &#x3D; 0000ï¼‰ã€‚æ³¨æ„ï¼š0å’Œè´Ÿæ•°ä¸å¯èƒ½æ˜¯2çš„å¹‚ã€‚</p>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void is_Power_of_two(int num) &#123;</span><br><span class="line">    // 2çš„å¹‚å¿…é¡»æ˜¯æ­£æ•´æ•°</span><br><span class="line">    if (num &lt;= 0) &#123;</span><br><span class="line">        printf(&quot;æ•°å­— %d ä¸æ˜¯2çš„å¹‚ï¼ˆéœ€ä¸ºæ­£æ•´æ•°ï¼‰\n&quot;, num);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // è‹¥ num æ˜¯2çš„å¹‚ï¼Œåˆ™ num &amp; (num - 1) å¿…ä¸º0ï¼ˆå¦‚8=1000ï¼Œ8-1=0111ï¼Œä¸è¿ç®—ç»“æœä¸º0ï¼‰</span><br><span class="line">    int result = (num &amp; (num - 1)) == 0;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸º2çš„å¹‚ï¼Ÿ%s\n&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹éªŒè¯</strong>ï¼š</p>
<ul>
<li>è¾“å…¥8ï¼ˆ1000â‚‚ï¼‰ï¼š8 &amp; 7 &#x3D; 0 â†’ æ˜¯2çš„å¹‚ï¼›</li>
<li>è¾“å…¥6ï¼ˆ0110â‚‚ï¼‰ï¼š6 &amp; 5 &#x3D; 4 â‰  0 â†’ ä¸æ˜¯ã€‚</li>
</ul>
<hr>
<h2 id="3-æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰ï¼šå®šä½ç¬¬ä¸€ä¸ªã€Œ1ã€"><a href="#3-æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰ï¼šå®šä½ç¬¬ä¸€ä¸ªã€Œ1ã€" class="headerlink" title="3. æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰ï¼šå®šä½ç¬¬ä¸€ä¸ªã€Œ1ã€"></a>3. æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLSBï¼‰ï¼šå®šä½ç¬¬ä¸€ä¸ªã€Œ1ã€</h2><p><strong>é—®é¢˜æè¿°</strong>ï¼šç»™å®šéé›¶æ•´æ•°ï¼Œæ‰¾å‡ºå…¶å€¼ä¸º1çš„æœ€ä½æœ‰æ•ˆä½çš„ä½ç½®ï¼ˆå¦‚6&#x3D;110â‚‚ï¼Œæœ€ä½æœ‰æ•ˆä½æ˜¯ç¬¬2ä½ï¼Œå¯¹åº”å€¼ä¸º2Â¹&#x3D;2ï¼‰ã€‚<br> â€‹<strong>â€‹ä½è¿ç®—æ€è·¯â€‹</strong>â€‹ï¼šåˆ©ç”¨è¡¥ç ç‰¹æ€§ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯åŸç å–å+1ã€‚å› æ­¤ï¼Œ<code>num &amp; (-num)</code>ä¼šå°†åŸæ•°ä¸­æœ€ä½ä½çš„1ä¿ç•™ï¼Œå…¶ä½™ä½æ¸…é›¶ï¼ˆå¦‚6&#x3D;000...0110ï¼Œ-6&#x3D;111...1010ï¼Œ6 &amp; -6&#x3D;000...0010&#x3D;2ï¼‰ã€‚</p>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void find_lsb(int num) &#123;</span><br><span class="line">    if (num == 0) &#123;  // 0æ²¡æœ‰æœ‰æ•ˆä½</span><br><span class="line">        printf(&quot;æ•°å­—0æ²¡æœ‰æœ€ä½æœ‰æ•ˆä½\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆ©ç”¨è¡¥ç ç‰¹æ€§ï¼šnum &amp; (-num) ä¼šä¿ç•™æœ€ä½ä½çš„1ï¼Œå…¶ä½™ä½æ¸…é›¶</span><br><span class="line">    int lsb_value = num &amp; (-num);</span><br><span class="line">    printf(&quot;æ•°å­— %d çš„æœ€ä½æœ‰æ•ˆä½å€¼æ˜¯ï¼š%d\n&quot;, num, lsb_value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹éªŒè¯</strong>ï¼š</p>
<ul>
<li>è¾“å…¥6ï¼ˆ0110â‚‚ï¼‰ï¼š6 &amp; -6 &#x3D; 2ï¼ˆ0010â‚‚ï¼‰â†’ æœ€ä½æœ‰æ•ˆä½æ˜¯2ï¼›</li>
<li>è¾“å…¥12ï¼ˆ1100â‚‚ï¼‰ï¼š12 &amp; -12 &#x3D; 4ï¼ˆ0100â‚‚ï¼‰â†’ æœ€ä½æœ‰æ•ˆä½æ˜¯4ã€‚</li>
</ul>
<hr>
<h2 id="4-äº¤æ¢æ•°å€¼ï¼šå¼‚æˆ–çš„è‡ªåé­”æ³•"><a href="#4-äº¤æ¢æ•°å€¼ï¼šå¼‚æˆ–çš„è‡ªåé­”æ³•" class="headerlink" title="4. äº¤æ¢æ•°å€¼ï¼šå¼‚æˆ–çš„è‡ªåé­”æ³•"></a>4. äº¤æ¢æ•°å€¼ï¼šå¼‚æˆ–çš„è‡ªåé­”æ³•</h2><p><strong>é—®é¢˜æè¿°</strong>ï¼šä¸ä½¿ç”¨ä¸´æ—¶å˜é‡ï¼Œäº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼ã€‚<br> â€‹<strong>â€‹ä½è¿ç®—æ€è·¯â€‹</strong>â€‹ï¼šå¼‚æˆ–ï¼ˆ^ï¼‰æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ul>
<li><code>a ^ a = 0</code>ï¼ˆç›¸åŒæ•°å¼‚æˆ–ä¸º0ï¼‰ï¼›</li>
<li><code>a ^ 0 = a</code>ï¼ˆä»»ä½•æ•°å¼‚æˆ–0ä¸å˜ï¼‰ï¼›</li>
<li>å¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ã€‚</li>
</ul>
<p>åˆ©ç”¨è¿™äº›æ€§è´¨ï¼Œå¯é€šè¿‡ä¸‰æ¬¡å¼‚æˆ–æ“ä½œå®Œæˆäº¤æ¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void change(int *a, int *b) &#123;</span><br><span class="line">    if (a == b) return;  // é¿å…ç›¸åŒåœ°å€å¼‚æˆ–å¯¼è‡´ç»“æœä¸º0</span><br><span class="line">    *a ^= *b;  // a = a ^ b</span><br><span class="line">    *b ^= *a;  // b = (a ^ b) ^ b = a</span><br><span class="line">    *a ^= *b;  // a = (a ^ b) ^ a = b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ­£è¯´æ˜</strong>ï¼šåŸä»£ç ä¸­<code>change</code>å‡½æ•°å‚æ•°ä¸ºå€¼ä¼ é€’ï¼ˆ<code>int a, int b</code>ï¼‰ï¼Œæ— æ³•ä¿®æ”¹ä¸»å‡½æ•°ä¸­çš„å˜é‡ã€‚æ­£ç¡®å®ç°éœ€ä½¿ç”¨æŒ‡é’ˆï¼ˆ<code>int *a, int *b</code>ï¼‰ã€‚</p>
<hr>
<h2 id="5-å¯»æ‰¾å”¯ä¸€å…ƒç´ ï¼šå¼‚æˆ–çš„ã€Œåˆ†ç»„ã€è‰ºæœ¯"><a href="#5-å¯»æ‰¾å”¯ä¸€å…ƒç´ ï¼šå¼‚æˆ–çš„ã€Œåˆ†ç»„ã€è‰ºæœ¯" class="headerlink" title="5. å¯»æ‰¾å”¯ä¸€å…ƒç´ ï¼šå¼‚æˆ–çš„ã€Œåˆ†ç»„ã€è‰ºæœ¯"></a>5. å¯»æ‰¾å”¯ä¸€å…ƒç´ ï¼šå¼‚æˆ–çš„ã€Œåˆ†ç»„ã€è‰ºæœ¯</h2><p><strong>é—®é¢˜æè¿°</strong>ï¼šç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡å¤–ï¼Œå…¶ä½™å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºè¿™ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæ‰©å±•ï¼šè‹¥æœ‰ä¸¤ä¸ªå…ƒç´ å„å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼Œå¦‚ä½•æ‰¾å‡ºè¿™ä¸¤ä¸ªå…ƒç´ ï¼Ÿï¼‰ã€‚</p>
<h3 id="åœºæ™¯1ï¼šä»…ä¸€ä¸ªå”¯ä¸€å…ƒç´ "><a href="#åœºæ™¯1ï¼šä»…ä¸€ä¸ªå”¯ä¸€å…ƒç´ " class="headerlink" title="åœºæ™¯1ï¼šä»…ä¸€ä¸ªå”¯ä¸€å…ƒç´ "></a>åœºæ™¯1ï¼šä»…ä¸€ä¸ªå”¯ä¸€å…ƒç´ </h3><p><strong>ä½è¿ç®—æ€è·¯</strong>ï¼šåˆ©ç”¨å¼‚æˆ–æ€§è´¨ï¼Œç›¸åŒæ•°å¼‚æˆ–ç»“æœä¸º0ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ä¸ºè‡ªèº«ã€‚å› æ­¤ï¼Œéå†æ•°ç»„å¼‚æˆ–æ‰€æœ‰å…ƒç´ ï¼Œæœ€ç»ˆç»“æœå³ä¸ºå”¯ä¸€å…ƒç´ ã€‚</p>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int find_only(int nums[], int length) &#123;</span><br><span class="line">    int result = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        result ^= nums[i];  // å¼‚æˆ–æ€§è´¨ï¼šç›¸åŒæ•°å¼‚æˆ–ä¸º0ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ä¸ºè‡ªèº«</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åœºæ™¯2ï¼šä¸¤ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæ‰©å±•ï¼‰"><a href="#åœºæ™¯2ï¼šä¸¤ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæ‰©å±•ï¼‰" class="headerlink" title="åœºæ™¯2ï¼šä¸¤ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæ‰©å±•ï¼‰"></a>åœºæ™¯2ï¼šä¸¤ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæ‰©å±•ï¼‰</h3><p><strong>ä½è¿ç®—æ€è·¯</strong>ï¼š</p>
<ol>
<li>å…ˆå¼‚æˆ–æ‰€æœ‰å…ƒç´ ï¼Œå¾—åˆ°ä¸¤ä¸ªå”¯ä¸€å…ƒç´ çš„å¼‚æˆ–ç»“æœï¼ˆè®°ä¸º<code>lsb</code>ï¼‰ï¼›</li>
<li><code>lsb</code>çš„äºŒè¿›åˆ¶ä¸­è‡³å°‘æœ‰ä¸€ä½æ˜¯1ï¼ˆå› ä¸ºä¸¤æ•°ä¸åŒï¼‰ï¼Œæ‰¾åˆ°æœ€ä½ä½çš„1ï¼ˆå³<code>lsb &amp; (-lsb)</code>ï¼‰ï¼›</li>
<li>æ ¹æ®è¯¥ä½å°†æ•°ç»„åˆ†ä¸ºä¸¤ç»„ï¼ˆè¯¥ä½ä¸º1å’Œè¯¥ä½ä¸º0ï¼‰ï¼Œæ¯ç»„å†…çš„å…ƒç´ å¼‚æˆ–ç»“æœå³ä¸ºä¸¤ä¸ªå”¯ä¸€å…ƒç´ ã€‚</li>
</ol>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void find_two(int nums[], int length) &#123;</span><br><span class="line">    if (length &lt; 2) &#123;</span><br><span class="line">        printf(&quot;æ•°ç»„é•¿åº¦è‡³å°‘ä¸º2\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸€è½®å¼‚æˆ–ï¼šå¾—åˆ°ä¸¤ä¸ªå”¯ä¸€å…ƒç´ çš„å¼‚æˆ–ç»“æœï¼ˆè®°ä¸º xor_sumï¼‰</span><br><span class="line">    int xor_sum = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        xor_sum ^= nums[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰¾åˆ° xor_sum ä¸­æœ€ä½ä½çš„1ï¼ˆè¯¥ä½æ˜¯ä¸¤ä¸ªå”¯ä¸€å…ƒç´ ä¸åŒçš„ä½ï¼‰</span><br><span class="line">    int lsb = xor_sum &amp; (-xor_sum);</span><br><span class="line"></span><br><span class="line">    // ç¬¬äºŒè½®å¼‚æˆ–ï¼šæŒ‰ lsb åˆ†ç»„å¼‚æˆ–ï¼Œæ¯ç»„ç»“æœå³ä¸ºä¸€ä¸ªå”¯ä¸€å…ƒç´ </span><br><span class="line">    int a = 0, b = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        if (nums[i] &amp; lsb) &#123;  // è¯¥ä½ä¸º1çš„å…ƒç´ åˆ†åˆ°ç»„a</span><br><span class="line">            a ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;  // è¯¥ä½ä¸º0çš„å…ƒç´ åˆ†åˆ°ç»„b</span><br><span class="line">            b ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;æ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°çš„å…ƒç´ æ˜¯ï¼š%d å’Œ %d\n&quot;, a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹éªŒè¯</strong>ï¼š</p>
<ul>
<li>æ•°ç»„<code>[2, 3, 2, 4]</code>ï¼šå”¯ä¸€å…ƒç´ æ˜¯3å’Œ4ï¼›<br> ç¬¬ä¸€è½®å¼‚æˆ–ï¼š2^3^2^4 &#x3D; 3^4 &#x3D; 7ï¼ˆäºŒè¿›åˆ¶111ï¼‰ï¼›<br> lsb &#x3D; 7 &amp; (-7) &#x3D; 1ï¼ˆäºŒè¿›åˆ¶001ï¼‰ï¼›<br> åˆ†ç»„å¼‚æˆ–ï¼š3ï¼ˆ011ï¼‰åœ¨ç»„1ï¼ˆlsb&#x3D;1ï¼‰ï¼Œ4ï¼ˆ100ï¼‰åœ¨ç»„2ï¼ˆlsb&#x3D;0ï¼‰ï¼Œç»“æœa&#x3D;3ï¼Œb&#x3D;4ã€‚</li>
</ul>
<hr>
<h1 id="æ³¨æ„äº‹é¡¹ä¸å¸¸è§é™·é˜±"><a href="#æ³¨æ„äº‹é¡¹ä¸å¸¸è§é™·é˜±" class="headerlink" title="æ³¨æ„äº‹é¡¹ä¸å¸¸è§é™·é˜±"></a>æ³¨æ„äº‹é¡¹ä¸å¸¸è§é™·é˜±</h1><ol>
<li><strong>æŒ‡é’ˆä¼ é€’çš„é‡è¦æ€§</strong>ï¼š<code>change</code>å‡½æ•°è‹¥ä½¿ç”¨å€¼ä¼ é€’æ— æ³•ä¿®æ”¹åŸå˜é‡ï¼Œå¿…é¡»ç”¨æŒ‡é’ˆï¼ˆ<code>int *</code>ï¼‰ï¼›</li>
<li><strong>è´Ÿæ•°å¤„ç†</strong>ï¼šä½è¿ç®—ä¸­è´Ÿæ•°ä»¥è¡¥ç å½¢å¼å­˜åœ¨ï¼Œéœ€æ³¨æ„ç¬¦å·ä½çš„å½±å“ï¼ˆå¦‚<code>-1</code>çš„äºŒè¿›åˆ¶æ˜¯å…¨1ï¼‰ï¼›</li>
<li><strong>ç§»ä½æº¢å‡º</strong>ï¼šå·¦ç§»æ“ä½œï¼ˆ<code>&lt;&lt;</code>ï¼‰å¯èƒ½å¯¼è‡´é«˜ä½ä¸¢å¤±ï¼ˆå¦‚<code>int</code>ç±»å‹å·¦ç§»32ä½ç»“æœæœªå®šä¹‰ï¼‰ï¼›</li>
<li><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼šåˆ¤æ–­2çš„å¹‚æ—¶éœ€æ’é™¤0å’Œè´Ÿæ•°ï¼ˆå¦‚<code>num=0</code>æ—¶<code>num&amp;(num-1)</code>ä¼šå¼•å‘é”™è¯¯ï¼‰ã€‚</li>
</ol>
<hr>
<h1 id="æ€»ç»“ï¼šä½è¿ç®—çš„æ ¸å¿ƒä»·å€¼"><a href="#æ€»ç»“ï¼šä½è¿ç®—çš„æ ¸å¿ƒä»·å€¼" class="headerlink" title="æ€»ç»“ï¼šä½è¿ç®—çš„æ ¸å¿ƒä»·å€¼"></a>æ€»ç»“ï¼šä½è¿ç®—çš„æ ¸å¿ƒä»·å€¼</h1><p>ä½è¿ç®—ä¸ä»…æ˜¯Cè¯­è¨€çš„åŸºç¡€æŠ€èƒ½ï¼Œæ›´æ˜¯ç†è§£è®¡ç®—æœºåº•å±‚åŸç†çš„å…³é”®ã€‚é€šè¿‡æœ¬æ–‡çš„å®æˆ˜æ¡ˆä¾‹ï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š</p>
<ul>
<li>å¦‚ä½•ç”¨ä½è¿ç®—å¿«é€Ÿåˆ¤æ–­å¥‡å¶ã€2çš„å¹‚ï¼›</li>
<li>å¦‚ä½•å®šä½æœ€ä½æœ‰æ•ˆä½ï¼›</li>
<li>å¦‚ä½•ç”¨å¼‚æˆ–å®ç°æ— ä¸´æ—¶å˜é‡äº¤æ¢ï¼›</li>
<li>å¦‚ä½•ç”¨å¼‚æˆ–åˆ†ç»„è§£å†³å¤æ‚å”¯ä¸€å…ƒç´ é—®é¢˜ã€‚</li>
</ul>
<p>ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œä¸å¦¨å°è¯•ç”¨äºŒè¿›åˆ¶è§†è§’é‡æ–°å®¡è§†æ•°æ®â€”â€”ä½è¿ç®—çš„ç®€æ´ä¸é«˜æ•ˆï¼Œä¼šè®©ä½ æƒŠå¹äºè®¡ç®—æœºä¸–ç•Œçš„ã€Œä½ã€å¦™ï¼</p>
<blockquote>
<p>æç¤ºï¼šå®é™…å¼€å‘ä¸­éœ€æ³¨æ„ä½è¿ç®—çš„å¯è¯»æ€§ï¼Œé¿å…è¿‡åº¦ä¼˜åŒ–å¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚å¯¹äºå¤æ‚åœºæ™¯ï¼ˆå¦‚å¤§ç«¯å°ç«¯å¤„ç†ï¼‰ï¼Œå»ºè®®ç»“åˆå…·ä½“ç¡¬ä»¶æ¶æ„æ–‡æ¡£è¿›è¡Œé€‚é…ã€‚</p>
</blockquote>
<hr>
<h1 id="é™„å½•ï¼šå®Œæ•´æºä»£ç ä¸æ–‡ä»¶è¯´æ˜"><a href="#é™„å½•ï¼šå®Œæ•´æºä»£ç ä¸æ–‡ä»¶è¯´æ˜" class="headerlink" title="é™„å½•ï¼šå®Œæ•´æºä»£ç ä¸æ–‡ä»¶è¯´æ˜"></a>é™„å½•ï¼šå®Œæ•´æºä»£ç ä¸æ–‡ä»¶è¯´æ˜</h1><p>ä¸ºäº†æ–¹ä¾¿è¯»è€…å¤ç°ä¸è°ƒè¯•ï¼Œä»¥ä¸‹æ˜¯é¡¹ç›®çš„å®Œæ•´æºä»£ç ï¼Œå¹¶é™„å„æ–‡ä»¶åŠŸèƒ½è¯´æ˜ã€‚</p>
<hr>
<h2 id="1-function-h-â€”â€”-å¤´æ–‡ä»¶ï¼ˆå‡½æ•°å£°æ˜ä¸å®å®šä¹‰ï¼‰"><a href="#1-function-h-â€”â€”-å¤´æ–‡ä»¶ï¼ˆå‡½æ•°å£°æ˜ä¸å®å®šä¹‰ï¼‰" class="headerlink" title="1. function.h â€”â€” å¤´æ–‡ä»¶ï¼ˆå‡½æ•°å£°æ˜ä¸å®å®šä¹‰ï¼‰"></a>1. <code>function.h</code> â€”â€” å¤´æ–‡ä»¶ï¼ˆå‡½æ•°å£°æ˜ä¸å®å®šä¹‰ï¼‰</h2><p><strong>æ–‡ä»¶ä½œç”¨</strong>ï¼š<br> å£°æ˜éœ€è¦å®ç°çš„ä½è¿ç®—å‡½æ•°ï¼Œä»¥åŠå¿…è¦çš„å®å®šä¹‰ï¼ˆå¦‚é˜²æ­¢å¤´æ–‡ä»¶é‡å¤åŒ…å«ï¼‰ã€‚å¤´æ–‡ä»¶æ˜¯Cè¯­è¨€ä¸­å®ç°æ¨¡å—åŒ–ç¼–ç¨‹çš„å…³é”®ï¼Œé€šè¿‡<code>#include</code>æŒ‡ä»¤è¢«å…¶ä»–æºæ–‡ä»¶å¼•ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef FUNCTION_H  // é˜²æ­¢å¤´æ–‡ä»¶é‡å¤åŒ…å«</span><br><span class="line">#define FUNCTION_H</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šåˆ¤æ–­æ•´æ•°æ˜¯å¦ä¸ºå¥‡æ•°</span><br><span class="line">void is_odd(int num);</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šåˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚</span><br><span class="line">void is_Power_of_two(int num);</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šæŸ¥æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLast Set Bitï¼‰</span><br><span class="line">void find_lsb(int num);</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šäº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼ï¼ˆå¼‚æˆ–å®ç°ï¼‰</span><br><span class="line">void change(int *a, int *b);  // æ³¨æ„ï¼šå¿…é¡»ç”¨æŒ‡é’ˆä¼ é€’æ‰èƒ½ä¿®æ”¹åŸå˜é‡</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­å”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">int find_only(int nums[], int length);</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">void find_two(int nums[], int length);</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="2-function-c-â€”â€”-æºæ–‡ä»¶ï¼ˆå‡½æ•°å®ç°ï¼‰"><a href="#2-function-c-â€”â€”-æºæ–‡ä»¶ï¼ˆå‡½æ•°å®ç°ï¼‰" class="headerlink" title="2. function.c â€”â€” æºæ–‡ä»¶ï¼ˆå‡½æ•°å®ç°ï¼‰"></a>2. <code>function.c</code> â€”â€” æºæ–‡ä»¶ï¼ˆå‡½æ•°å®ç°ï¼‰</h2><p><strong>æ–‡ä»¶ä½œç”¨</strong>ï¼š<br> å®ç°<code>function.h</code>ä¸­å£°æ˜çš„æ‰€æœ‰ä½è¿ç®—å‡½æ•°ã€‚å°†å‡½æ•°å®ç°ä¸å£°æ˜åˆ†ç¦»ï¼Œç¬¦åˆCè¯­è¨€çš„æ¨¡å—åŒ–ç¼–ç¨‹è§„èŒƒï¼Œä¾¿äºç»´æŠ¤ä¸ä»£ç å¤ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;function.h&quot;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šåˆ¤æ–­æ•´æ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼ˆæœ€ä½ä½æ˜¯å¦ä¸º1ï¼‰</span><br><span class="line">void is_odd(int num) &#123;</span><br><span class="line">    // å¥‡æ•°çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸€å®šæ˜¯1ï¼Œç”¨ num &amp; 1 ä¿ç•™æœ€ä½ä½</span><br><span class="line">    int result = num &amp; 1;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸ºå¥‡æ•°ï¼Ÿ%s&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šåˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚ï¼ˆäºŒè¿›åˆ¶ä»…æœ‰ä¸€ä¸ª1ï¼‰</span><br><span class="line">void is_Power_of_two(int num) &#123;</span><br><span class="line">// 2çš„å¹‚å¿…é¡»æ˜¯æ­£æ•´æ•°</span><br><span class="line">    if (num &lt;= 0) &#123;  </span><br><span class="line">        printf(&quot;æ•°å­— %d ä¸æ˜¯2çš„å¹‚ï¼ˆéœ€ä¸ºæ­£æ•´æ•°ï¼‰&quot;, num);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // è‹¥ num æ˜¯2çš„å¹‚ï¼Œåˆ™ num &amp; (num - 1) å¿…ä¸º0ï¼ˆå¦‚8=1000ï¼Œ8-1=0111ï¼Œä¸è¿ç®—ç»“æœä¸º0ï¼‰</span><br><span class="line">    int result = (num &amp; (num - 1)) == 0;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸º2çš„å¹‚ï¼Ÿ%s&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLast Set Bitï¼‰</span><br><span class="line">void find_lsb(int num) &#123;</span><br><span class="line">    if (num == 0) &#123;  // 0æ²¡æœ‰æœ‰æ•ˆä½</span><br><span class="line">        printf(&quot;æ•°å­—0æ²¡æœ‰æœ€ä½æœ‰æ•ˆä½&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆ©ç”¨è¡¥ç ç‰¹æ€§ï¼šnum &amp; (-num) ä¼šä¿ç•™æœ€ä½ä½çš„1ï¼Œå…¶ä½™ä½æ¸…é›¶</span><br><span class="line">    int lsb_value = num &amp; (-num);</span><br><span class="line">    printf(&quot;æ•°å­— %d çš„æœ€ä½æœ‰æ•ˆä½å€¼æ˜¯ï¼š%dï¼ˆå¯¹åº”2^%dä½ï¼‰&quot;, num, lsb_value, __builtin_ctz(lsb_value));  </span><br><span class="line">// __builtin_ctzè®¡ç®—æœ«å°¾0çš„ä¸ªæ•°ï¼ˆGCCå†…ç½®å‡½æ•°ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šäº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼ï¼ˆå¼‚æˆ–æ— ä¸´æ—¶å˜é‡ç‰ˆï¼‰</span><br><span class="line">void change(int *a, int *b) &#123;</span><br><span class="line">    if (a == b) return;  // é¿å…ç›¸åŒåœ°å€å¼‚æˆ–å¯¼è‡´ç»“æœä¸º0</span><br><span class="line">    *a ^= *b;  // a = a ^ b</span><br><span class="line">    *b ^= *a;  // b = (a ^ b) ^ b = a</span><br><span class="line">    *a ^= *b;  // a = (a ^ b) ^ a = b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­å”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">int find_only(int nums[], int length) &#123;</span><br><span class="line">    int result = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        result ^= nums[i];  // å¼‚æˆ–æ€§è´¨ï¼šç›¸åŒæ•°å¼‚æˆ–ä¸º0ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ä¸ºè‡ªèº«</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">void find_two(int nums[], int length) &#123;</span><br><span class="line">    if (length &lt; 2) &#123;</span><br><span class="line">    printf(&quot;æ•°ç»„é•¿åº¦è‡³å°‘ä¸º2&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸€è½®å¼‚æˆ–ï¼šå¾—åˆ°ä¸¤ä¸ªå”¯ä¸€å…ƒç´ çš„å¼‚æˆ–ç»“æœï¼ˆè®°ä¸º xor_sumï¼‰</span><br><span class="line">    int xor_sum = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        xor_sum ^= nums[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰¾åˆ° xor_sum ä¸­æœ€ä½ä½çš„1ï¼ˆè¯¥ä½æ˜¯ä¸¤ä¸ªå”¯ä¸€å…ƒç´ ä¸åŒçš„ä½ï¼‰</span><br><span class="line">    int lsb = xor_sum &amp; (-xor_sum);</span><br><span class="line"></span><br><span class="line">    // ç¬¬äºŒè½®å¼‚æˆ–ï¼šæŒ‰ lsb åˆ†ç»„å¼‚æˆ–ï¼Œæ¯ç»„ç»“æœå³ä¸ºä¸€ä¸ªå”¯ä¸€å…ƒç´ </span><br><span class="line">    int a = 0, b = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        if (nums[i] &amp; lsb) &#123;  // è¯¥ä½ä¸º1çš„å…ƒç´ åˆ†åˆ°ç»„a</span><br><span class="line">            a ^= nums[i];</span><br><span class="line">        &#125; else &#123;  // è¯¥ä½ä¸º0çš„å…ƒç´ åˆ†åˆ°ç»„b</span><br><span class="line">            b ^= nums[i];#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;function.h&quot;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šåˆ¤æ–­æ•´æ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼ˆæœ€ä½ä½æ˜¯å¦ä¸º1ï¼‰</span><br><span class="line">void is_odd(int num) &#123;</span><br><span class="line">    // å¥‡æ•°çš„äºŒè¿›åˆ¶æœ€ä½ä½ä¸€å®šæ˜¯1ï¼Œç”¨ num &amp; 1 ä¿ç•™æœ€ä½ä½</span><br><span class="line">    int result = num &amp; 1;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸ºå¥‡æ•°ï¼Ÿ%s\n&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šåˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚ï¼ˆäºŒè¿›åˆ¶ä»…æœ‰ä¸€ä¸ª1ï¼‰</span><br><span class="line">void is_Power_of_two(int num) &#123;</span><br><span class="line">    // 2çš„å¹‚å¿…é¡»æ˜¯æ­£æ•´æ•°</span><br><span class="line">    if (num &lt;= 0) &#123;</span><br><span class="line">        printf(&quot;æ•°å­— %d ä¸æ˜¯2çš„å¹‚ï¼ˆéœ€ä¸ºæ­£æ•´æ•°ï¼‰\n&quot;, num);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // è‹¥ num æ˜¯2çš„å¹‚ï¼Œåˆ™ num &amp; (num - 1) å¿…ä¸º0ï¼ˆå¦‚8=1000ï¼Œ8-1=0111ï¼Œä¸è¿ç®—ç»“æœä¸º0ï¼‰</span><br><span class="line">    int result = (num &amp; (num - 1)) == 0;</span><br><span class="line">    printf(&quot;æ•°å­— %d æ˜¯å¦ä¸º2çš„å¹‚ï¼Ÿ%s\n&quot;, num, result ? &quot;æ˜¯&quot; : &quot;å¦&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æœ€ä½æœ‰æ•ˆä½ï¼ˆLast Set Bitï¼‰</span><br><span class="line">void find_lsb(int num) &#123;</span><br><span class="line">    if (num == 0) &#123;  // 0æ²¡æœ‰æœ‰æ•ˆä½</span><br><span class="line">        printf(&quot;æ•°å­—0æ²¡æœ‰æœ€ä½æœ‰æ•ˆä½\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆ©ç”¨è¡¥ç ç‰¹æ€§ï¼šnum &amp; (-num) ä¼šä¿ç•™æœ€ä½ä½çš„1ï¼Œå…¶ä½™ä½æ¸…é›¶</span><br><span class="line">    int lsb_value = num &amp; (-num);</span><br><span class="line">    printf(&quot;æ•°å­— %d çš„æœ€ä½æœ‰æ•ˆä½å€¼æ˜¯ï¼š%d\n&quot;, num, lsb_value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šäº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼ï¼ˆå¼‚æˆ–æ— ä¸´æ—¶å˜é‡ç‰ˆï¼‰</span><br><span class="line">void change(int *a, int *b) &#123;</span><br><span class="line">    if (a == b) return;  // é¿å…ç›¸åŒåœ°å€å¼‚æˆ–å¯¼è‡´ç»“æœä¸º0</span><br><span class="line">    *a ^= *b;  // a = a ^ b</span><br><span class="line">    *b ^= *a;  // b = (a ^ b) ^ b = a</span><br><span class="line">    *a ^= *b;  // a = (a ^ b) ^ a = b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­å”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">int find_only(int nums[], int length) &#123;</span><br><span class="line">    int result = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        result ^= nums[i];  // å¼‚æˆ–æ€§è´¨ï¼šç›¸åŒæ•°å¼‚æˆ–ä¸º0ï¼Œ0å¼‚æˆ–ä»»ä½•æ•°ä¸ºè‡ªèº«</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å®ç°ï¼šæŸ¥æ‰¾æ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ï¼ˆå…¶ä½™å‡ºç°ä¸¤æ¬¡ï¼‰</span><br><span class="line">void find_two(int nums[], int length) &#123;</span><br><span class="line">    if (length &lt; 2) &#123;</span><br><span class="line">        printf(&quot;æ•°ç»„é•¿åº¦è‡³å°‘ä¸º2\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸€è½®å¼‚æˆ–ï¼šå¾—åˆ°ä¸¤ä¸ªå”¯ä¸€å…ƒç´ çš„å¼‚æˆ–ç»“æœï¼ˆè®°ä¸º xor_sumï¼‰</span><br><span class="line">    int xor_sum = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        xor_sum ^= nums[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰¾åˆ° xor_sum ä¸­æœ€ä½ä½çš„1ï¼ˆè¯¥ä½æ˜¯ä¸¤ä¸ªå”¯ä¸€å…ƒç´ ä¸åŒçš„ä½ï¼‰</span><br><span class="line">    int lsb = xor_sum &amp; (-xor_sum);</span><br><span class="line"></span><br><span class="line">    // ç¬¬äºŒè½®å¼‚æˆ–ï¼šæŒ‰ lsb åˆ†ç»„å¼‚æˆ–ï¼Œæ¯ç»„ç»“æœå³ä¸ºä¸€ä¸ªå”¯ä¸€å…ƒç´ </span><br><span class="line">    int a = 0, b = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        if (nums[i] &amp; lsb) &#123;  // è¯¥ä½ä¸º1çš„å…ƒç´ åˆ†åˆ°ç»„a</span><br><span class="line">            a ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;  // è¯¥ä½ä¸º0çš„å…ƒç´ åˆ†åˆ°ç»„b</span><br><span class="line">            b ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;æ•°ç»„ä¸­ä¸¤ä¸ªå”¯ä¸€å‡ºç°çš„å…ƒç´ æ˜¯ï¼š%d å’Œ %d\n&quot;, a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="3-main-c-â€”â€”-ä¸»ç¨‹åºå…¥å£"><a href="#3-main-c-â€”â€”-ä¸»ç¨‹åºå…¥å£" class="headerlink" title="3. main.c â€”â€” ä¸»ç¨‹åºå…¥å£"></a>3. <code>main.c</code> â€”â€” ä¸»ç¨‹åºå…¥å£</h2><p><strong>æ–‡ä»¶ä½œç”¨</strong>ï¼š<br> ç¨‹åºçš„å…¥å£å‡½æ•°ï¼ˆ<code>main</code>å‡½æ•°ï¼‰ï¼Œè´Ÿè´£è°ƒç”¨<code>function.c</code>ä¸­å®ç°çš„ä½è¿ç®—å‡½æ•°ï¼Œå®Œæˆæµ‹è¯•é€»è¾‘ã€‚ç”¨æˆ·é€šè¿‡<code>main</code>å‡½æ•°è¾“å…¥æ•°æ®ï¼Œè§¦å‘å„ä¸ªä½è¿ç®—åŠŸèƒ½çš„æ¼”ç¤ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS  // å…³é—­VSç¼–è¯‘å™¨çš„å®‰å…¨è­¦å‘Šï¼ˆå¦‚scanfï¼‰</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;function.h&quot;  // åŒ…å«å‡½æ•°å£°æ˜</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    int num = 0;</span><br><span class="line">    printf(&quot;è¯·è¾“å…¥ä½ è¦æŸ¥è¯¢çš„æ•´æ•°ï¼š\n&quot;);</span><br><span class="line">        scanf(&quot; %d&quot;, &amp;num);</span><br><span class="line">    // è¾“å…¥æ•´æ•°ï¼ˆæ³¨æ„ç©ºæ ¼è·³è¿‡æ¢è¡Œç¬¦ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å•ä¸ªæ•°å­—çš„ä½è¿ç®—åŠŸèƒ½</span><br><span class="line">    is_odd(num);          // åˆ¤æ–­å¥‡å¶</span><br><span class="line">    is_Power_of_two(num); // åˆ¤æ–­æ˜¯å¦ä¸º2çš„å¹‚</span><br><span class="line">    find_lsb(num);        // æŸ¥æ‰¾æœ€ä½æœ‰æ•ˆä½</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æ•°ç»„çš„å”¯ä¸€å…ƒç´ æŸ¥æ‰¾åŠŸèƒ½ï¼ˆç¤ºä¾‹æ•°ç»„ï¼‰</span><br><span class="line">    int test_array[] = &#123; 2, 3, 2, 4, 5, 5, 3, 6 &#125;;</span><br><span class="line">    // ç¤ºä¾‹æ•°ç»„ï¼š2ã€4ã€6å„å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™å‡ºç°ä¸¤æ¬¡</span><br><span class="line">    int array_length = sizeof(test_array) / sizeof(test_array[0]);</span><br><span class="line">    // è®¡ç®—æ•°ç»„é•¿åº¦</span><br><span class="line"></span><br><span class="line">    printf(&quot;--- æ•°ç»„å”¯ä¸€å…ƒç´ æµ‹è¯• ---\n&quot;);</span><br><span class="line">    find_two(test_array, array_length);</span><br><span class="line">    // æŸ¥æ‰¾ä¸¤ä¸ªå”¯ä¸€å…ƒç´ ï¼ˆæœ¬ä¾‹ä¸­æ˜¯4å’Œ6ï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•äº¤æ¢å‡½æ•°ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">    int a = 10, b = 20;</span><br><span class="line">    printf(&quot;äº¤æ¢å‰ï¼ša=%d, b=%d\n&quot;, a, b);</span><br><span class="line">    change(&amp;a, &amp;b);  // ä¼ é€’æŒ‡é’ˆä»¥ä¿®æ”¹åŸå˜é‡</span><br><span class="line">    printf(&quot;äº¤æ¢åï¼ša=%d, b=%d\n&quot;, a, b);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œè¯»è€…å¯ç›´æ¥è¿è¡Œå¹¶éªŒè¯ä½è¿ç®—çš„å®æˆ˜æ•ˆæœï¼ŒåŠ æ·±å¯¹äºŒè¿›åˆ¶æ“ä½œçš„ç†è§£ã€‚</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>ç®—æ³•ä¼˜åŒ–</tag>
        <tag>ä½è¿ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>VectoråŠ¨æ€æ•°ç»„å¤ç°</title>
    <url>/posts/18c2def7/</url>
    <content><![CDATA[<img src="/img/PageCode/7.png" alt="VectoråŠ¨æ€æ•°ç»„å¤ç°" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€æ•°ç»„ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€æ•°ç»„ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€æ•°ç»„ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€æ•°ç»„ï¼Ÿ</h1><p>åœ¨Cè¯­è¨€ä¸­ï¼Œé™æ€æ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œæ— æ³•æ ¹æ®è¿è¡Œæ—¶éœ€æ±‚åŠ¨æ€è°ƒæ•´ã€‚å½“æ•°æ®é‡ä¸ç¡®å®šæˆ–éœ€è¦é¢‘ç¹æ’å…¥&#x2F;åˆ é™¤å…ƒç´ æ—¶ï¼Œé™æ€æ•°ç»„ä¼šæš´éœ²å‡ºæ˜æ˜¾ç¼ºé™·ï¼šè¦ä¹ˆæµªè´¹å†…å­˜ï¼ˆå£°æ˜è¿‡å¤§ï¼‰ï¼Œè¦ä¹ˆæº¢å‡ºï¼ˆå£°æ˜è¿‡å°ï¼‰ã€‚åŠ¨æ€æ•°ç»„ï¼ˆVectorï¼‰é€šè¿‡<strong>å †å†…å­˜åˆ†é…</strong>å’Œ<strong>è‡ªåŠ¨æ‰©å®¹</strong>æœºåˆ¶ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚å®ƒæ”¯æŒçµæ´»çš„å…ƒç´ æ’å…¥ã€åˆ é™¤ï¼Œä¸”å†…å­˜ä½¿ç”¨æ›´é«˜æ•ˆï¼Œæ˜¯å®ç°æ ˆã€é˜Ÿåˆ—ç­‰é«˜çº§æ•°æ®ç»“æ„çš„åŸºç¡€ã€‚</p>
<hr>
<h1 id="æ ¸å¿ƒç»“æ„ï¼šVectorçš„è®¾è®¡å“²å­¦"><a href="#æ ¸å¿ƒç»“æ„ï¼šVectorçš„è®¾è®¡å“²å­¦" class="headerlink" title="æ ¸å¿ƒç»“æ„ï¼šVectorçš„è®¾è®¡å“²å­¦"></a>æ ¸å¿ƒç»“æ„ï¼šVectorçš„è®¾è®¡å“²å­¦</h1><h2 id="ç»“æ„ä½“å®šä¹‰ï¼šå°è£…åº•å±‚ç»†èŠ‚"><a href="#ç»“æ„ä½“å®šä¹‰ï¼šå°è£…åº•å±‚ç»†èŠ‚" class="headerlink" title="ç»“æ„ä½“å®šä¹‰ï¼šå°è£…åº•å±‚ç»†èŠ‚"></a>ç»“æ„ä½“å®šä¹‰ï¼šå°è£…åº•å±‚ç»†èŠ‚</h2><p>ä»£ç ä¸­çš„<code>Vector</code>ç»“æ„ä½“é€šè¿‡ä¸‰ä¸ªå­—æ®µå°è£…äº†åŠ¨æ€æ•°ç»„çš„æ ¸å¿ƒçŠ¶æ€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">    ElemType *table;   // æŒ‡å‘å †ç©ºé—´çš„æ•°ç»„ï¼ˆå­˜å‚¨å®é™…å…ƒç´ ï¼‰</span><br><span class="line">    int  size;         // å½“å‰å…ƒç´ ä¸ªæ•°ï¼ˆé€»è¾‘é•¿åº¦ï¼‰</span><br><span class="line">    int  capacity;     // æ•°ç»„çš„æœ€å¤§å®¹é‡ï¼ˆç‰©ç†é•¿åº¦ï¼‰</span><br><span class="line">&#125; Vector;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>table</code>ï¼šæŒ‡å‘å †å†…å­˜çš„æŒ‡é’ˆï¼Œå­˜å‚¨å®é™…çš„å…ƒç´ æ•°æ®ï¼›</li>
<li><code>size</code>ï¼šå½“å‰å·²å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼ˆåŠ¨æ€å˜åŒ–ï¼‰ï¼›</li>
<li><code>capacity</code>ï¼šæ•°ç»„çš„æ€»å®¹é‡ï¼ˆé™æ€é™åˆ¶ï¼Œéœ€æ‰©å®¹æ—¶è°ƒæ•´ï¼‰ã€‚</li>
</ul>
<h2 id="ç±»å‹åˆ«åï¼šæå‡å¯ç»´æŠ¤æ€§"><a href="#ç±»å‹åˆ«åï¼šæå‡å¯ç»´æŠ¤æ€§" class="headerlink" title="ç±»å‹åˆ«åï¼šæå‡å¯ç»´æŠ¤æ€§"></a>ç±»å‹åˆ«åï¼šæå‡å¯ç»´æŠ¤æ€§</h2><p>é€šè¿‡<code>typedef int ElemType</code>å®šä¹‰å…ƒç´ ç±»å‹åˆ«åï¼Œæœªæ¥è‹¥éœ€ä¿®æ”¹å…ƒç´ ç±»å‹ï¼ˆå¦‚æ”¹ä¸º<code>float</code>æˆ–è‡ªå®šä¹‰ç»“æ„ä½“ï¼‰ï¼Œåªéœ€è°ƒæ•´<code>ElemType</code>çš„å®šä¹‰å³å¯ï¼Œæ— éœ€ä¿®æ”¹æ•´ä¸ªä»£ç åº“ã€‚è¿™ç§è®¾è®¡æ¨¡æ‹Ÿäº†C++çš„æ³›å‹æ€æƒ³ï¼Œæå‡äº†ä»£ç çš„å¯æ‰©å±•æ€§ã€‚</p>
<hr>
<h1 id="å…³é”®å‡½æ•°è§£æï¼šä»åˆå§‹åŒ–åˆ°é”€æ¯"><a href="#å…³é”®å‡½æ•°è§£æï¼šä»åˆå§‹åŒ–åˆ°é”€æ¯" class="headerlink" title="å…³é”®å‡½æ•°è§£æï¼šä»åˆå§‹åŒ–åˆ°é”€æ¯"></a>å…³é”®å‡½æ•°è§£æï¼šä»åˆå§‹åŒ–åˆ°é”€æ¯</h1><h2 id="1-create-Vectorï¼šåˆå§‹åŒ–åŠ¨æ€æ•°ç»„"><a href="#1-create-Vectorï¼šåˆå§‹åŒ–åŠ¨æ€æ•°ç»„" class="headerlink" title="1. create_Vectorï¼šåˆå§‹åŒ–åŠ¨æ€æ•°ç»„"></a>1. <code>create_Vector</code>ï¼šåˆå§‹åŒ–åŠ¨æ€æ•°ç»„</h2><p>åˆå§‹åŒ–å‡½æ•°çš„æ ¸å¿ƒæ˜¯<strong>åˆ†é…å †å†…å­˜</strong>å¹¶è®¾ç½®åˆå§‹çŠ¶æ€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Vector *create_Vector() &#123;</span><br><span class="line">    Vector *vec = (Vector *)malloc(sizeof(Vector));  // åˆ†é…ç»“æ„ä½“å†…å­˜</span><br><span class="line">    if (vec == NULL) &#123; /* å†…å­˜åˆ†é…å¤±è´¥å¤„ç† */ &#125;</span><br><span class="line"></span><br><span class="line">    vec-&gt;table = malloc(DEFAULT_CAPACITY * sizeof(ElemType));  // åˆ†é…å…ƒç´ å­˜å‚¨ç©ºé—´</span><br><span class="line">    if (vec-&gt;table == NULL) &#123; /* é‡Šæ”¾ç»“æ„ä½“å¹¶æŠ¥é”™ */ &#125;</span><br><span class="line"></span><br><span class="line">    vec-&gt;size = 0;       // åˆå§‹æ— å…ƒç´ </span><br><span class="line">    vec-&gt;capacity = DEFAULT_CAPACITY;  // åˆå§‹å®¹é‡ä¸ºé»˜è®¤å€¼ï¼ˆ10ï¼‰</span><br><span class="line">    return vec;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>malloc</code>åˆ†é…ç»“æ„ä½“å’Œå…ƒç´ å­˜å‚¨ç©ºé—´ï¼Œéœ€æ£€æŸ¥è¿”å›å€¼é¿å…ç©ºæŒ‡é’ˆï¼›</li>
<li>åˆå§‹å®¹é‡<code>DEFAULT_CAPACITY</code>è®¾ä¸º10ï¼Œå¹³è¡¡äº†å†…å­˜åˆ©ç”¨ç‡å’Œæ‰©å®¹é¢‘ç‡ï¼›</li>
<li>è¿”å›æŒ‡å‘<code>Vector</code>ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œåç»­æ“ä½œé€šè¿‡è¯¥æŒ‡é’ˆè®¿é—®åŠ¨æ€æ•°ç»„ã€‚</li>
</ul>
<h2 id="2-vector-destroyï¼šé‡Šæ”¾å†…å­˜"><a href="#2-vector-destroyï¼šé‡Šæ”¾å†…å­˜" class="headerlink" title="2. vector_destroyï¼šé‡Šæ”¾å†…å­˜"></a>2. <code>vector_destroy</code>ï¼šé‡Šæ”¾å†…å­˜</h2><p>é”€æ¯å‡½æ•°è´Ÿè´£<strong>é‡Šæ”¾å †å†…å­˜</strong>ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_destroy(Vector *v) &#123;</span><br><span class="line">    free(v-&gt;table);  // å…ˆé‡Šæ”¾å…ƒç´ å­˜å‚¨ç©ºé—´</span><br><span class="line">    free(v);         // å†é‡Šæ”¾ç»“æ„ä½“æœ¬èº«</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šå¿…é¡»æŒ‰é¡ºåºé‡Šæ”¾ï¼ˆå…ˆ<code>table</code>å<code>v</code>ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç»“æ„ä½“æŒ‡é’ˆå¤±æ•ˆï¼Œæ— æ³•å®‰å…¨é‡Šæ”¾<code>table</code>ã€‚</p>
<h2 id="3-vector-resizeï¼šåŠ¨æ€æ‰©å®¹"><a href="#3-vector-resizeï¼šåŠ¨æ€æ‰©å®¹" class="headerlink" title="3. vector_resizeï¼šåŠ¨æ€æ‰©å®¹"></a>3. <code>vector_resize</code>ï¼šåŠ¨æ€æ‰©å®¹</h2><p>å½“å…ƒç´ æ•°é‡è¾¾åˆ°å®¹é‡æ—¶ï¼ˆ<code>size == capacity</code>ï¼‰ï¼Œéœ€è°ƒç”¨<code>vector_resize</code>æ‰©å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">static void vector_resize(Vector *v) &#123;</span><br><span class="line">    ElemType *p2 = realloc(v-&gt;table, v-&gt;capacity * 2 * sizeof(ElemType));  // æ‰©å®¹ä¸º2å€</span><br><span class="line">    if (p2 == NULL) &#123; /* æ‰©å®¹å¤±è´¥å¤„ç† */ &#125;</span><br><span class="line">    v-&gt;table = p2;       // æ›´æ–°æŒ‡é’ˆ</span><br><span class="line">    v-&gt;capacity *= 2;    // å®¹é‡ç¿»å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è®¾è®¡æ€æƒ³</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨<strong>äºŒå€é€’å¢</strong>ç­–ç•¥ï¼ˆæ¯æ¬¡æ‰©å®¹ä¸ºåŸå®¹é‡çš„2å€ï¼‰ï¼Œä¿è¯æ’å…¥æ“ä½œçš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›</li>
<li><code>realloc</code>ä¼šå°è¯•åœ¨åŸå†…å­˜ä½ç½®æ‰©å±•ï¼Œè‹¥å¤±è´¥åˆ™åˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶æ•°æ®ï¼Œé¿å…é¢‘ç¹å†…å­˜åˆ†é…çš„å¼€é”€ï¼›</li>
<li><code>static</code>ä¿®é¥°ç¬¦ç¡®ä¿è¯¥å‡½æ•°ä»…åœ¨å½“å‰æ–‡ä»¶å¯è§ï¼Œéšè—å®ç°ç»†èŠ‚ï¼ˆå°è£…æ€§ï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="æ ¸å¿ƒæ“ä½œï¼šæ’å…¥ä¸æ‰“å°"><a href="#æ ¸å¿ƒæ“ä½œï¼šæ’å…¥ä¸æ‰“å°" class="headerlink" title="æ ¸å¿ƒæ“ä½œï¼šæ’å…¥ä¸æ‰“å°"></a>æ ¸å¿ƒæ“ä½œï¼šæ’å…¥ä¸æ‰“å°</h1><h2 id="1-vector-push-backï¼šå°¾éƒ¨æ’å…¥"><a href="#1-vector-push-backï¼šå°¾éƒ¨æ’å…¥" class="headerlink" title="1. vector_push_backï¼šå°¾éƒ¨æ’å…¥"></a>1. <code>vector_push_back</code>ï¼šå°¾éƒ¨æ’å…¥</h2><p>å°¾éƒ¨æ’å…¥æ˜¯æœ€å¸¸ç”¨çš„æ“ä½œï¼Œç›´æ¥åœ¨<code>size</code>ä½ç½®æ·»åŠ å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_push_back(Vector *v, ElemType element) &#123;</span><br><span class="line">    if (v-&gt;size == v-&gt;capacity) vector_resize(v);  // æ‰©å®¹æ£€æŸ¥</span><br><span class="line">    v-&gt;table[v-&gt;size] = element;  // åœ¨sizeä½ç½®å†™å…¥å…ƒç´ </span><br><span class="line">    v-&gt;size++;                    // å…ƒç´ æ•°é‡+1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(1)ï¼ˆå‡æ‘Šï¼Œå› æ‰©å®¹æ¦‚ç‡ä½ï¼‰ï¼›</li>
<li>æ— éœ€ç§»åŠ¨ç°æœ‰å…ƒç´ ï¼Œæ•ˆç‡æœ€é«˜ã€‚</li>
</ul>
<h2 id="2-vector-push-frontï¼šå¤´éƒ¨æ’å…¥"><a href="#2-vector-push-frontï¼šå¤´éƒ¨æ’å…¥" class="headerlink" title="2. vector_push_frontï¼šå¤´éƒ¨æ’å…¥"></a>2. <code>vector_push_front</code>ï¼šå¤´éƒ¨æ’å…¥</h2><p>å¤´éƒ¨æ’å…¥éœ€è¦å°†æ‰€æœ‰ç°æœ‰å…ƒç´ åç§»ä¸€ä½ï¼Œä¸ºæ–°å…ƒç´ è…¾å‡ºç©ºé—´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_push_front(Vector *v, ElemType val) &#123;</span><br><span class="line">    if (v-&gt;size == v-&gt;capacity) vector_resize(v);  // æ‰©å®¹æ£€æŸ¥</span><br><span class="line">    for (int i = v-&gt;size; i &gt; 0; i--) &#123;  // å…ƒç´ åç§»</span><br><span class="line">        v-&gt;table[i] = v-&gt;table[i - 1];</span><br><span class="line">    &#125;</span><br><span class="line">    v-&gt;table[0] = val;  // åœ¨å¤´éƒ¨å†™å…¥å…ƒç´ </span><br><span class="line">    v-&gt;size++;           // å…ƒç´ æ•°é‡+1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(n)ï¼ˆnä¸ºå½“å‰å…ƒç´ æ•°é‡ï¼‰ï¼Œå› éœ€ç§»åŠ¨æ‰€æœ‰å…ƒç´ ï¼›</li>
<li>é€‚ç”¨äºéœ€è¦é¢‘ç¹åœ¨å¤´éƒ¨æ“ä½œçš„åœºæ™¯ï¼ˆå¦‚é˜Ÿåˆ—çš„å¤´éƒ¨æ’å…¥ï¼‰ã€‚</li>
</ul>
<h2 id="3-vector-insertï¼šä¸­é—´æ’å…¥"><a href="#3-vector-insertï¼šä¸­é—´æ’å…¥" class="headerlink" title="3. vector_insertï¼šä¸­é—´æ’å…¥"></a>3. <code>vector_insert</code>ï¼šä¸­é—´æ’å…¥</h2><p>ä¸­é—´æ’å…¥éœ€å°†æŒ‡å®šä½ç½®åçš„å…ƒç´ åç§»ï¼Œä¸ºæ–°å…ƒç´ è…¾å‡ºç©ºé—´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_insert(Vector *v, int idx, ElemType val) &#123;</span><br><span class="line">    if (v-&gt;size == v-&gt;capacity) vector_resize(v);  // æ‰©å®¹æ£€æŸ¥</span><br><span class="line">    for (int i = v-&gt;size; i &gt; idx; i--) &#123;  // å…ƒç´ åç§»ï¼ˆä»idxåˆ°æœ«å°¾ï¼‰</span><br><span class="line">        v-&gt;table[i] = v-&gt;table[i - 1];</span><br><span class="line">    &#125;</span><br><span class="line">    v-&gt;table[idx] = val;  // åœ¨idxä½ç½®å†™å…¥å…ƒç´ </span><br><span class="line">    v-&gt;size++;            // å…ƒç´ æ•°é‡+1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(n)ï¼ˆnä¸ºå½“å‰å…ƒç´ æ•°é‡ï¼‰ï¼Œå› éœ€ç§»åŠ¨<code>size - idx</code>ä¸ªå…ƒç´ ï¼›</li>
<li><code>idx</code>éœ€æ»¡è¶³<code>0 â‰¤ idx â‰¤ size</code>ï¼ˆè‹¥<code>idx &gt; size</code>åˆ™è¶Šç•Œï¼Œéœ€é¢å¤–æ£€æŸ¥ï¼‰ã€‚</li>
</ul>
<h2 id="4-vector-printï¼šéå†æ‰“å°"><a href="#4-vector-printï¼šéå†æ‰“å°" class="headerlink" title="4. vector_printï¼šéå†æ‰“å°"></a>4. <code>vector_print</code>ï¼šéå†æ‰“å°</h2><p>æ‰“å°å‡½æ•°éå†<code>table</code>æ•°ç»„ï¼Œè¾“å‡ºæ‰€æœ‰æœ‰æ•ˆå…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_print(Vector *v) &#123;</span><br><span class="line">    for (int i = 0; i &lt; v-&gt;size; i++) &#123;</span><br><span class="line">        printf(&quot;%d\t&quot;, v-&gt;table[i]);  // è¾“å‡ºå…ƒç´ å€¼ï¼ˆå‡è®¾ElemTypeä¸ºintï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ‰©å±•</strong>ï¼šè‹¥<code>ElemType</code>ä¸ºå…¶ä»–ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼‰ï¼Œéœ€ä¿®æ”¹æ‰“å°é€»è¾‘ï¼ˆå¦‚ä½¿ç”¨<code>%s</code>æ ¼å¼ç¬¦ï¼‰ã€‚</p>
<hr>
<h1 id="ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§"><a href="#ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§" class="headerlink" title="ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§"></a>ä¸»å‡½æ•°æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§</h1><p>ç”¨æˆ·æä¾›çš„ä¸»å‡½æ•°æµ‹è¯•äº†å°¾éƒ¨æ’å…¥ã€å¤´éƒ¨æ’å…¥ã€ä¸­é—´æ’å…¥å’Œæ‰“å°åŠŸèƒ½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    Vector *vec = create_Vector();</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å°¾éƒ¨æ’å…¥ï¼ˆ1-15ï¼‰</span><br><span class="line">    printf(&quot;å°¾éƒ¨æ’å…¥ 1-15...\n&quot;);</span><br><span class="line">    for (int i = 1; i &lt;= 15; i++) &#123;</span><br><span class="line">        vector_push_back(vec, i);</span><br><span class="line">    &#125;</span><br><span class="line">    vector_print(vec);</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å¤´éƒ¨æ’å…¥ï¼ˆ0ï¼‰</span><br><span class="line">    printf(&quot;\nå¤´éƒ¨æ’å…¥element 0...\n&quot;);</span><br><span class="line">    vector_push_front(vec, 0);</span><br><span class="line">    vector_print(vec);</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•ä¸­é—´æ’å…¥ï¼ˆ100 at index 3ï¼‰</span><br><span class="line">    printf(&quot;\nç‰¹å®šä½ç½®æ’å…¥ 100 at index 3...\n&quot;);</span><br><span class="line">    vector_insert(vec, 3, 100);</span><br><span class="line">    vector_print(vec);</span><br><span class="line"></span><br><span class="line">    vector_destroy(vec);  // é‡Šæ”¾å†…å­˜</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é¢„æœŸè¾“å‡º</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°¾éƒ¨æ’å…¥ 1-5...</span><br><span class="line">1       2       3       4       5       ...       15</span><br><span class="line"></span><br><span class="line">å¤´éƒ¨æ’å…¥element 0...</span><br><span class="line">0       1       2       3       4       ...       15</span><br><span class="line"></span><br><span class="line">ç‰¹å®šä½ç½®æ’å…¥ 100 at index 3...</span><br><span class="line">0       1       2       100     3       4       ...       15</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®"><a href="#æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®" class="headerlink" title="æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®"></a>æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®</h1><h2 id="é—®é¢˜1ï¼šå†…å­˜æ³„æ¼é£é™©"><a href="#é—®é¢˜1ï¼šå†…å­˜æ³„æ¼é£é™©" class="headerlink" title="é—®é¢˜1ï¼šå†…å­˜æ³„æ¼é£é™©"></a>é—®é¢˜1ï¼šå†…å­˜æ³„æ¼é£é™©</h2><p>å½“å‰ä»£ç ä¸­ï¼Œè‹¥<code>vector_destroy</code>æœªè¢«è°ƒç”¨ï¼ˆå¦‚ç¨‹åºå¼‚å¸¸é€€å‡ºï¼‰ï¼Œ<code>table</code>å’Œ<code>v</code>çš„å†…å­˜å°†æ— æ³•é‡Šæ”¾ã€‚å»ºè®®è¯»è€…å¤ç°çš„æ—¶å€™ï¼š</p>
<ul>
<li>åœ¨ä¸»å‡½æ•°ä¸­ä½¿ç”¨<code>atexit</code>æ³¨å†Œé”€æ¯å‡½æ•°ï¼Œç¡®ä¿ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨é‡Šæ”¾ï¼›</li>
<li>æˆ–ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆéœ€ç»“åˆC++ï¼Œä½†Cè¯­è¨€å¯é€šè¿‡è‡ªå®šä¹‰ç®¡ç†é€»è¾‘æ¨¡æ‹Ÿï¼‰ã€‚</li>
</ul>
<h2 id="é—®é¢˜2ï¼šé”™è¯¯å¤„ç†ä¸å®Œå–„"><a href="#é—®é¢˜2ï¼šé”™è¯¯å¤„ç†ä¸å®Œå–„" class="headerlink" title="é—®é¢˜2ï¼šé”™è¯¯å¤„ç†ä¸å®Œå–„"></a>é—®é¢˜2ï¼šé”™è¯¯å¤„ç†ä¸å®Œå–„</h2><p><code>create_Vector</code>å’Œ<code>vector_resize</code>ä¸­ä»…è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œæœªå‘ä¸Šä¼ é€’é”™è¯¯çŠ¶æ€ã€‚å»ºè®®è¯»è€…å¤ç°çš„æ—¶å€™ï¼š</p>
<ul>
<li>ä¿®æ”¹å‡½æ•°è¿”å›å€¼ä¸º<code>bool</code>æˆ–é”™è¯¯ç ï¼ˆå¦‚<code>-1</code>è¡¨ç¤ºå¤±è´¥ï¼‰ï¼›</li>
<li>è°ƒç”¨è€…æ ¹æ®è¿”å›å€¼å†³å®šæ˜¯å¦ç»§ç»­æ‰§è¡Œï¼ˆå¦‚<code>if (!create_Vector()) &#123; /* å¤„ç†é”™è¯¯ */ &#125;</code>ï¼‰ã€‚</li>
</ul>
<h2 id="é—®é¢˜3ï¼šæ’å…¥æ“ä½œçš„è¾¹ç•Œæ£€æŸ¥ç¼ºå¤±"><a href="#é—®é¢˜3ï¼šæ’å…¥æ“ä½œçš„è¾¹ç•Œæ£€æŸ¥ç¼ºå¤±" class="headerlink" title="é—®é¢˜3ï¼šæ’å…¥æ“ä½œçš„è¾¹ç•Œæ£€æŸ¥ç¼ºå¤±"></a>é—®é¢˜3ï¼šæ’å…¥æ“ä½œçš„è¾¹ç•Œæ£€æŸ¥ç¼ºå¤±</h2><p><code>vector_insert</code>æœªæ£€æŸ¥<code>idx</code>æ˜¯å¦è¶Šç•Œï¼ˆå¦‚<code>idx &lt; 0</code>æˆ–<code>idx &gt; size</code>ï¼‰ã€‚å»ºè®®è¯»è€…å¤ç°çš„æ—¶å€™æ·»åŠ è¾¹ç•Œæ£€æŸ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void vector_insert(Vector *v, int idx, ElemType val) &#123;</span><br><span class="line">    if (idx &lt; 0 || idx &gt; v-&gt;size) &#123;  // å…è®¸idxç­‰äºsizeï¼ˆæ’å…¥åˆ°æœ«å°¾ï¼‰</span><br><span class="line">        printf(&quot;Invalid index: %d\n&quot;, idx);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜4ï¼šæ‰©å®¹ç­–ç•¥å¯ä¼˜åŒ–"><a href="#é—®é¢˜4ï¼šæ‰©å®¹ç­–ç•¥å¯ä¼˜åŒ–" class="headerlink" title="é—®é¢˜4ï¼šæ‰©å®¹ç­–ç•¥å¯ä¼˜åŒ–"></a>é—®é¢˜4ï¼šæ‰©å®¹ç­–ç•¥å¯ä¼˜åŒ–</h2><p>å½“å‰æ‰©å®¹ç­–ç•¥ä¸ºäºŒå€é€’å¢ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯ï¼Œä½†åœ¨å…ƒç´ æ•°é‡è¾ƒå°‘æ—¶å¯èƒ½å¯¼è‡´å†…å­˜æµªè´¹ã€‚å»ºè®®ï¼š</p>
<ul>
<li>å¯¹äºå°å®¹é‡æ•°ç»„ï¼ˆå¦‚<code>size &lt; 100</code>ï¼‰ï¼Œé‡‡ç”¨1.5å€æ‰©å®¹ï¼›</li>
<li>å¯¹äºå¤§å®¹é‡æ•°ç»„ï¼Œä¿æŒäºŒå€æ‰©å®¹ä»¥é™ä½å†…å­˜ç¢ç‰‡ã€‚</li>
</ul>
<hr>
<h1 id="æ€»ç»“ï¼šåŠ¨æ€æ•°ç»„çš„ä»·å€¼ä¸åº”ç”¨åœºæ™¯"><a href="#æ€»ç»“ï¼šåŠ¨æ€æ•°ç»„çš„ä»·å€¼ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="æ€»ç»“ï¼šåŠ¨æ€æ•°ç»„çš„ä»·å€¼ä¸åº”ç”¨åœºæ™¯"></a>æ€»ç»“ï¼šåŠ¨æ€æ•°ç»„çš„ä»·å€¼ä¸åº”ç”¨åœºæ™¯</h1><p>åŠ¨æ€æ•°ç»„ï¼ˆVectorï¼‰é€šè¿‡å †å†…å­˜åˆ†é…å’Œè‡ªåŠ¨æ‰©å®¹æœºåˆ¶ï¼Œæä¾›äº†æ¯”é™æ€æ•°ç»„æ›´çµæ´»çš„æ“ä½œèƒ½åŠ›ã€‚å®ƒé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>æ•°æ®é‡ä¸ç¡®å®šï¼ˆå¦‚ç”¨æˆ·è¾“å…¥çš„åŠ¨æ€æ•°æ®ï¼‰ï¼›</li>
<li>éœ€è¦é¢‘ç¹åœ¨å°¾éƒ¨&#x2F;å¤´éƒ¨&#x2F;ä¸­é—´æ’å…¥å…ƒç´ ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€ä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼›</li>
<li>å¯¹å†…å­˜åˆ©ç”¨ç‡è¦æ±‚è¾ƒé«˜ï¼ˆé¿å…é™æ€æ•°ç»„çš„ç©ºé—´æµªè´¹ï¼‰ã€‚</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„è§£æï¼Œæˆ‘ä»¬ä¸ä»…æŒæ¡äº†Vectorçš„æ ¸å¿ƒå®ç°é€»è¾‘ï¼Œæ›´ç†è§£äº†åŠ¨æ€å†…å­˜ç®¡ç†çš„å…³é”®ç»†èŠ‚ï¼ˆå¦‚<code>malloc</code>&#x2F;<code>realloc</code>&#x2F;<code>free</code>çš„ä½¿ç”¨ï¼‰ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯æ ¹æ®éœ€æ±‚æ‰©å±•Vectorçš„åŠŸèƒ½ï¼ˆå¦‚åˆ é™¤å…ƒç´ ã€æŸ¥æ‰¾å…ƒç´ ã€æ’åºç­‰ï¼‰ï¼Œæˆ–ç»“åˆå…¶ä»–æ•°æ®ç»“æ„ï¼ˆå¦‚é“¾è¡¨ï¼‰ä¼˜åŒ–æ€§èƒ½ã€‚</p>
<hr>
<h1 id="å®Œæ•´æºä»£ç "><a href="#å®Œæ•´æºä»£ç " class="headerlink" title="å®Œæ•´æºä»£ç "></a>å®Œæ•´æºä»£ç </h1><h2 id="å¤´æ–‡ä»¶-Vector-h"><a href="#å¤´æ–‡ä»¶-Vector-h" class="headerlink" title="å¤´æ–‡ä»¶ Vector.h"></a>å¤´æ–‡ä»¶ Vector.h</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef VECTOR_H</span><br><span class="line">#define VECTOR_H</span><br><span class="line">#define DEFAULT_CAPACITY 10</span><br><span class="line">typedef int ElemType;  // å…ƒç´ ç±»å‹åˆ«åï¼Œå¯ä¿®æ”¹ä¸ºå…¶ä»–ç±»å‹</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    ElemType *table;   // å­˜å‚¨å…ƒç´ çš„å †å†…å­˜æŒ‡é’ˆ</span><br><span class="line">    int  size;         // å½“å‰å…ƒç´ ä¸ªæ•°</span><br><span class="line">    int  capacity;     // æ•°ç»„æ€»å®¹é‡</span><br><span class="line">&#125; Vector;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°å£°æ˜</span><br><span class="line">Vector *create_Vector(void);</span><br><span class="line">void vector_destroy(Vector *v);</span><br><span class="line">void vector_push_back(Vector *v, ElemType val);</span><br><span class="line">void vector_push_front(Vector *v, ElemType val);</span><br><span class="line">void vector_insert(Vector *v, int idx, ElemType val);</span><br><span class="line">void vector_print(Vector *v);</span><br><span class="line"></span><br><span class="line">#endif // !VECTOR_H</span><br></pre></td></tr></table></figure>

<h2 id="æºæ–‡ä»¶-main-c"><a href="#æºæ–‡ä»¶-main-c" class="headerlink" title="æºæ–‡ä»¶ main.c"></a>æºæ–‡ä»¶ main.c</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;Vector.h&quot;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">	Vector *vec = create_Vector();</span><br><span class="line">	// æµ‹è¯•å°¾éƒ¨æ’å…¥åŠŸèƒ½</span><br><span class="line">	printf(&quot;å°¾éƒ¨æ’å…¥ 1-5...\n&quot;);</span><br><span class="line">	for (int i = 1; i &lt;= 15; i++) &#123;</span><br><span class="line">		vector_push_back(vec, i);</span><br><span class="line">	&#125;</span><br><span class="line">	vector_print(vec);</span><br><span class="line">	// æµ‹è¯•å¤´éƒ¨æ’å…¥åŠŸèƒ½</span><br><span class="line">	printf(&quot;\nå¤´éƒ¨æ’å…¥element 0...\n&quot;);</span><br><span class="line">	vector_push_front(vec, 0);</span><br><span class="line">	vector_print(vec);</span><br><span class="line">	// æµ‹è¯•ä¸­é—´æ’å…¥åŠŸèƒ½</span><br><span class="line">	printf(&quot;\nç‰¹å®šä½ç½®æ’å…¥ 100 at index 3...\n&quot;);</span><br><span class="line">	vector_insert(vec, 3, 100);</span><br><span class="line">	vector_print(vec);</span><br><span class="line">	// é”€æ¯Vectorï¼Œé‡Šæ”¾å†…å­˜</span><br><span class="line">	vector_destroy(vec);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æºæ–‡ä»¶-Vector-c"><a href="#æºæ–‡ä»¶-Vector-c" class="headerlink" title="æºæ–‡ä»¶ Vector.c"></a>æºæ–‡ä»¶ Vector.c</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;Vector.h&quot;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line"></span><br><span class="line">// åœ¨Cè¯­è¨€ä¸­,staticä¿®é¥°å‡½æ•°è¡¨ç¤ºæ­¤å‡½æ•°ä»…åœ¨å½“å‰æ–‡ä»¶å†…éƒ¨ç”Ÿæ•ˆ</span><br><span class="line">static void vector_resize(Vector *v) &#123;</span><br><span class="line">	ElemType *p2 = realloc(v-&gt;table, v-&gt;capacity * 2 * sizeof(ElemType));</span><br><span class="line">	//ç”¨åˆ°è¿™ä¸ªå‡½æ•°å°±ä»£è¡¨éœ€è¦æ‰©å®¹äº†ï¼Œè€ƒè™‘äºŒå€é€’å¢ï¼ˆæ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªé˜ˆå€¼ï¼Œè¶…è¿‡åæ”¹å˜é€’å¢å€æ•°ï¼‰</span><br><span class="line">	if (p2 == NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;ralloc failed in vector_resize vec-&gt;table &quot;);</span><br><span class="line">		return NULL;</span><br><span class="line">	&#125;</span><br><span class="line">	//åˆ¤æ–­reallocæ˜¯å¦æˆåŠŸ</span><br><span class="line">	v-&gt;table = p2;</span><br><span class="line">	v-&gt;capacity *= 2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–ä¸€ä¸ªVectoråŠ¨æ€æ•°ç»„</span><br><span class="line">Vector *create_Vector() &#123;</span><br><span class="line">	Vector *vec = (Vector *)malloc(sizeof(Vector));</span><br><span class="line">	if (vec == NULL) &#123;</span><br><span class="line">		printf(&quot;malloc failed in create_Vector&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	//ç”³è¯·å†…å­˜</span><br><span class="line">	vec-&gt;table = malloc(DEFAULT_CAPACITY * sizeof(ElemType));//10*ElemType å¤§å°å°ºå¯¸çš„æ•°ç»„ DEFAULT_CAPACITY å®å®šä¹‰</span><br><span class="line">	if (vec-&gt;table == NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;malloc failed in create_Vector vec-&gt;table &quot;);</span><br><span class="line">		free(vec);</span><br><span class="line">		return NULL;</span><br><span class="line">	&#125;</span><br><span class="line">	vec-&gt;size = 0;       // åˆå§‹æ— å…ƒç´ </span><br><span class="line">	vec-&gt;capacity = DEFAULT_CAPACITY;</span><br><span class="line">	return vec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é”€æ¯ä¸€ä¸ªVectoråŠ¨æ€æ•°ç»„ï¼Œé‡Šæ”¾å†…å­˜ã€‚è¿™å®é™…ä¸Šæ¨¡æ‹Ÿäº†C++çš„ææ„å‡½æ•°</span><br><span class="line">void vector_destroy(Vector *v)</span><br><span class="line">&#123;</span><br><span class="line">	free(v-&gt;table);//å…ˆé‡Šæ”¾</span><br><span class="line">	free(v);//åé‡Šæ”¾</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‘åŠ¨æ€æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ </span><br><span class="line">void vector_push_back(Vector *v, ElemType element)</span><br><span class="line">&#123;</span><br><span class="line">	if (v-&gt;size == v-&gt;capacity) &#123;</span><br><span class="line">		vector_resize(v);</span><br><span class="line">	&#125;//åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹</span><br><span class="line">	v-&gt;table[v-&gt;size] = element;</span><br><span class="line">	v-&gt;size++;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åœ¨åŠ¨æ€æ•°ç»„æœ€å‰é¢æ·»åŠ å…ƒç´ ï¼Œæ‰€æœ‰å…ƒç´ ä¾æ¬¡åç§»</span><br><span class="line">void vector_push_front(Vector *v, ElemType val)</span><br><span class="line">&#123;</span><br><span class="line">	if (v-&gt;size == v-&gt;capacity) &#123;</span><br><span class="line">		vector_resize(v);</span><br><span class="line">	&#125;//åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹</span><br><span class="line">	for (int i = v-&gt;size; i &gt; 0; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		v-&gt;table[i] = v-&gt;table[i - 1];</span><br><span class="line">	&#125;</span><br><span class="line">	v-&gt;table[0] = val;</span><br><span class="line">	v-&gt;size++;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å°†å…ƒç´ valæ·»åŠ åˆ°ç´¢å¼•ä¸ºidxçš„ä½ç½®ï¼Œidxåé¢çš„å…ƒç´ ä¾æ¬¡åç§»</span><br><span class="line">void vector_insert(Vector *v, int idx, ElemType val)</span><br><span class="line">&#123;</span><br><span class="line">	if (v-&gt;size == v-&gt;capacity) &#123;</span><br><span class="line">		vector_resize(v);</span><br><span class="line">	&#125;//åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹</span><br><span class="line"></span><br><span class="line">	for (int i = v-&gt;size; i &gt; idx; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		v-&gt;table[i] = v-&gt;table[i - 1];</span><br><span class="line">	&#125;</span><br><span class="line">	v-&gt;table[idx] = val;</span><br><span class="line">	v-&gt;size++;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// éå†æ‰“å°æ•´ä¸ªVectoråŠ¨æ€æ•°ç»„</span><br><span class="line">void vector_print(Vector *v)</span><br><span class="line">&#123;</span><br><span class="line">	for (int i = 0; i &lt; v-&gt;size; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d\t&quot;, v-&gt;table[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>Vector</tag>
        <tag>åŠ¨æ€æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å‘½ä»¤è¡Œå‚æ•°å¤„ç†</title>
    <url>/posts/58515f71/</url>
    <content><![CDATA[<img src="/img/PageCode/8.png" alt="Cè¯­è¨€å‘½ä»¤è¡Œå‚æ•°å¤„ç†" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼Ÿ</h1><p>åœ¨å¼€å‘å‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é€šè¿‡å‚æ•°ä¼ é€’è¾“å…¥æ•°æ®æˆ–é…ç½®é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè®¡ç®—å™¨å·¥å…·å¯èƒ½éœ€è¦æ¥æ”¶ä¸¤ä¸ªæ•°å€¼ä½œä¸ºè¾“å…¥ï¼Œä¸€ä¸ªæ–‡æœ¬å¤„ç†å·¥å…·å¯èƒ½éœ€è¦æŒ‡å®šè¾“å…¥æ–‡ä»¶è·¯å¾„ã€‚Cè¯­è¨€ä¸­ï¼Œ<code>main</code>å‡½æ•°çš„<code>argc</code>å’Œ<code>argv</code>å‚æ•°æ˜¯å¤„ç†å‘½ä»¤è¡Œè¾“å…¥çš„æ ¸å¿ƒæ¥å£ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå…·ä½“æ¡ˆä¾‹ï¼Œè¯¦ç»†è§£æå¦‚ä½•ä»å‘½ä»¤è¡Œå‚æ•°ä¸­è¯»å–æ•°æ®ã€è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶è¾“å‡ºç»“æœã€‚</p>
<hr>
<h1 id="æ ¸å¿ƒåŠŸèƒ½ï¼šå‘½ä»¤è¡Œå‚æ•°çš„è¯»å–ä¸å¤„ç†"><a href="#æ ¸å¿ƒåŠŸèƒ½ï¼šå‘½ä»¤è¡Œå‚æ•°çš„è¯»å–ä¸å¤„ç†" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½ï¼šå‘½ä»¤è¡Œå‚æ•°çš„è¯»å–ä¸å¤„ç†"></a>æ ¸å¿ƒåŠŸèƒ½ï¼šå‘½ä»¤è¡Œå‚æ•°çš„è¯»å–ä¸å¤„ç†</h1><p>ç”¨æˆ·æä¾›çš„ä»£ç å®ç°äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ol>
<li><strong>è¯»å–å‘½ä»¤è¡Œå‚æ•°æ•°é‡</strong>ï¼ˆ<code>argc</code>ï¼‰å¹¶æ‰“å°ï¼›</li>
<li><strong>éå†æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°</strong>ï¼ˆ<code>argv</code>ï¼‰å¹¶æ‰“å°æ¯ä¸ªå‚æ•°çš„å†…å®¹ï¼›</li>
<li><strong>ä»æŒ‡å®šå‚æ•°ä¸­è§£ææ•°å€¼</strong>ï¼ˆæ•´æ•°<code>num1</code>å’Œæµ®ç‚¹æ•°<code>num2</code>ï¼‰ï¼›</li>
<li><strong>è®¡ç®—ä¸¤æ•°ä¹‹å’Œ</strong>å¹¶æ ¼å¼åŒ–è¾“å‡ºç»“æœï¼›</li>
<li><strong>ä½¿ç”¨ç¬¬å››ä¸ªå‚æ•°ä½œä¸ºç»“æœçš„æè¿°å­—ç¬¦ä¸²</strong>ã€‚</li>
</ol>
<hr>
<h1 id="ä»£ç é€è¡Œè§£æï¼šä»å‚æ•°è·å–åˆ°ç»“æœè¾“å‡º"><a href="#ä»£ç é€è¡Œè§£æï¼šä»å‚æ•°è·å–åˆ°ç»“æœè¾“å‡º" class="headerlink" title="ä»£ç é€è¡Œè§£æï¼šä»å‚æ•°è·å–åˆ°ç»“æœè¾“å‡º"></a>ä»£ç é€è¡Œè§£æï¼šä»å‚æ•°è·å–åˆ°ç»“æœè¾“å‡º</h1><h2 id="1-mainå‡½æ•°å‚æ•°ï¼šargcä¸argv"><a href="#1-mainå‡½æ•°å‚æ•°ï¼šargcä¸argv" class="headerlink" title="1. mainå‡½æ•°å‚æ•°ï¼šargcä¸argv"></a>1. <code>main</code>å‡½æ•°å‚æ•°ï¼š<code>argc</code>ä¸<code>argv</code></h2><p>Cè¯­è¨€ä¸­ï¼Œ<code>main</code>å‡½æ•°çš„æ ‡å‡†å½¢å¼ä¸º<code>int main(int argc, char *argv[])</code>ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><code>argc</code>ï¼ˆArgument Countï¼‰ï¼šå‘½ä»¤è¡Œå‚æ•°çš„æ•°é‡ï¼ˆåŒ…å«ç¨‹åºåæœ¬èº«ï¼‰ï¼›</li>
<li><code>argv</code>ï¼ˆArgument Vectorï¼‰ï¼šæŒ‡å‘å‚æ•°æ•°ç»„çš„æŒ‡é’ˆï¼Œ<code>argv[0]</code>æ˜¯ç¨‹åºåï¼Œ<code>argv[1]</code>æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·å‚æ•°ï¼Œä¾æ­¤ç±»æ¨ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(int argc, char *argv[]) &#123; </span><br><span class="line">// argc=å‚æ•°æ•°é‡ï¼Œargv=å‚æ•°æ•°ç»„</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ‰“å°å‚æ•°æ•°é‡ä¸å†…å®¹"><a href="#2-æ‰“å°å‚æ•°æ•°é‡ä¸å†…å®¹" class="headerlink" title="2. æ‰“å°å‚æ•°æ•°é‡ä¸å†…å®¹"></a>2. æ‰“å°å‚æ•°æ•°é‡ä¸å†…å®¹</h2><p>ä»£ç é¦–å…ˆæ‰“å°å‚æ•°æ•°é‡<code>argc</code>ï¼Œç„¶åé€šè¿‡å¾ªç¯éå†<code>argv</code>æ•°ç»„ï¼Œæ‰“å°æ¯ä¸ªå‚æ•°çš„å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">printf(&quot;argument count = %d\n&quot;, argc);  // è¾“å‡ºå‚æ•°æ€»æ•°ï¼ˆå«ç¨‹åºåï¼‰</span><br><span class="line">for (int i = 0; i &lt; argc; i++) &#123;</span><br><span class="line">    printf(&quot;argv[%d]ï¼š%s\n&quot;, i, argv[i]);  // è¾“å‡ºæ¯ä¸ªå‚æ•°çš„ç´¢å¼•å’Œå†…å®¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼ˆå‡è®¾ç¨‹åºåä¸º<code>calc</code>ï¼Œè¾“å…¥å‚æ•°ä¸º<code>5 3.14 ç»“æœ</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">argument count = 4</span><br><span class="line">argv[0]ï¼šcalc</span><br><span class="line">argv[1]ï¼š5</span><br><span class="line">argv[2]ï¼š3.14</span><br><span class="line">argv[3]ï¼šç»“æœ</span><br></pre></td></tr></table></figure>

<h2 id="3-è§£ææ•°å€¼å‚æ•°ï¼šsscanfçš„ä½¿ç”¨"><a href="#3-è§£ææ•°å€¼å‚æ•°ï¼šsscanfçš„ä½¿ç”¨" class="headerlink" title="3. è§£ææ•°å€¼å‚æ•°ï¼šsscanfçš„ä½¿ç”¨"></a>3. è§£ææ•°å€¼å‚æ•°ï¼š<code>sscanf</code>çš„ä½¿ç”¨</h2><p>ä»£ç ä½¿ç”¨<code>sscanf</code>ä»<code>argv[1]</code>å’Œ<code>argv[2]</code>ä¸­è§£ææ•´æ•°å’Œæµ®ç‚¹æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sscanf(argv[1], &quot;%d&quot;, &amp;num1);       // ä»argv[1]è¯»å–æ•´æ•°åˆ°num1</span><br><span class="line">sscanf(argv[2], &quot;%lf&quot;, &amp;num2);      // ä»argv[2]è¯»å–æµ®ç‚¹æ•°åˆ°num2</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>sscanf</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥å­—ç¬¦ä¸²ï¼ˆæ­¤å¤„ä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯æ ¼å¼æ§åˆ¶ç¬¦ï¼ˆ<code>%d</code>åŒ¹é…æ•´æ•°ï¼Œ<code>%lf</code>åŒ¹é…åŒç²¾åº¦æµ®ç‚¹æ•°ï¼‰ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å­˜å‚¨ç»“æœçš„å˜é‡åœ°å€ï¼›</li>
<li>è‹¥å‚æ•°æ ¼å¼ä¸åŒ¹é…ï¼ˆå¦‚<code>argv[1]</code>æ˜¯å­—ç¬¦ä¸²<code>&quot;abc&quot;</code>ï¼‰ï¼Œ<code>sscanf</code>ä¼šè¿”å›0ï¼ˆæœªæˆåŠŸè¯»å–ï¼‰ï¼Œä½†ä»£ç æœªå¤„ç†æ­¤é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´åç»­è®¡ç®—é”™è¯¯ã€‚</li>
</ul>
<h2 id="4-æ•°å€¼è®¡ç®—ä¸ç»“æœè¾“å‡º"><a href="#4-æ•°å€¼è®¡ç®—ä¸ç»“æœè¾“å‡º" class="headerlink" title="4. æ•°å€¼è®¡ç®—ä¸ç»“æœè¾“å‡º"></a>4. æ•°å€¼è®¡ç®—ä¸ç»“æœè¾“å‡º</h2><p>è®¡ç®—ä¸¤æ•°ä¹‹å’Œ<code>num3</code>ï¼Œå¹¶ä½¿ç”¨<code>printf</code>æ ¼å¼åŒ–è¾“å‡ºç»“æœï¼Œå…¶ä¸­<code>argv[3]</code>ä½œä¸ºç»“æœçš„æè¿°å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">double num3 = num1 + num2;  // è®¡ç®—å’Œ</span><br><span class="line">printf(&quot;ç»“æœå­—ç¬¦ä¸²ï¼š%d + %.2f = %.2f %s</span><br><span class="line">&quot;, num1, num2, num3, argv[3]);  // æ ¼å¼åŒ–è¾“å‡º</span><br></pre></td></tr></table></figure>

<p><strong>æ ¼å¼åŒ–è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>%d</code>ï¼šè¾“å‡ºæ•´æ•°<code>num1</code>ï¼›</li>
<li><code>%.2f</code>ï¼šè¾“å‡ºæµ®ç‚¹æ•°<code>num2</code>å¹¶ä¿ç•™2ä½å°æ•°ï¼›</li>
<li><code>%.2f</code>ï¼šè¾“å‡ºå’Œ<code>num3</code>å¹¶ä¿ç•™2ä½å°æ•°ï¼›</li>
<li><code>%s</code>ï¼šè¾“å‡ºæè¿°å­—ç¬¦ä¸²<code>argv[3]</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼ˆè¾“å…¥å‚æ•°ä¸º<code>5 3.14 ç»“æœ</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»“æœå­—ç¬¦ä¸²ï¼š5 + 3.14 = 8.14 ç»“æœ</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒè¾“å…¥åœºæ™¯çš„æ•ˆæœ"><a href="#æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒè¾“å…¥åœºæ™¯çš„æ•ˆæœ" class="headerlink" title="æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒè¾“å…¥åœºæ™¯çš„æ•ˆæœ"></a>æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒè¾“å…¥åœºæ™¯çš„æ•ˆæœ</h1><h2 id="åœºæ™¯1ï¼šæ­£ç¡®è¾“å…¥ï¼ˆ4ä¸ªå‚æ•°ï¼‰"><a href="#åœºæ™¯1ï¼šæ­£ç¡®è¾“å…¥ï¼ˆ4ä¸ªå‚æ•°ï¼‰" class="headerlink" title="åœºæ™¯1ï¼šæ­£ç¡®è¾“å…¥ï¼ˆ4ä¸ªå‚æ•°ï¼‰"></a>åœºæ™¯1ï¼šæ­£ç¡®è¾“å…¥ï¼ˆ4ä¸ªå‚æ•°ï¼‰</h2><p><strong>è¾“å…¥å‘½ä»¤</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./calc 10 2.5 ç¤ºä¾‹ç»“æœ</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡ºç»“æœ</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">argument count = 4</span><br><span class="line">argv[0]ï¼š./calc</span><br><span class="line">argv[1]ï¼š10</span><br><span class="line">argv[2]ï¼š2.5</span><br><span class="line">argv[3]ï¼šç¤ºä¾‹ç»“æœ</span><br><span class="line">ç»“æœå­—ç¬¦ä¸²ï¼š10 + 2.50 = 12.50 ç¤ºä¾‹ç»“æœ</span><br></pre></td></tr></table></figure>

<h2 id="åœºæ™¯2ï¼šå‚æ•°ä¸è¶³ï¼ˆä»…3ä¸ªå‚æ•°ï¼‰"><a href="#åœºæ™¯2ï¼šå‚æ•°ä¸è¶³ï¼ˆä»…3ä¸ªå‚æ•°ï¼‰" class="headerlink" title="åœºæ™¯2ï¼šå‚æ•°ä¸è¶³ï¼ˆä»…3ä¸ªå‚æ•°ï¼‰"></a>åœºæ™¯2ï¼šå‚æ•°ä¸è¶³ï¼ˆä»…3ä¸ªå‚æ•°ï¼‰</h2><p><strong>è¾“å…¥å‘½ä»¤</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./calc 10 2.5</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡ºç»“æœ</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">argument count = 3</span><br><span class="line">argv[0]ï¼š./calc</span><br><span class="line">argv[1]ï¼š10</span><br><span class="line">argv[2]ï¼š2.5</span><br><span class="line">ç»“æœå­—ç¬¦ä¸²ï¼š10 + 2.50 = 12.50 (null)  // argv[3]ä¸ºNULLï¼Œè¾“å‡ºç©º</span><br></pre></td></tr></table></figure>

<h2 id="åœºæ™¯3ï¼šå‚æ•°æ ¼å¼é”™è¯¯ï¼ˆéæ•°å­—å‚æ•°ï¼‰"><a href="#åœºæ™¯3ï¼šå‚æ•°æ ¼å¼é”™è¯¯ï¼ˆéæ•°å­—å‚æ•°ï¼‰" class="headerlink" title="åœºæ™¯3ï¼šå‚æ•°æ ¼å¼é”™è¯¯ï¼ˆéæ•°å­—å‚æ•°ï¼‰"></a>åœºæ™¯3ï¼šå‚æ•°æ ¼å¼é”™è¯¯ï¼ˆéæ•°å­—å‚æ•°ï¼‰</h2><p><strong>è¾“å…¥å‘½ä»¤</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./calc abc 2.5 ç»“æœ</span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡ºç»“æœ</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">argument count = 4</span><br><span class="line">argv[0]ï¼š./calc</span><br><span class="line">argv[1]ï¼šabc</span><br><span class="line">argv[2]ï¼š2.5</span><br><span class="line">argv[3]ï¼šç»“æœ</span><br><span class="line">ç»“æœå­—ç¬¦ä¸²ï¼š0 + 2.50 = 2.50 ç»“æœ  // num1æœªè¢«æ­£ç¡®è§£æä¸º0ï¼ˆsscanfå¤±è´¥ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ½œåœ¨é—®é¢˜"><a href="#æ½œåœ¨é—®é¢˜" class="headerlink" title="æ½œåœ¨é—®é¢˜"></a>æ½œåœ¨é—®é¢˜</h1><h2 id="é—®é¢˜1ï¼šæœªæ£€æŸ¥å‚æ•°æ•°é‡"><a href="#é—®é¢˜1ï¼šæœªæ£€æŸ¥å‚æ•°æ•°é‡" class="headerlink" title="é—®é¢˜1ï¼šæœªæ£€æŸ¥å‚æ•°æ•°é‡"></a>é—®é¢˜1ï¼šæœªæ£€æŸ¥å‚æ•°æ•°é‡</h2><p>ä»£ç å‡è®¾ç”¨æˆ·è‡³å°‘è¾“å…¥4ä¸ªå‚æ•°ï¼ˆ<code>argv[0]</code>åˆ°<code>argv[3]</code>ï¼‰ï¼Œä½†æœªéªŒè¯<code>argc</code>æ˜¯å¦â‰¥4ã€‚è‹¥ç”¨æˆ·è¾“å…¥å‚æ•°ä¸è¶³ï¼ˆå¦‚ä»…3ä¸ªï¼‰ï¼Œ<code>argv[3]</code>ä¼šæ˜¯<code>NULL</code>ï¼Œå¯¼è‡´<code>printf</code>è¾“å‡ºç©ºå­—ç¬¦ä¸²æˆ–å´©æºƒã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™æ·»åŠ å‚æ•°æ•°é‡æ£€æŸ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (argc &lt; 4) &#123;</span><br><span class="line">    printf(&quot;é”™è¯¯ï¼šéœ€è¦è‡³å°‘4ä¸ªå‚æ•°ï¼ˆç¨‹åºåã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€ç»“æœæè¿°ï¼‰</span><br><span class="line">&quot;);</span><br><span class="line">    return 1;  // å¼‚å¸¸é€€å‡º</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜2ï¼šæœªå¤„ç†sscanfè§£æå¤±è´¥"><a href="#é—®é¢˜2ï¼šæœªå¤„ç†sscanfè§£æå¤±è´¥" class="headerlink" title="é—®é¢˜2ï¼šæœªå¤„ç†sscanfè§£æå¤±è´¥"></a>é—®é¢˜2ï¼šæœªå¤„ç†<code>sscanf</code>è§£æå¤±è´¥</h3><p>è‹¥<code>argv[1]</code>æˆ–<code>argv[2]</code>çš„æ ¼å¼ä¸ç¬¦åˆè¦æ±‚ï¼ˆå¦‚<code>argv[1]</code>æ˜¯å­—ç¬¦ä¸²<code>&quot;abc&quot;</code>ï¼‰ï¼Œ<code>sscanf</code>ä¼šè¿”å›0ï¼Œå¯¼è‡´<code>num1</code>æˆ–<code>num2</code>æœªè¢«æ­£ç¡®èµ‹å€¼ï¼ˆä¿æŒåˆå§‹å€¼0ï¼‰ï¼Œæœ€ç»ˆç»“æœé”™è¯¯ã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™æ£€æŸ¥<code>sscanf</code>çš„è¿”å›å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int ret1 = sscanf(argv[1], &quot;%d&quot;, &amp;num1);</span><br><span class="line">int ret2 = sscanf(argv[2], &quot;%lf&quot;, &amp;num2);</span><br><span class="line">if (ret1 != 1 || ret2 != 1) &#123;</span><br><span class="line">    printf(&quot;é”™è¯¯ï¼šå‚æ•°æ ¼å¼ä¸æ­£ç¡®ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰\n&quot;);</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é—®é¢˜3ï¼šæµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±"><a href="#é—®é¢˜3ï¼šæµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±" class="headerlink" title="é—®é¢˜3ï¼šæµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±"></a>é—®é¢˜3ï¼šæµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±</h3><p><code>num2</code>æ˜¯<code>double</code>ç±»å‹ï¼ˆåŒç²¾åº¦æµ®ç‚¹æ•°ï¼‰ï¼Œä½†<code>sscanf</code>ä½¿ç”¨<code>%lf</code>è¯»å–ï¼Œè€Œ<code>printf</code>ä½¿ç”¨<code>%.2f</code>è¾“å‡ºï¼ˆå•ç²¾åº¦æ ¼å¼ï¼‰ã€‚è™½ç„¶ç»“æœå¯èƒ½æ­£ç¡®ï¼Œä½†ä¸¥æ ¼æ¥è¯´ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°åº”ä½¿ç”¨<code>%lf</code>æ ¼å¼ç¬¦ï¼ˆå°½ç®¡åœ¨å¤§å¤šæ•°ç¼–è¯‘å™¨ä¸­<code>%f</code>å’Œ<code>%lf</code>å¯¹<code>printf</code>æ˜¯ç­‰ä»·çš„ï¼‰ã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™ç»Ÿä¸€ä½¿ç”¨<code>%lf</code>æ ¼å¼ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">printf(&quot;ç»“æœå­—ç¬¦ä¸²ï¼š%d + %.2lf = %.2lf %s\n&quot;, num1, num2, num3, argv[3]);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ€»ç»“ï¼šå‘½ä»¤è¡Œå‚æ•°å¤„ç†çš„æ ¸å¿ƒä»·å€¼"><a href="#æ€»ç»“ï¼šå‘½ä»¤è¡Œå‚æ•°å¤„ç†çš„æ ¸å¿ƒä»·å€¼" class="headerlink" title="æ€»ç»“ï¼šå‘½ä»¤è¡Œå‚æ•°å¤„ç†çš„æ ¸å¿ƒä»·å€¼"></a>æ€»ç»“ï¼šå‘½ä»¤è¡Œå‚æ•°å¤„ç†çš„æ ¸å¿ƒä»·å€¼</h1><p>å‘½ä»¤è¡Œå‚æ•°å¤„ç†æ˜¯Cè¯­è¨€å¼€å‘ä¸­è¿æ¥ç”¨æˆ·è¾“å…¥ä¸ç¨‹åºé€»è¾‘çš„å…³é”®ç¯èŠ‚ã€‚é€šè¿‡æœ¬æ–‡çš„è§£æï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š</p>
<ul>
<li><code>argc</code>å’Œ<code>argv</code>çš„åŸºæœ¬ç”¨æ³•ï¼ˆå‚æ•°æ•°é‡ä¸å†…å®¹è·å–ï¼‰ï¼›</li>
<li><code>sscanf</code>çš„æ ¼å¼åŒ–è¾“å…¥è§£æï¼ˆä»å­—ç¬¦ä¸²è¯»å–æ•°å€¼ï¼‰ï¼›</li>
<li>æ•°å€¼è®¡ç®—çš„æ ¼å¼åŒ–è¾“å‡ºï¼ˆæ§åˆ¶ç²¾åº¦ä¸æ ¼å¼ï¼‰ï¼›</li>
<li>å¸¸è§é”™è¯¯å¤„ç†ï¼ˆå‚æ•°ä¸è¶³ã€æ ¼å¼é”™è¯¯ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›æŠ€èƒ½æ˜¯å¼€å‘å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚è®¡ç®—å™¨ã€æ–‡ä»¶å¤„ç†å™¨ï¼‰çš„åŸºç¡€ã€‚å®é™…å¼€å‘ä¸­ï¼Œå»ºè®®ç»“åˆé”™è¯¯å¤„ç†é€»è¾‘ï¼Œæå‡ç¨‹åºçš„å¥å£®æ€§ï¼›å¯¹äºå¤æ‚å‚æ•°ï¼ˆå¦‚é€‰é¡¹å‚æ•°<code>-h</code>ã€<code>-v</code>ï¼‰ï¼Œå¯ä½¿ç”¨<code>getopt</code>åº“ç®€åŒ–è§£æè¿‡ç¨‹ã€‚</p>
<hr>
<h1 id="å®Œæ•´æºä»£ç "><a href="#å®Œæ•´æºä»£ç " class="headerlink" title="å®Œæ•´æºä»£ç "></a>å®Œæ•´æºä»£ç </h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">å‘½ä»¤è¡Œæ“ä½œï¼Œmainå‡½æ•°ä¼ å‚ï¼Œè°ƒè¯•ï¼Œçœ‹è¾“å‡ºæƒ…å†µ</span><br><span class="line">*/</span><br><span class="line">int main(int argc, char *argv[]) &#123;</span><br><span class="line">    // æ£€æŸ¥å‚æ•°æ•°é‡æ˜¯å¦è¶³å¤Ÿï¼ˆè‡³å°‘4ä¸ªå‚æ•°ï¼šç¨‹åºåã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€ç»“æœæè¿°ï¼‰</span><br><span class="line">    if (argc &lt; 4) &#123;</span><br><span class="line">        printf(&quot;é”™è¯¯ï¼šéœ€è¦è‡³å°‘4ä¸ªå‚æ•°ï¼ˆæ ¼å¼ï¼šç¨‹åºå æ•´æ•° æµ®ç‚¹æ•° ç»“æœæè¿°ï¼‰\n&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int num1;</span><br><span class="line">    double num2;</span><br><span class="line"></span><br><span class="line">    // è§£ææ•´æ•°å‚æ•°ï¼ˆargv[1]ï¼‰</span><br><span class="line">    int ret1 = sscanf(argv[1], &quot;%d&quot;, &amp;num1);</span><br><span class="line">    if (ret1 != 1) &#123;</span><br><span class="line">        printf(&quot;é”™è¯¯ï¼šç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ•´æ•°ï¼ˆå½“å‰å€¼ï¼š%sï¼‰\n&quot;, argv[1]);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // è§£ææµ®ç‚¹æ•°å‚æ•°ï¼ˆargv[2]ï¼‰</span><br><span class="line">    int ret2 = sscanf(argv[2], &quot;%lf&quot;, &amp;num2);</span><br><span class="line">    if (ret2 != 1) &#123;</span><br><span class="line">        printf(&quot;é”™è¯¯ï¼šç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯æµ®ç‚¹æ•°ï¼ˆå½“å‰å€¼ï¼š%sï¼‰\n&quot;, argv[2]);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // è®¡ç®—å’Œ</span><br><span class="line">    double num3 = num1 + num2;</span><br><span class="line"></span><br><span class="line">    // æ ¼å¼åŒ–è¾“å‡ºç»“æœï¼ˆä½¿ç”¨argv[3]ä½œä¸ºæè¿°ï¼‰</span><br><span class="line">    printf(&quot;ç»“æœå­—ç¬¦ä¸²ï¼š%d + %.2lf = %.2lf %s\n&quot;, num1, num2, num3, argv[3]);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Operating-Systems</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>å‘½ä»¤è¡Œå‚æ•°</tag>
        <tag>è¾“å…¥å¤„ç†</tag>
        <tag>æ•°å€¼è®¡ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æ</title>
    <url>/posts/87231a26/</url>
    <content><![CDATA[<img src="/img/PageCode/10.png" alt="Cè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç†è§£æ•°ç»„ä¸æŒ‡é’ˆçš„å·®å¼‚ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç†è§£æ•°ç»„ä¸æŒ‡é’ˆçš„å·®å¼‚ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç†è§£æ•°ç»„ä¸æŒ‡é’ˆçš„å·®å¼‚ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ç†è§£æ•°ç»„ä¸æŒ‡é’ˆçš„å·®å¼‚ï¼Ÿ</h1><p>åœ¨Cè¯­è¨€ä¸­ï¼Œæ•°ç»„å’ŒæŒ‡é’ˆæ˜¯æœ€åŸºç¡€ä¸”å®¹æ˜“æ··æ·†çš„æ¦‚å¿µã€‚å°¤å…¶æ˜¯<code>*p[]</code>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰å’Œ<code>(*p)[]</code>ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰çš„è¯­æ³•å·®å¼‚ï¼Œæ¶‰åŠç±»å‹ä¼˜å…ˆçº§ã€å†…å­˜å¸ƒå±€å’Œæ“ä½œæ–¹å¼çš„æœ¬è´¨åŒºåˆ«ã€‚æœ¬æ–‡é€šè¿‡å…·ä½“ä»£ç ç¤ºä¾‹ï¼Œç»“åˆ<code>fruits1</code>ï¼ˆäºŒç»´æ•°ç»„ï¼‰å’Œ<code>fruits2</code>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰çš„å¯¹æ¯”ï¼Œæ·±å…¥è§£æä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚ï¼Œå¹¶æ¢è®¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯ã€‚</p>
<hr>
<h1 id="æ ¸å¿ƒæ¦‚å¿µï¼š-p-ä¸-p-çš„ç±»å‹ä¼˜å…ˆçº§"><a href="#æ ¸å¿ƒæ¦‚å¿µï¼š-p-ä¸-p-çš„ç±»å‹ä¼˜å…ˆçº§" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µï¼š*p[]ä¸(*p)[]çš„ç±»å‹ä¼˜å…ˆçº§"></a>æ ¸å¿ƒæ¦‚å¿µï¼š<code>*p[]</code>ä¸<code>(*p)[]</code>çš„ç±»å‹ä¼˜å…ˆçº§</h1><p>Cè¯­è¨€ä¸­ï¼Œè¿ç®—ç¬¦ä¼˜å…ˆçº§å†³å®šäº†è¡¨è¾¾å¼çš„è§£æé¡ºåºã€‚å…¶ä¸­ï¼Œ<code>[]</code>ï¼ˆä¸‹æ ‡è¿ç®—ç¬¦ï¼‰çš„ä¼˜å…ˆçº§é«˜äº<code>*</code>ï¼ˆè§£å¼•ç”¨è¿ç®—ç¬¦ï¼‰ã€‚å› æ­¤ï¼š</p>
<ul>
<li><code>*p[]</code>ä¼šè¢«è§£æä¸º<code>*(p[])</code>ï¼Œå³<strong>æ•°ç»„çš„æŒ‡é’ˆ</strong>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰ï¼šæ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯æŒ‡é’ˆï¼›</li>
<li><code>(*p)[]</code>ä¼šè¢«è§£æä¸º<code>(*p)[]</code>ï¼Œå³<strong>æ•°ç»„çš„æ•°ç»„</strong>ï¼ˆäºŒç»´æ•°ç»„ï¼‰ï¼šæ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦ä¸€ä¸ªæ•°ç»„ã€‚</li>
</ul>
<p>ç”¨æˆ·ä»£ç ä¸­çš„<code>fruits1</code>å’Œ<code>fruits2</code>æ­£æ˜¯è¿™ä¸¤ç§ç±»å‹çš„å…¸å‹ä»£è¡¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char fruits1[][10] = &#123; &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; &#125;;  // äºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰</span><br><span class="line">char *fruits2[] = &#123; &quot;apple&quot;,&quot;banana&quot;,&quot;cherry&quot; &#125;;       // æŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä»£ç é€è¡Œè§£æï¼šä»å®šä¹‰åˆ°æ“ä½œçš„å®Œæ•´æµç¨‹"><a href="#ä»£ç é€è¡Œè§£æï¼šä»å®šä¹‰åˆ°æ“ä½œçš„å®Œæ•´æµç¨‹" class="headerlink" title="ä»£ç é€è¡Œè§£æï¼šä»å®šä¹‰åˆ°æ“ä½œçš„å®Œæ•´æµç¨‹"></a>ä»£ç é€è¡Œè§£æï¼šä»å®šä¹‰åˆ°æ“ä½œçš„å®Œæ•´æµç¨‹</h1><h2 id="1-æ•°æ®å®šä¹‰ï¼šäºŒç»´æ•°ç»„-vs-æŒ‡é’ˆæ•°ç»„"><a href="#1-æ•°æ®å®šä¹‰ï¼šäºŒç»´æ•°ç»„-vs-æŒ‡é’ˆæ•°ç»„" class="headerlink" title="1. æ•°æ®å®šä¹‰ï¼šäºŒç»´æ•°ç»„ vs æŒ‡é’ˆæ•°ç»„"></a>1. æ•°æ®å®šä¹‰ï¼šäºŒç»´æ•°ç»„ vs æŒ‡é’ˆæ•°ç»„</h2><h3 id="fruits1ï¼šäºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰"><a href="#fruits1ï¼šäºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰" class="headerlink" title="fruits1ï¼šäºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰"></a><code>fruits1</code>ï¼šäºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char fruits1[][10] = &#123; &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; &#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç±»å‹</strong>ï¼š<code>char [3][10]</code>ï¼ˆ3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯<code>char [10]</code>çš„æ•°ç»„ï¼‰ï¼›</li>
<li><strong>å†…å­˜å¸ƒå±€</strong>ï¼šæ‰€æœ‰å­—ç¬¦ä¸²è¿ç»­å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå½¢æˆä¸€ä¸ª3Ã—10çš„äºŒç»´æ•°ç»„ï¼ˆå®é™…å­˜å‚¨ä¸º<code>&#39;a&#39;,&#39;p&#39;,&#39;p&#39;,&#39;l&#39;,&#39;e&#39;,&#39;\0&#39;,...</code>ï¼‰ï¼›</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæ•°ç»„å<code>fruits1</code>æ˜¯å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå­æ•°ç»„çš„èµ·å§‹åœ°å€ï¼ˆ<code>&amp;fruits1[0]</code>ï¼‰ï¼›<code>fruits1[i]</code>æ˜¯ç¬¬<code>i</code>ä¸ªå­æ•°ç»„çš„èµ·å§‹åœ°å€ï¼ˆ<code>&amp;fruits1[i][0]</code>ï¼‰ã€‚</li>
</ul>
<h3 id="fruits2ï¼šæŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰"><a href="#fruits2ï¼šæŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰" class="headerlink" title="fruits2ï¼šæŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰"></a><code>fruits2</code>ï¼šæŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *fruits2[] = &#123; &quot;apple&quot;,&quot;banana&quot;,&quot;cherry&quot; &#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç±»å‹</strong>ï¼š<code>char *[3]</code>ï¼ˆ3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯<code>char *</code>æŒ‡é’ˆï¼‰ï¼›</li>
<li><strong>å†…å­˜å¸ƒå±€</strong>ï¼šæ•°ç»„æœ¬èº«å­˜å‚¨3ä¸ªæŒ‡é’ˆï¼ˆæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡çš„åœ°å€ï¼‰ï¼›</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæ•°ç»„å<code>fruits2</code>æ˜¯å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªæŒ‡é’ˆçš„èµ·å§‹åœ°å€ï¼ˆ<code>&amp;fruits2[0]</code>ï¼‰ï¼›<code>fruits2[i]</code>æ˜¯ç¬¬<code>i</code>ä¸ªæŒ‡é’ˆçš„åœ°å€ï¼ˆå­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡çš„é¦–åœ°å€ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="2-Num-arrå‡½æ•°ï¼šæ‰“å°æ•°ç»„å†…å®¹ä¸é•¿åº¦"><a href="#2-Num-arrå‡½æ•°ï¼šæ‰“å°æ•°ç»„å†…å®¹ä¸é•¿åº¦" class="headerlink" title="2. Num_arrå‡½æ•°ï¼šæ‰“å°æ•°ç»„å†…å®¹ä¸é•¿åº¦"></a>2. <code>Num_arr</code>å‡½æ•°ï¼šæ‰“å°æ•°ç»„å†…å®¹ä¸é•¿åº¦</h2><p>å‡½æ•°é€šè¿‡<code>sizeof</code>è®¡ç®—æ•°ç»„é•¿åº¦ï¼Œå¹¶éå†æ‰“å°æ¯ä¸ªå­—ç¬¦ä¸²åŠå…¶é•¿åº¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void Num_arr() &#123;</span><br><span class="line">    // æ‰“å°fruits1ï¼ˆäºŒç»´æ•°ç»„ï¼‰</span><br><span class="line">    printf(&quot;Fruits1:</span><br><span class="line">&quot;);</span><br><span class="line">    for (int i = 0; i &lt; (sizeof(fruits1) / sizeof(fruits1[0])); i++) &#123;</span><br><span class="line">        printf(&quot;ç¬¬%dä¸ªå­—ç¬¦ä¸²æ˜¯:%s, å­—ç¬¦ä¸²é•¿åº¦æ˜¯:%zu\n&quot;, (i + 1), fruits1[i], strlen(fruits1[i]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰“å°fruits2ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰</span><br><span class="line">    printf(&quot;\nFruits2:\n&quot;);</span><br><span class="line">    for (int i = 0; i &lt; sizeof(fruits2) / sizeof(fruits2[0]); ++i) &#123;</span><br><span class="line">        printf(&quot;ç¬¬%dä¸ªå­—ç¬¦ä¸²æ˜¯:%s, å­—ç¬¦ä¸²é•¿åº¦æ˜¯:%zu\n&quot;, (i + 1), fruits2[i], strlen(fruits2[i]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><code>sizeof(fruits1) / sizeof(fruits1[0])</code>ï¼šè®¡ç®—äºŒç»´æ•°ç»„çš„è¡Œæ•°ï¼ˆ<code>3</code>ï¼‰ï¼Œå› ä¸º<code>sizeof(fruits1)</code>æ˜¯æ•´ä¸ªäºŒç»´æ•°ç»„çš„å¤§å°ï¼ˆ<code>3Ã—10=30</code>å­—èŠ‚ï¼‰ï¼Œ<code>sizeof(fruits1[0])</code>æ˜¯å•ä¸ªå­æ•°ç»„çš„å¤§å°ï¼ˆ<code>10</code>å­—èŠ‚ï¼‰ï¼›</li>
<li><code>sizeof(fruits2) / sizeof(fruits2[0])</code>ï¼šè®¡ç®—æŒ‡é’ˆæ•°ç»„çš„å…ƒç´ ä¸ªæ•°ï¼ˆ<code>3</code>ï¼‰ï¼Œå› ä¸º<code>sizeof(fruits2)</code>æ˜¯æŒ‡é’ˆæ•°ç»„çš„å¤§å°ï¼ˆ<code>3Ã—8=24</code>å­—èŠ‚ï¼Œå‡è®¾64ä½ç³»ç»Ÿï¼‰ï¼Œ<code>sizeof(fruits2[0])</code>æ˜¯å•ä¸ªæŒ‡é’ˆçš„å¤§å°ï¼ˆ<code>8</code>å­—èŠ‚ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="3-Changeå‡½æ•°ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ çš„å·®å¼‚"><a href="#3-Changeå‡½æ•°ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ çš„å·®å¼‚" class="headerlink" title="3. Changeå‡½æ•°ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ çš„å·®å¼‚"></a>3. <code>Change</code>å‡½æ•°ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ çš„å·®å¼‚</h2><p>å‡½æ•°æ¼”ç¤ºäº†å¯¹ä¸¤ç§æ•°ç»„çš„ä¿®æ”¹æ“ä½œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void Change() &#123;</span><br><span class="line">    // fruits1[0] = &quot;orange&quot;;  é”™è¯¯ï¼šæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼Œä¸å¯é‡æ–°èµ‹å€¼</span><br><span class="line">    fruits2[0] = &quot;orange&quot;;    // æ­£ç¡®ï¼šæŒ‡é’ˆæ•°ç»„çš„å…ƒç´ æ˜¯æŒ‡é’ˆï¼Œå¯é‡æ–°æŒ‡å‘æ–°å­—ç¬¦ä¸²</span><br><span class="line">    strcpy(fruits1[0], &quot;orange&quot;);  // æ­£ç¡®ï¼šä¿®æ”¹äºŒç»´æ•°ç»„çš„å†…å®¹ï¼ˆéæ•°ç»„åï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ ¸å¿ƒåŒºåˆ«</strong>ï¼š</p>
<ul>
<li><strong><code>fruits1[0]</code></strong>ï¼šæ˜¯äºŒç»´æ•°ç»„çš„å­æ•°ç»„åï¼ˆ<code>char [10]</code>ç±»å‹ï¼‰ï¼Œæœ¬è´¨æ˜¯å¸¸é‡æŒ‡é’ˆï¼ˆæŒ‡å‘å­æ•°ç»„çš„èµ·å§‹åœ°å€ï¼‰ï¼Œæ— æ³•é€šè¿‡<code>=</code>é‡æ–°èµ‹å€¼ï¼›</li>
<li><strong><code>fruits2[0]</code></strong>ï¼šæ˜¯æŒ‡é’ˆæ•°ç»„çš„å…ƒç´ ï¼ˆ<code>char *</code>ç±»å‹ï¼‰ï¼Œæ˜¯æ™®é€šæŒ‡é’ˆå˜é‡ï¼Œå¯ä»¥é€šè¿‡<code>=</code>é‡æ–°æŒ‡å‘å…¶ä»–å­—ç¬¦ä¸²ï¼›</li>
<li><strong><code>strcpy(fruits1[0], &quot;orange&quot;)</code></strong>ï¼šé€šè¿‡<code>strcpy</code>ä¿®æ”¹äºŒç»´æ•°ç»„çš„å†…å®¹ï¼ˆè¦†ç›–åŸå­—ç¬¦ä¸²ï¼‰ï¼Œè¿™æ˜¯å…è®¸çš„ï¼Œå› ä¸ºæ•°ç»„åæŒ‡å‘çš„å†…å­˜åŒºåŸŸæ˜¯å¯å†™çš„ã€‚</li>
</ul>
<hr>
<h2 id="4-Chang-bananaå‡½æ•°ï¼šä¿®æ”¹å­—ç¬¦çš„ç»†èŠ‚"><a href="#4-Chang-bananaå‡½æ•°ï¼šä¿®æ”¹å­—ç¬¦çš„ç»†èŠ‚" class="headerlink" title="4. Chang_bananaå‡½æ•°ï¼šä¿®æ”¹å­—ç¬¦çš„ç»†èŠ‚"></a>4. <code>Chang_banana</code>å‡½æ•°ï¼šä¿®æ”¹å­—ç¬¦çš„ç»†èŠ‚</h2><p>å‡½æ•°æ¼”ç¤ºäº†å¯¹å­—ç¬¦ä¸²ä¸­å•ä¸ªå­—ç¬¦çš„ä¿®æ”¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void Chang_banana() &#123;</span><br><span class="line">    fruits1[1][0] = &#x27;B&#x27;;  // æ­£ç¡®ï¼šä¿®æ”¹äºŒç»´æ•°ç»„çš„å­—ç¬¦ï¼ˆéå­—ç¬¦ä¸²å­—é¢é‡ï¼‰</span><br><span class="line">    fruits2[1] = &quot;Banana&quot;; // æ­£ç¡®ï¼šä¿®æ”¹æŒ‡é’ˆæ•°ç»„çš„æŒ‡å‘ï¼ˆåŸå­—ç¬¦ä¸²æœªè¢«ä¿®æ”¹ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ul>
<li><strong><code>fruits1[1][0] = &#39;B&#39;</code></strong>ï¼š<code>fruits1</code>çš„å­æ•°ç»„å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²<code>&quot;banana&quot;</code>ï¼ˆå¯å†™å†…å­˜ï¼‰ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä¿®æ”¹ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸º<code>&#39;B&#39;</code>ï¼ˆç»“æœä¸º<code>&quot;Banana&quot;</code>ï¼‰ï¼›</li>
<li><strong><code>fruits2[1] = &quot;Banana&quot;</code></strong>ï¼š<code>fruits2[1]</code>åŸæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡<code>&quot;banana&quot;</code>ï¼ˆåªè¯»å†…å­˜ï¼‰ï¼Œä½†é€šè¿‡æŒ‡é’ˆé‡æ–°æŒ‡å‘<code>&quot;Banana&quot;</code>ï¼ˆæ–°çš„å¯å†™å†…å­˜ï¼‰ï¼ŒåŸ<code>&quot;banana&quot;</code>æœªè¢«ä¿®æ”¹ï¼ˆè‹¥å°è¯•ä¿®æ”¹<code>&quot;banana&quot;</code>çš„å†…å®¹ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="5-ä¸»å‡½æ•°ï¼šæŒ‡é’ˆæ•°ç»„çš„çµæ´»æ“ä½œ"><a href="#5-ä¸»å‡½æ•°ï¼šæŒ‡é’ˆæ•°ç»„çš„çµæ´»æ“ä½œ" class="headerlink" title="5. ä¸»å‡½æ•°ï¼šæŒ‡é’ˆæ•°ç»„çš„çµæ´»æ“ä½œ"></a>5. ä¸»å‡½æ•°ï¼šæŒ‡é’ˆæ•°ç»„çš„çµæ´»æ“ä½œ</h2><p>ä¸»å‡½æ•°å®šä¹‰äº†å¦ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„<code>fruits3</code>ï¼Œå¹¶æ¼”ç¤ºäº†å¯¹å…¶çš„ä¿®æ”¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    char apple[] = &quot;apple&quot;;   // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">    char banana[] = &quot;banana&quot;; // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">    char cherry[] = &quot;cherry&quot;; // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">    char *fruits3[] = &#123; apple, banana, cherry &#125;; // æŒ‡é’ˆæ•°ç»„æŒ‡å‘æ ˆä¸Šçš„æ•°ç»„</span><br><span class="line"></span><br><span class="line">    fruits3[0] = &quot;orange&quot;;    // æ­£ç¡®ï¼šæŒ‡é’ˆé‡æ–°æŒ‡å‘æ–°çš„å­—ç¬¦ä¸²ï¼ˆå †æˆ–åªè¯»åŒºï¼‰</span><br><span class="line">    fruits3[1][0] = &#x27;B&#x27;;      // æ­£ç¡®ï¼šä¿®æ”¹æ ˆä¸Šæ•°ç»„çš„å­—ç¬¦ï¼ˆ`banana`å˜ä¸º&quot;Banana&quot;ï¼‰</span><br><span class="line"></span><br><span class="line">    Chang_banana();           // è°ƒç”¨å‡½æ•°ä¿®æ”¹`fruits1`å’Œ`fruits2`</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®åœºæ™¯</strong>ï¼š</p>
<ul>
<li><code>fruits3</code>æ˜¯æŒ‡é’ˆæ•°ç»„ï¼Œå…ƒç´ æŒ‡å‘æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆ<code>apple</code>ã€<code>banana</code>ã€<code>cherry</code>ï¼‰ï¼›</li>
<li><code>fruits3[0] = &quot;orange&quot;</code>ï¼šæŒ‡é’ˆé‡æ–°æŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡<code>&quot;orange&quot;</code>ï¼ˆé€šå¸¸å­˜å‚¨åœ¨åªè¯»åŒºï¼‰ï¼›</li>
<li><code>fruits3[1][0] = &#39;B&#39;</code>ï¼šä¿®æ”¹æ ˆä¸Š<code>banana</code>æ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆ<code>&quot;banana&quot;</code>å˜ä¸º<code>&quot;Banana&quot;</code>ï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="å†…å­˜å¸ƒå±€å¯¹æ¯”ï¼šäºŒç»´æ•°ç»„-vs-æŒ‡é’ˆæ•°ç»„"><a href="#å†…å­˜å¸ƒå±€å¯¹æ¯”ï¼šäºŒç»´æ•°ç»„-vs-æŒ‡é’ˆæ•°ç»„" class="headerlink" title="å†…å­˜å¸ƒå±€å¯¹æ¯”ï¼šäºŒç»´æ•°ç»„ vs æŒ‡é’ˆæ•°ç»„"></a>å†…å­˜å¸ƒå±€å¯¹æ¯”ï¼šäºŒç»´æ•°ç»„ vs æŒ‡é’ˆæ•°ç»„</h1><table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>äºŒç»´æ•°ç»„ï¼ˆ<code>fruits1</code>ï¼‰</strong></th>
<th><strong>æŒ‡é’ˆæ•°ç»„ï¼ˆ<code>fruits2</code>ï¼‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>ç±»å‹</strong></td>
<td><code>char [3][10]</code>ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰</td>
<td><code>char *[3]</code>ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰</td>
</tr>
<tr>
<td><strong>å†…å­˜å­˜å‚¨</strong></td>
<td>è¿ç»­å­˜å‚¨ï¼ˆæ‰€æœ‰å­—ç¬¦åœ¨ä¸€ä¸ªè¿ç»­å†…å­˜å—ä¸­ï¼‰</td>
<td>éè¿ç»­å­˜å‚¨ï¼ˆæ•°ç»„å­˜å‚¨æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘åˆ†æ•£çš„å†…å­˜ï¼‰</td>
</tr>
<tr>
<td><strong>ä¿®æ”¹æ•°ç»„å</strong></td>
<td>ä¸å…è®¸ï¼ˆæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼‰</td>
<td>å…è®¸ï¼ˆæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼Œä½†å…ƒç´ æ˜¯æŒ‡é’ˆå˜é‡ï¼‰</td>
</tr>
<tr>
<td><strong>ä¿®æ”¹å…ƒç´ å†…å®¹</strong></td>
<td>å…è®¸ï¼ˆé€šè¿‡ä¸‹æ ‡ä¿®æ”¹å­—ç¬¦ï¼‰</td>
<td>å…è®¸ï¼ˆé€šè¿‡æŒ‡é’ˆä¿®æ”¹æŒ‡å‘çš„å†…å®¹æˆ–é‡æ–°æŒ‡å‘ï¼‰</td>
</tr>
<tr>
<td><strong>å­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨</strong></td>
<td>å­˜å‚¨åœ¨æ•°ç»„å†…å­˜ä¸­ï¼ˆå¯å†™ï¼‰</td>
<td>å­˜å‚¨åœ¨åªè¯»åŒºï¼ˆä¸å¯ç›´æ¥ä¿®æ”¹å†…å®¹ï¼‰</td>
</tr>
</tbody></table>
<hr>
<h1 id="æ½œåœ¨é—®é¢˜ä¸æœ€ä½³å®è·µ"><a href="#æ½œåœ¨é—®é¢˜ä¸æœ€ä½³å®è·µ" class="headerlink" title="æ½œåœ¨é—®é¢˜ä¸æœ€ä½³å®è·µ"></a>æ½œåœ¨é—®é¢˜ä¸æœ€ä½³å®è·µ</h1><h2 id="é—®é¢˜1ï¼šæŒ‡é’ˆæ•°ç»„æŒ‡å‘æ— æ•ˆå†…å­˜"><a href="#é—®é¢˜1ï¼šæŒ‡é’ˆæ•°ç»„æŒ‡å‘æ— æ•ˆå†…å­˜" class="headerlink" title="é—®é¢˜1ï¼šæŒ‡é’ˆæ•°ç»„æŒ‡å‘æ— æ•ˆå†…å­˜"></a>é—®é¢˜1ï¼šæŒ‡é’ˆæ•°ç»„æŒ‡å‘æ— æ•ˆå†…å­˜</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">char *fruits2[] = &#123; &quot;apple&quot;, &quot;banana&quot;, NULL &#125;;  // æœ€åä¸€ä¸ªå…ƒç´ ä¸ºNULL</span><br><span class="line">fruits2[2][0] = &#x27;C&#x27;;  // å´©æºƒï¼NULLæŒ‡é’ˆæ— æŒ‡å‘çš„å†…å­˜</span><br></pre></td></tr></table></figure>

<p><strong>åŸå› </strong>ï¼šæŒ‡é’ˆæ•°ç»„çš„å…ƒç´ å¯èƒ½æŒ‡å‘<code>NULL</code>æˆ–å…¶ä»–æ— æ•ˆåœ°å€ï¼Œç›´æ¥è§£å¼•ç”¨ä¼šå¯¼è‡´å´©æºƒã€‚<br> â€‹<strong>â€‹è§£å†³æ–¹æ¡ˆâ€‹</strong>â€‹ï¼šæ“ä½œæŒ‡é’ˆæ•°ç»„å‰ï¼Œéœ€æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦ä¸º<code>NULL</code>ã€‚</p>
<h2 id="é—®é¢˜2ï¼šäºŒç»´æ•°ç»„è¶Šç•Œè®¿é—®"><a href="#é—®é¢˜2ï¼šäºŒç»´æ•°ç»„è¶Šç•Œè®¿é—®" class="headerlink" title="é—®é¢˜2ï¼šäºŒç»´æ•°ç»„è¶Šç•Œè®¿é—®"></a>é—®é¢˜2ï¼šäºŒç»´æ•°ç»„è¶Šç•Œè®¿é—®</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">printf(&quot;%s&quot;, fruits1[3]);  // è¶Šç•Œè®¿é—®ï¼`fruits1`åªæœ‰3ä¸ªå…ƒç´ ï¼ˆç´¢å¼•0-2ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>åŸå› </strong>ï¼šäºŒç»´æ•°ç»„çš„ç´¢å¼•èŒƒå›´æ˜¯<code>0</code>åˆ°<code>è¡Œæ•°-1</code>ï¼Œè¶Šç•Œè®¿é—®ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚<br> â€‹<strong>â€‹è§£å†³æ–¹æ¡ˆâ€‹</strong>â€‹ï¼šè®¿é—®å‰æ£€æŸ¥ç´¢å¼•æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…ï¼ˆ<code>0 â‰¤ i &lt; è¡Œæ•°</code>ï¼‰ã€‚</p>
<hr>
<h1 id="æ€»ç»“ï¼šæ•°ç»„ä¸æŒ‡é’ˆçš„æ ¸å¿ƒå·®å¼‚"><a href="#æ€»ç»“ï¼šæ•°ç»„ä¸æŒ‡é’ˆçš„æ ¸å¿ƒå·®å¼‚" class="headerlink" title="æ€»ç»“ï¼šæ•°ç»„ä¸æŒ‡é’ˆçš„æ ¸å¿ƒå·®å¼‚"></a>æ€»ç»“ï¼šæ•°ç»„ä¸æŒ‡é’ˆçš„æ ¸å¿ƒå·®å¼‚</h1><p>é€šè¿‡æœ¬æ–‡çš„è§£æï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š</p>
<ul>
<li><strong><code>\*p[]</code>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰</strong>ï¼šæ•°ç»„çš„å…ƒç´ æ˜¯æŒ‡é’ˆï¼Œå­˜å‚¨çš„æ˜¯å†…å­˜åœ°å€ï¼Œå¯çµæ´»æŒ‡å‘ä¸åŒçš„å†…å­˜åŒºåŸŸï¼›</li>
<li><strong><code>(\*p)[]</code>ï¼ˆäºŒç»´æ•°ç»„ï¼‰</strong>ï¼šæ•°ç»„çš„å…ƒç´ æ˜¯å¦ä¸€ä¸ªæ•°ç»„ï¼Œå†…å­˜è¿ç»­å­˜å‚¨ï¼Œé€‚åˆå¤„ç†å›ºå®šå¤§å°çš„å­—ç¬¦ä¸²é›†åˆï¼›</li>
<li><strong>æ“ä½œå·®å¼‚</strong>ï¼šæŒ‡é’ˆæ•°ç»„å¯é‡æ–°æŒ‡å‘æ–°å†…å­˜ï¼ŒäºŒç»´æ•°ç»„å¯ç›´æ¥ä¿®æ”¹å†…å®¹ï¼ˆéœ€ç¡®ä¿å†…å­˜å¯å†™ï¼‰ï¼›</li>
<li><strong>å†…å­˜å¸ƒå±€</strong>ï¼šæŒ‡é’ˆæ•°ç»„éè¿ç»­å­˜å‚¨ï¼ŒäºŒç»´æ•°ç»„è¿ç»­å­˜å‚¨ï¼Œå„æœ‰é€‚ç”¨åœºæ™¯ï¼ˆå¦‚åŠ¨æ€æ‰©å±•ç”¨æŒ‡é’ˆæ•°ç»„ï¼Œå›ºå®šæ•°æ®ç”¨äºŒç»´æ•°ç»„ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›çŸ¥è¯†æ˜¯Cè¯­è¨€è¿›é˜¶çš„æ ¸å¿ƒï¼Œç†Ÿç»ƒæŒæ¡åå¯æ›´é«˜æ•ˆåœ°å¤„ç†å­—ç¬¦ä¸²æ“ä½œã€å†…å­˜ç®¡ç†å’Œå¤æ‚æ•°æ®ç»“æ„ï¼ˆå¦‚é“¾è¡¨ã€å“ˆå¸Œè¡¨ï¼‰ã€‚</p>
<hr>
<h1 id="å®Œæ•´æºä»£ç ï¼šCè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æï¼ˆ-p-vs-p-ï¼‰"><a href="#å®Œæ•´æºä»£ç ï¼šCè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æï¼ˆ-p-vs-p-ï¼‰" class="headerlink" title="å®Œæ•´æºä»£ç ï¼šCè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æï¼ˆ*p[] vs (*p)[]ï¼‰"></a>å®Œæ•´æºä»£ç ï¼šCè¯­è¨€æ•°ç»„ä¸æŒ‡é’ˆæ·±åº¦è§£æï¼ˆ<code>*p[]</code> vs <code>(*p)[]</code>ï¼‰</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">* æ ¸å¿ƒç›®æ ‡ï¼šå¯¹æ¯”äºŒç»´æ•°ç»„ï¼ˆ(*p)[]ï¼‰ä¸æŒ‡é’ˆæ•°ç»„ï¼ˆ*p[]ï¼‰çš„ç±»å‹å·®å¼‚ä¸æ“ä½œé™åˆ¶</span><br><span class="line">* å…³é”®ç»“è®ºï¼š</span><br><span class="line">*   - []ä¼˜å…ˆçº§é«˜äº*ï¼Œå› æ­¤*p[]æ˜¯æ•°ç»„çš„æŒ‡é’ˆï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰ï¼Œ(*p)[]æ˜¯æ•°ç»„çš„æ•°ç»„ï¼ˆäºŒç»´æ•°ç»„ï¼‰</span><br><span class="line">*   - äºŒç»´æ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼ˆä¸å¯é‡æ–°èµ‹å€¼ï¼‰ï¼Œä½†å¯é€šè¿‡ä¸‹æ ‡ä¿®æ”¹å…ƒç´ å†…å®¹ï¼ˆéœ€å†…å­˜å¯å†™ï¼‰</span><br><span class="line">*   - æŒ‡é’ˆæ•°ç»„çš„å…ƒç´ æ˜¯æŒ‡é’ˆå˜é‡ï¼ˆå¯é‡æ–°èµ‹å€¼æŒ‡å‘æ–°å†…å­˜ï¼‰ï¼Œä½†æŒ‡å‘çš„å†…å®¹æ˜¯å¦å¯å†™å–å†³äºç›®æ ‡å†…å­˜</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">// äºŒç»´æ•°ç»„ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰ï¼šè¿ç»­å†…å­˜å­˜å‚¨ï¼Œæ¯ä¸ªå­æ•°ç»„å›ºå®šå¤§å°</span><br><span class="line">char fruits1[][10] = &#123; &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; &#125;;  // 3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯char[10]</span><br><span class="line"></span><br><span class="line">// æŒ‡é’ˆæ•°ç»„ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰ï¼šå­˜å‚¨æŒ‡é’ˆçš„æ•°ç»„ï¼ŒæŒ‡é’ˆæŒ‡å‘ç‹¬ç«‹å†…å­˜</span><br><span class="line">char *fruits2[] = &#123; &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; &#125;;      // 3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯char*</span><br><span class="line"></span><br><span class="line">// æŒ‡é’ˆæ•°ç»„æŒ‡å‘æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™å†…å­˜ï¼‰</span><br><span class="line">char apple_stack[] = &quot;apple&quot;;   // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">char banana_stack[] = &quot;banana&quot;; // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">char cherry_stack[] = &quot;cherry&quot;; // æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆå¯å†™ï¼‰</span><br><span class="line">char *fruits3[] = &#123; apple_stack, banana_stack, cherry_stack &#125;; // æŒ‡é’ˆæ•°ç»„æŒ‡å‘æ ˆæ•°ç»„</span><br><span class="line"></span><br><span class="line">// å‡½æ•°1ï¼šæ‰“å°æ•°ç»„å†…å®¹ä¸é•¿åº¦ï¼ˆéªŒè¯å†…å­˜å¸ƒå±€ä¸å¯è®¿é—®æ€§ï¼‰</span><br><span class="line">void print_arrays() &#123;</span><br><span class="line">    printf(&quot;===== æ‰“å°äºŒç»´æ•°ç»„ fruits1 =====\n&quot;);</span><br><span class="line">    for (int i = 0; i &lt; sizeof(fruits1) / sizeof(fruits1[0]); i++) &#123;</span><br><span class="line">        printf(&quot;fruits1[%d]: %sï¼ˆé•¿åº¦ï¼š%zuï¼Œå†…å­˜åœ°å€ï¼š%pï¼‰\n&quot;,</span><br><span class="line">               i, fruits1[i], strlen(fruits1[i]), (void*)fruits1[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits2 =====\n&quot;);</span><br><span class="line">    for (int i = 0; i &lt; sizeof(fruits2) / sizeof(fruits2[0]); i++) &#123;</span><br><span class="line">        printf(&quot;fruits2[%d]: %sï¼ˆé•¿åº¦ï¼š%zuï¼ŒæŒ‡é’ˆåœ°å€ï¼š%pï¼ŒæŒ‡å‘å†…å­˜ï¼š%pï¼‰\n&quot;,</span><br><span class="line">               i, fruits2[i], strlen(fruits2[i]), (void*)&amp;fruits2[i], (void*)fruits2[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits3ï¼ˆæŒ‡å‘æ ˆæ•°ç»„ï¼‰ =====\n&quot;);</span><br><span class="line">    for (int i = 0; i &lt; sizeof(fruits3) / sizeof(fruits3[0]); i++) &#123;</span><br><span class="line">        printf(&quot;fruits3[%d]: %sï¼ˆé•¿åº¦ï¼š%zuï¼ŒæŒ‡é’ˆåœ°å€ï¼š%pï¼ŒæŒ‡å‘å†…å­˜ï¼š%pï¼‰\n&quot;,</span><br><span class="line">               i, fruits3[i], strlen(fruits3[i]), (void*)&amp;fruits3[i], (void*)fruits3[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°2ï¼šä¿®æ”¹æ•°ç»„å…ƒç´ ï¼ˆéªŒè¯æ“ä½œé™åˆ¶ï¼‰</span><br><span class="line">void modify_arrays() &#123;</span><br><span class="line">    // 1. å°è¯•ä¿®æ”¹äºŒç»´æ•°ç»„çš„&quot;æ•°ç»„å&quot;ï¼ˆéæ³•æ“ä½œï¼‰</span><br><span class="line">    // fruits1 = fruits2;  // ç¼–è¯‘é”™è¯¯ï¼šæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼Œä¸å¯é‡æ–°èµ‹å€¼</span><br><span class="line"></span><br><span class="line">    // 2. ä¿®æ”¹äºŒç»´æ•°ç»„çš„å†…å®¹ï¼ˆé€šè¿‡ä¸‹æ ‡ï¼Œåˆæ³•ï¼‰</span><br><span class="line">    strcpy(fruits1[0], &quot;orange&quot;);  // æ­£ç¡®ï¼šè¦†ç›–äºŒç»´æ•°ç»„çš„å†…å­˜å†…å®¹</span><br><span class="line">    fruits1[1][0] = &#x27;B&#x27;;           // æ­£ç¡®ï¼šä¿®æ”¹äºŒç»´æ•°ç»„çš„å­—ç¬¦ï¼ˆåŸ&quot;banana&quot;â†’&quot;Banana&quot;ï¼‰</span><br><span class="line"></span><br><span class="line">    // 3. ä¿®æ”¹æŒ‡é’ˆæ•°ç»„çš„&quot;æ•°ç»„å&quot;ï¼ˆéæ³•æ“ä½œï¼‰</span><br><span class="line">    // fruits2 = fruits3;  // é”™è¯¯ï¼šæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼Œä¸å¯é‡æ–°èµ‹å€¼</span><br><span class="line">    // ä¿®æ­£ï¼šæŒ‡é’ˆæ•°ç»„çš„å…ƒç´ æ˜¯æŒ‡é’ˆï¼Œåº”é€ä¸ªä¿®æ”¹å…ƒç´ æŒ‡å‘</span><br><span class="line">    fruits2[0] = &quot;orange&quot;;  // æ­£ç¡®ï¼šä¿®æ”¹æŒ‡é’ˆæ•°ç»„çš„ç¬¬0ä¸ªå…ƒç´ æŒ‡å‘æ–°å­—ç¬¦ä¸²</span><br><span class="line">    fruits2[1] = &quot;Banana&quot;;  // æ­£ç¡®ï¼šä¿®æ”¹æŒ‡é’ˆæ•°ç»„çš„ç¬¬1ä¸ªå…ƒç´ æŒ‡å‘æ–°å­—ç¬¦ä¸²ï¼ˆåŸ&quot;banana&quot;æœªè¢«ä¿®æ”¹ï¼‰</span><br><span class="line"></span><br><span class="line">    // 4. ä¿®æ”¹æŒ‡é’ˆæ•°ç»„æŒ‡å‘çš„å†…å®¹ï¼ˆå–å†³äºç›®æ ‡å†…å­˜æ˜¯å¦å¯å†™ï¼‰</span><br><span class="line">    fruits3[1][0] = &#x27;b&#x27;;  // æ­£ç¡®ï¼šä¿®æ”¹æ ˆä¸Šçš„banana_stackæ•°ç»„ï¼ˆå¯å†™å†…å­˜ï¼‰</span><br><span class="line">    // fruits2[1][0] = &#x27;b&#x27;;  // æœªå®šä¹‰è¡Œä¸ºï¼fruits2[1]æŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆåªè¯»å†…å­˜ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°3ï¼šéªŒè¯æŒ‡é’ˆæ•°ç»„ä¸äºŒç»´æ•°ç»„çš„æœ¬è´¨åŒºåˆ«</span><br><span class="line">void validate_differences() &#123;</span><br><span class="line">    // äºŒç»´æ•°ç»„çš„å†…å­˜æ˜¯è¿ç»­çš„ï¼ˆæ‰€æœ‰å­—ç¬¦åœ¨ä¸€ä¸ªå—ä¸­ï¼‰</span><br><span class="line">    printf(&quot;\n===== éªŒè¯äºŒç»´æ•°ç»„å†…å­˜è¿ç»­æ€§ =====\n&quot;);</span><br><span class="line">    printf(&quot;fruits1[0]åœ°å€ï¼š%pï¼Œfruits1[0][0]åœ°å€ï¼š%pï¼ˆåç§»0ï¼‰\n&quot;,</span><br><span class="line">           (void*)fruits1, (void*)&amp;fruits1[0][0]);</span><br><span class="line">    printf(&quot;fruits1[0]åœ°å€ï¼š%pï¼Œfruits1[0][9]åœ°å€ï¼š%pï¼ˆåç§»9ï¼‰\n&quot;,</span><br><span class="line">           (void*)fruits1, (void*)&amp;fruits1[0][9]);</span><br><span class="line">    printf(&quot;fruits1[1]åœ°å€ï¼š%pï¼ˆåç§»10ï¼Œä¸fruits1[0][9]+1ä¸€è‡´ï¼‰\n&quot;,</span><br><span class="line">           (void*)fruits1[1]);</span><br><span class="line"></span><br><span class="line">    // æŒ‡é’ˆæ•°ç»„çš„å†…å­˜æ˜¯éè¿ç»­çš„ï¼ˆå­˜å‚¨æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘åˆ†æ•£å†…å­˜ï¼‰</span><br><span class="line">    printf(&quot;\n===== éªŒè¯æŒ‡é’ˆæ•°ç»„å†…å­˜éè¿ç»­æ€§ =====\n&quot;);</span><br><span class="line">    printf(&quot;fruits2[0]æŒ‡é’ˆå€¼ï¼š%pï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰\n&quot;, (void*)fruits2[0]);</span><br><span class="line">    printf(&quot;fruits2[1]æŒ‡é’ˆå€¼ï¼š%pï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰\n&quot;, (void*)fruits2[1]);</span><br><span class="line">    printf(&quot;fruits2[2]æŒ‡é’ˆå€¼ï¼š%pï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰\n&quot;, (void*)fruits2[2]);</span><br><span class="line">    printf(&quot;fruits2æ•°ç»„æœ¬èº«çš„åœ°å€ï¼š%pï¼Œä¸æŒ‡é’ˆå€¼æ— å…³\n&quot;, (void*)fruits2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    // åˆå§‹åŒ–åç›´æ¥æ‰“å°</span><br><span class="line">    print_arrays();</span><br><span class="line"></span><br><span class="line">    // ä¿®æ”¹æ•°ç»„å…ƒç´ å¹¶å†æ¬¡æ‰“å°</span><br><span class="line">    modify_arrays();</span><br><span class="line">    printf(&quot;\n===== ä¿®æ”¹åçš„æ•°ç»„çŠ¶æ€ =====\n&quot;);</span><br><span class="line">    print_arrays();</span><br><span class="line"></span><br><span class="line">    // éªŒè¯å†…å­˜å¸ƒå±€å·®å¼‚</span><br><span class="line">    validate_differences();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;s</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä»£ç è¯´æ˜ä¸å…³é”®æ³¨é‡Š"><a href="#ä»£ç è¯´æ˜ä¸å…³é”®æ³¨é‡Š" class="headerlink" title="ä»£ç è¯´æ˜ä¸å…³é”®æ³¨é‡Š"></a>ä»£ç è¯´æ˜ä¸å…³é”®æ³¨é‡Š</h1><h2 id="1-æ•°æ®å®šä¹‰éƒ¨åˆ†"><a href="#1-æ•°æ®å®šä¹‰éƒ¨åˆ†" class="headerlink" title="1. æ•°æ®å®šä¹‰éƒ¨åˆ†"></a>1. æ•°æ®å®šä¹‰éƒ¨åˆ†</h2><ul>
<li><strong><code>fruits1</code>ï¼ˆäºŒç»´æ•°ç»„ï¼‰</strong>ï¼š<code>char [3][10]</code>ç±»å‹ï¼Œ3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯å›ºå®šå¤§å°ï¼ˆ10å­—èŠ‚ï¼‰çš„å­—ç¬¦æ•°ç»„ã€‚å†…å­˜è¿ç»­å­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¯ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹å†…å®¹ï¼ˆéœ€ç¡®ä¿å†…å­˜å¯å†™ï¼‰ã€‚</li>
<li><strong><code>fruits2</code>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰</strong>ï¼š<code>char *[3]</code>ç±»å‹ï¼Œ3ä¸ªå…ƒç´ æ˜¯æŒ‡é’ˆå˜é‡ï¼Œåˆå§‹æŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆé€šå¸¸å­˜å‚¨åœ¨åªè¯»åŒºï¼‰ã€‚æŒ‡é’ˆå˜é‡æœ¬èº«å¯é‡æ–°èµ‹å€¼ï¼Œä½†æŒ‡å‘çš„å†…å®¹æ˜¯å¦å¯å†™å–å†³äºç›®æ ‡å†…å­˜ã€‚</li>
<li><strong><code>fruits3</code>ï¼ˆæŒ‡é’ˆæ•°ç»„æŒ‡å‘æ ˆæ•°ç»„ï¼‰</strong>ï¼šæŒ‡é’ˆæ•°ç»„çš„å…ƒç´ æŒ‡å‘æ ˆä¸Šçš„å­—ç¬¦æ•°ç»„ï¼ˆ<code>apple_stack</code>ç­‰ï¼‰ï¼Œè¿™äº›æ ˆæ•°ç»„æ˜¯å¯å†™çš„ï¼Œå› æ­¤å¯é€šè¿‡æŒ‡é’ˆä¿®æ”¹å…¶å†…å®¹ã€‚</li>
</ul>
<h2 id="2-print-arrayså‡½æ•°"><a href="#2-print-arrayså‡½æ•°" class="headerlink" title="2. print_arrayså‡½æ•°"></a>2. <code>print_arrays</code>å‡½æ•°</h2><ul>
<li>æ‰“å°äºŒç»´æ•°ç»„çš„æ¯ä¸ªå­æ•°ç»„å†…å®¹ã€é•¿åº¦å’Œå†…å­˜åœ°å€ï¼›</li>
<li>æ‰“å°æŒ‡é’ˆæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼ˆæŒ‡é’ˆå€¼ï¼‰ã€æŒ‡å‘å†…å®¹çš„é•¿åº¦ã€æŒ‡é’ˆè‡ªèº«åœ°å€å’ŒæŒ‡å‘çš„å†…å­˜åœ°å€ï¼›</li>
<li>æ‰“å°æŒ‡é’ˆæ•°ç»„æŒ‡å‘æ ˆæ•°ç»„çš„ç‰¹æ®Šæƒ…å†µï¼ˆéªŒè¯æ ˆå†…å­˜çš„å¯å†™æ€§ï¼‰ã€‚</li>
</ul>
<h2 id="3-modify-arrayså‡½æ•°"><a href="#3-modify-arrayså‡½æ•°" class="headerlink" title="3. modify_arrayså‡½æ•°"></a>3. <code>modify_arrays</code>å‡½æ•°</h2><ul>
<li><strong>äºŒç»´æ•°ç»„ä¿®æ”¹</strong>ï¼šé€šè¿‡<code>strcpy</code>è¦†ç›–<code>fruits1[0]</code>çš„å†…å®¹ï¼ˆåˆæ³•ï¼Œå› äºŒç»´æ•°ç»„å†…å­˜å¯å†™ï¼‰ï¼›é€šè¿‡ä¸‹æ ‡ä¿®æ”¹<code>fruits1[1][0]</code>çš„å­—ç¬¦ï¼ˆåˆæ³•ï¼Œå› å†…å­˜å¯å†™ï¼‰ã€‚</li>
<li><strong>æŒ‡é’ˆæ•°ç»„ä¿®æ”¹</strong>ï¼šç›´æ¥ä¿®æ”¹æŒ‡é’ˆæ•°ç»„å…ƒç´ çš„æŒ‡å‘ï¼ˆå¦‚<code>fruits2[0] = &quot;orange&quot;</code>ï¼‰ï¼Œä½†ä¸å¯ç›´æ¥ä¿®æ”¹æ•°ç»„åï¼ˆ<code>fruits2 = ...</code>æ˜¯é”™è¯¯çš„ï¼Œå› æ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼‰ã€‚</li>
<li><strong>å­—ç¬¦ä¸²å­—é¢é‡ä¿æŠ¤</strong>ï¼šå°è¯•ä¿®æ”¹<code>fruits2[1][0]</code>ä¼šè§¦å‘æœªå®šä¹‰è¡Œä¸ºï¼ˆå­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨åœ¨åªè¯»åŒºï¼‰ã€‚</li>
</ul>
<h2 id="4-validate-differenceså‡½æ•°"><a href="#4-validate-differenceså‡½æ•°" class="headerlink" title="4. validate_differenceså‡½æ•°"></a>4. <code>validate_differences</code>å‡½æ•°</h2><ul>
<li><strong>äºŒç»´æ•°ç»„å†…å­˜è¿ç»­æ€§</strong>ï¼šéªŒè¯äºŒç»´æ•°ç»„çš„æ‰€æœ‰å­—ç¬¦å­˜å‚¨åœ¨è¿ç»­å†…å­˜ä¸­ï¼ˆ<code>fruits1[1]</code>çš„åœ°å€ç­‰äº<code>fruits1[0]</code>çš„åœ°å€+10å­—èŠ‚ï¼‰ã€‚</li>
<li><strong>æŒ‡é’ˆæ•°ç»„å†…å­˜éè¿ç»­æ€§</strong>ï¼šéªŒè¯æŒ‡é’ˆæ•°ç»„å­˜å‚¨çš„æ˜¯æŒ‡é’ˆå˜é‡ï¼ˆåœ°å€è¿ç»­ï¼‰ï¼Œä½†æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜æ˜¯åˆ†æ•£çš„ï¼ˆå­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨åœ¨ä¸åŒä½ç½®ï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="ç¼–è¯‘ä¸è¿è¡Œç»“æœç¤ºä¾‹"><a href="#ç¼–è¯‘ä¸è¿è¡Œç»“æœç¤ºä¾‹" class="headerlink" title="ç¼–è¯‘ä¸è¿è¡Œç»“æœç¤ºä¾‹"></a>ç¼–è¯‘ä¸è¿è¡Œç»“æœç¤ºä¾‹</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">===== æ‰“å°äºŒç»´æ•°ç»„ fruits1 =====</span><br><span class="line">fruits1[0]: appleï¼ˆé•¿åº¦ï¼š5ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits1[1]: bananaï¼ˆé•¿åº¦ï¼š6ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits1[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line"></span><br><span class="line">===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits2 =====</span><br><span class="line">fruits2[0]: appleï¼ˆé•¿åº¦ï¼š5ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x55f5...ï¼‰</span><br><span class="line">fruits2[1]: bananaï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x55f5...ï¼‰</span><br><span class="line">fruits2[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x55f5...ï¼‰</span><br><span class="line"></span><br><span class="line">===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits3ï¼ˆæŒ‡å‘æ ˆæ•°ç»„ï¼‰ =====</span><br><span class="line">fruits3[0]: appleï¼ˆé•¿åº¦ï¼š5ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits3[1]: bananaï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits3[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line"></span><br><span class="line">===== ä¿®æ”¹åçš„æ•°ç»„çŠ¶æ€ =====</span><br><span class="line">===== æ‰“å°äºŒç»´æ•°ç»„ fruits1 =====</span><br><span class="line">fruits1[0]: orangeï¼ˆé•¿åº¦ï¼š6ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits1[1]: Bananaï¼ˆé•¿åº¦ï¼š6ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits1[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼Œå†…å­˜åœ°å€ï¼š0x7ffd...ï¼‰</span><br><span class="line"></span><br><span class="line">===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits2 =====</span><br><span class="line">fruits2[0]: orangeï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x55f5...ï¼‰</span><br><span class="line">fruits2[1]: Bananaï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits2[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x55f5...ï¼‰</span><br><span class="line"></span><br><span class="line">===== æ‰“å°æŒ‡é’ˆæ•°ç»„ fruits3ï¼ˆæŒ‡å‘æ ˆæ•°ç»„ï¼‰ =====</span><br><span class="line">fruits3[0]: appleï¼ˆé•¿åº¦ï¼š5ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits3[1]: bananaï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line">fruits3[2]: cherryï¼ˆé•¿åº¦ï¼š6ï¼ŒæŒ‡é’ˆåœ°å€ï¼š0x7ffd..., æŒ‡å‘å†…å­˜ï¼š0x7ffd...ï¼‰</span><br><span class="line"></span><br><span class="line">===== éªŒè¯äºŒç»´æ•°ç»„å†…å­˜è¿ç»­æ€§ =====</span><br><span class="line">fruits1[0]åœ°å€ï¼š0x7ffd..., fruits1[0][0]åœ°å€ï¼š0x7ffd...ï¼ˆåç§»0ï¼‰</span><br><span class="line">fruits1[0]åœ°å€ï¼š0x7ffd..., fruits1[0][9]åœ°å€ï¼š0x7ffd...ï¼ˆåç§»9ï¼‰</span><br><span class="line">fruits1[1]åœ°å€ï¼š0x7ffd...ï¼ˆåç§»10ï¼Œä¸fruits1[0][9]+1ä¸€è‡´ï¼‰</span><br><span class="line"></span><br><span class="line">===== éªŒè¯æŒ‡é’ˆæ•°ç»„å†…å­˜éè¿ç»­æ€§ =====</span><br><span class="line">fruits2[0]æŒ‡é’ˆå€¼ï¼š0x55f5...ï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰</span><br><span class="line">fruits2[1]æŒ‡é’ˆå€¼ï¼š0x55f5...ï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰</span><br><span class="line">fruits2[2]æŒ‡é’ˆå€¼ï¼š0x55f5...ï¼ˆæŒ‡å‘å­—ç¬¦ä¸²å­—é¢é‡ï¼‰</span><br><span class="line">fruits2æ•°ç»„æœ¬èº«çš„åœ°å€ï¼š0x7ffd..., ä¸æŒ‡é’ˆå€¼æ— å…³</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ ¸å¿ƒç»“è®ºæ€»ç»“"><a href="#æ ¸å¿ƒç»“è®ºæ€»ç»“" class="headerlink" title="æ ¸å¿ƒç»“è®ºæ€»ç»“"></a>æ ¸å¿ƒç»“è®ºæ€»ç»“</h1><table>
<thead>
<tr>
<th><strong>ç‰¹æ€§</strong></th>
<th><strong>äºŒç»´æ•°ç»„ï¼ˆ<code>fruits1</code>ï¼‰</strong></th>
<th><strong>æŒ‡é’ˆæ•°ç»„ï¼ˆ<code>fruits2</code>ï¼‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>ç±»å‹</strong></td>
<td><code>char [3][10]</code>ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰</td>
<td><code>char *[3]</code>ï¼ˆæ•°ç»„çš„æŒ‡é’ˆï¼‰</td>
</tr>
<tr>
<td><strong>å†…å­˜å¸ƒå±€</strong></td>
<td>è¿ç»­å­˜å‚¨ï¼ˆæ‰€æœ‰å­—ç¬¦åœ¨ä¸€ä¸ªè¿ç»­å†…å­˜å—ä¸­ï¼‰</td>
<td>éè¿ç»­å­˜å‚¨ï¼ˆæ•°ç»„å­˜å‚¨æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘åˆ†æ•£çš„å†…å­˜ï¼‰</td>
</tr>
<tr>
<td><strong>ä¿®æ”¹æ•°ç»„å</strong></td>
<td>ä¸å…è®¸ï¼ˆæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼‰</td>
<td>å…è®¸ä¿®æ”¹å…ƒç´ æŒ‡å‘ï¼ˆæ•°ç»„åæ˜¯å¸¸é‡æŒ‡é’ˆï¼Œä½†å…ƒç´ æ˜¯æŒ‡é’ˆå˜é‡ï¼‰</td>
</tr>
<tr>
<td><strong>ä¿®æ”¹å…ƒç´ å†…å®¹</strong></td>
<td>å…è®¸ï¼ˆé€šè¿‡ä¸‹æ ‡ä¿®æ”¹å­—ç¬¦ï¼Œéœ€å†…å­˜å¯å†™ï¼‰</td>
<td>å…è®¸ï¼ˆé€šè¿‡æŒ‡é’ˆä¿®æ”¹æŒ‡å‘çš„å†…å®¹æˆ–é‡æ–°æŒ‡å‘ï¼‰</td>
</tr>
<tr>
<td><strong>å­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨</strong></td>
<td>å­˜å‚¨åœ¨æ•°ç»„å†…å­˜ä¸­ï¼ˆå¯å†™ï¼‰</td>
<td>å­˜å‚¨åœ¨åªè¯»åŒºï¼ˆä¸å¯ç›´æ¥ä¿®æ”¹å†…å®¹ï¼‰</td>
</tr>
</tbody></table>
<p>é€šè¿‡è¿è¡Œå’Œåˆ†ææ­¤ä»£ç ï¼Œå¯ç›´è§‚ç†è§£<code>*p[]</code>ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰ä¸<code>(*p)[]</code>ï¼ˆäºŒç»´æ•°ç»„ï¼‰çš„æœ¬è´¨å·®å¼‚ï¼Œä»¥åŠå®ƒä»¬åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚åŠ¨æ€æ‰©å±•ç”¨æŒ‡é’ˆæ•°ç»„ï¼Œå›ºå®šæ•°æ®ç”¨äºŒç»´æ•°ç»„ï¼‰ã€‚</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°ç»„</tag>
        <tag>æŒ‡é’ˆ</tag>
        <tag>å†…å­˜å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å•é“¾è¡¨æ“ä½œè¯¦è§£ï¼ˆå«äºŒçº§æŒ‡é’ˆæ·±åº¦è§£æï¼‰</title>
    <url>/posts/379ff51b/</url>
    <content><![CDATA[<img src="/img/PageCode/11.png" alt="äºŒçº§æŒ‡é’ˆçš„ä½¿ç”¨" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h1><p>æœ¬æ–‡æ¡£è¯¦ç»†è§£æä¸€æ®µCè¯­è¨€å•é“¾è¡¨æ“ä½œçš„ä»£ç ï¼Œæ¶µç›–<strong>å¤´æ’æ³•æ’å…¥èŠ‚ç‚¹</strong>ã€<strong>å°¾æ’æ³•æ’å…¥èŠ‚ç‚¹</strong>ã€<strong>ä¿®æ”¹å¤´èŠ‚ç‚¹å€¼</strong>å’Œ<strong>æ‰“å°é“¾è¡¨</strong>å››å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚é‡ç‚¹è®²è§£äºŒçº§æŒ‡é’ˆåœ¨é“¾è¡¨æ“ä½œä¸­çš„ä½œç”¨ï¼Œå¸®åŠ©ç†è§£åŠ¨æ€å†…å­˜ç®¡ç†ä¸æŒ‡é’ˆæ“ä½œçš„æ ¸å¿ƒé€»è¾‘ã€‚</p>
<hr>
<h1 id="äºŒã€å‰ç½®çŸ¥è¯†ï¼šäºŒçº§æŒ‡é’ˆçš„æœ¬è´¨"><a href="#äºŒã€å‰ç½®çŸ¥è¯†ï¼šäºŒçº§æŒ‡é’ˆçš„æœ¬è´¨" class="headerlink" title="äºŒã€å‰ç½®çŸ¥è¯†ï¼šäºŒçº§æŒ‡é’ˆçš„æœ¬è´¨"></a>äºŒã€å‰ç½®çŸ¥è¯†ï¼šäºŒçº§æŒ‡é’ˆçš„æœ¬è´¨</h1><h2 id="2-1-ä»€ä¹ˆæ˜¯äºŒçº§æŒ‡é’ˆï¼Ÿ"><a href="#2-1-ä»€ä¹ˆæ˜¯äºŒçº§æŒ‡é’ˆï¼Ÿ" class="headerlink" title="2.1 ä»€ä¹ˆæ˜¯äºŒçº§æŒ‡é’ˆï¼Ÿ"></a>2.1 ä»€ä¹ˆæ˜¯äºŒçº§æŒ‡é’ˆï¼Ÿ</h2><ul>
<li><strong>ä¸€çº§æŒ‡é’ˆ</strong>ï¼ˆ<code>Node *head</code>ï¼‰ï¼šå­˜å‚¨æŸä¸ªèŠ‚ç‚¹çš„å†…å­˜åœ°å€ï¼ˆæŒ‡å‘èŠ‚ç‚¹ï¼‰ã€‚</li>
<li><strong>äºŒçº§æŒ‡é’ˆ</strong>ï¼ˆ<code>Node **head</code>ï¼‰ï¼šå­˜å‚¨ä¸€çº§æŒ‡é’ˆçš„å†…å­˜åœ°å€ï¼ˆæŒ‡å‘â€œæŒ‡å‘èŠ‚ç‚¹çš„æŒ‡é’ˆâ€ï¼‰ã€‚</li>
</ul>
<h2 id="2-2-ä¸ºä»€ä¹ˆé“¾è¡¨æ“ä½œéœ€è¦äºŒçº§æŒ‡é’ˆï¼Ÿ"><a href="#2-2-ä¸ºä»€ä¹ˆé“¾è¡¨æ“ä½œéœ€è¦äºŒçº§æŒ‡é’ˆï¼Ÿ" class="headerlink" title="2.2 ä¸ºä»€ä¹ˆé“¾è¡¨æ“ä½œéœ€è¦äºŒçº§æŒ‡é’ˆï¼Ÿ"></a>2.2 ä¸ºä»€ä¹ˆé“¾è¡¨æ“ä½œéœ€è¦äºŒçº§æŒ‡é’ˆï¼Ÿ</h2><p>åœ¨Cè¯­è¨€ä¸­ï¼Œå‡½æ•°å‚æ•°ä¼ é€’æ˜¯<strong>å€¼ä¼ é€’</strong>ã€‚è‹¥é“¾è¡¨å¤´æŒ‡é’ˆï¼ˆ<code>head</code>ï¼‰é€šè¿‡ä¸€çº§æŒ‡é’ˆä¼ é€’ï¼Œå‡½æ•°å†…éƒ¨å¯¹<code>head</code>çš„ä¿®æ”¹ï¼ˆå¦‚è®©å®ƒæŒ‡å‘æ–°èŠ‚ç‚¹ï¼‰åªä¼šå½±å“å‡½æ•°çš„å±€éƒ¨å‰¯æœ¬ï¼Œå¤–éƒ¨å¤´æŒ‡é’ˆä¸ä¼šæ”¹å˜ã€‚</p>
<p><strong>ç¤ºä¾‹å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>é”™è¯¯å†™æ³•ï¼ˆä¸€çº§æŒ‡é’ˆï¼‰</strong>ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void insert_head(Node *head, ElementType new_val) &#123; </span><br><span class="line">    Node *new_node = calloc(1, sizeof(Node));</span><br><span class="line">    new_node-&gt;next = head;</span><br><span class="line">    head = new_node;  // ä»…ä¿®æ”¹å‡½æ•°å†…çš„å±€éƒ¨æŒ‡é’ˆï¼Œå¤–éƒ¨headä¸å—å½±å“ï¼</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è°ƒç”¨åå¤–éƒ¨<code>head</code>ä»ä¸º<code>NULL</code>ï¼Œæ— æ³•å®ç°å¤´æ’ã€‚</p>
<ul>
<li><strong>æ­£ç¡®å†™æ³•ï¼ˆäºŒçº§æŒ‡é’ˆï¼‰</strong>ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void insert_head(Node **head, ElementType new_val) &#123; </span><br><span class="line">    Node *new_node = calloc(1, sizeof(Node));</span><br><span class="line">    new_node-&gt;next = *head;  // *head æ˜¯å¤–éƒ¨headçš„å½“å‰å€¼ï¼ˆåŸå¤´èŠ‚ç‚¹åœ°å€ï¼‰</span><br><span class="line">    *head = new_node;        // ä¿®æ”¹å¤–éƒ¨headçš„æŒ‡å‘ï¼ˆè®©å®ƒæŒ‡å‘æ–°èŠ‚ç‚¹ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  è°ƒç”¨åå¤–éƒ¨<code>head</code>ä¼šæ­£ç¡®æŒ‡å‘æ–°èŠ‚ç‚¹ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼šäºŒçº§æŒ‡é’ˆæ˜¯é“¾è¡¨æ“ä½œçš„â€œé’¥åŒ™â€ï¼Œç”¨äºåœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å¤–éƒ¨å¤´æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p>
<hr>
<h1 id="ä¸‰ã€å®Œæ•´ä»£ç è§£æ"><a href="#ä¸‰ã€å®Œæ•´ä»£ç è§£æ" class="headerlink" title="ä¸‰ã€å®Œæ•´ä»£ç è§£æ"></a>ä¸‰ã€å®Œæ•´ä»£ç è§£æ</h1><h2 id="3-1-ä»£ç ç»“æ„æ¦‚è§ˆ"><a href="#3-1-ä»£ç ç»“æ„æ¦‚è§ˆ" class="headerlink" title="3.1 ä»£ç ç»“æ„æ¦‚è§ˆ"></a>3.1 ä»£ç ç»“æ„æ¦‚è§ˆ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS  // ç¦ç”¨ç¼–è¯‘å™¨å®‰å…¨è­¦å‘Š</span><br><span class="line">#include &lt;stdio.h&gt;               // è¾“å…¥è¾“å‡ºå‡½æ•°</span><br><span class="line">#include &lt;stdlib.h&gt;              // å†…å­˜åˆ†é…å‡½æ•°</span><br><span class="line">#include &lt;string.h&gt;              // å­—ç¬¦ä¸²å‡½æ•°ï¼ˆæœªç›´æ¥ä½¿ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">typedef int ElementType;         // å®šä¹‰é“¾è¡¨æ•°æ®ç±»å‹ä¸ºintï¼ˆå¯æ›¿æ¢ï¼‰</span><br><span class="line">typedef struct node &#123;            // é“¾è¡¨èŠ‚ç‚¹ç»“æ„ä½“</span><br><span class="line">    ElementType data;            // æ•°æ®åŸŸï¼šå­˜å‚¨èŠ‚ç‚¹å€¼</span><br><span class="line">    struct node *next;           // æŒ‡é’ˆåŸŸï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line">// å¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹</span><br><span class="line">void insert_head_null(Node **head, ElementType new_val);</span><br><span class="line">// ä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–ï¼‰</span><br><span class="line">void modify_first_node(Node **head, ElementType new_val);</span><br><span class="line">// å°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹</span><br><span class="line">void insert_tail(Node **head, ElementType new_val);</span><br><span class="line">// æ‰“å°é“¾è¡¨å†…å®¹</span><br><span class="line">void print_list(Node *head);</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    Node *head = NULL;  // åˆå§‹åŒ–ç©ºé“¾è¡¨</span><br><span class="line">    // æµ‹è¯•å„åŠŸèƒ½...</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="3-2-æ ¸å¿ƒå‡½æ•°é€è¡Œè§£æ"><a href="#3-2-æ ¸å¿ƒå‡½æ•°é€è¡Œè§£æ" class="headerlink" title="3.2 æ ¸å¿ƒå‡½æ•°é€è¡Œè§£æ"></a>3.2 æ ¸å¿ƒå‡½æ•°é€è¡Œè§£æ</h2><h3 id="3-2-1-insert-head-nullï¼šå¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹"><a href="#3-2-1-insert-head-nullï¼šå¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹" class="headerlink" title="3.2.1 insert_head_nullï¼šå¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹"></a>3.2.1 <code>insert_head_null</code>ï¼šå¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void insert_head_null(Node **head, ElementType new_val) &#123;</span><br><span class="line">    Node *new_node = calloc(1, sizeof(Node));  // åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ä¸º0</span><br><span class="line">    if (new_node == NULL) &#123;                    // æ£€æŸ¥å†…å­˜åˆ†é…æ˜¯å¦æˆåŠŸ</span><br><span class="line">        printf(&quot;calloc failed in insert_head_null\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;data = new_val;                  // è®¾ç½®æ–°èŠ‚ç‚¹çš„æ•°æ®</span><br><span class="line">    new_node-&gt;next = *head;                    // æ–°èŠ‚ç‚¹çš„nextæŒ‡å‘åŸå¤´èŠ‚ç‚¹ï¼ˆ*headæ˜¯å¤–éƒ¨headçš„å½“å‰å€¼ï¼‰</span><br><span class="line">    *head = new_node;                          // ä¿®æ”¹å¤–éƒ¨headçš„æŒ‡å‘ï¼ˆè®©å®ƒæŒ‡å‘æ–°èŠ‚ç‚¹ï¼Œå®Œæˆå¤´æ’ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠŸèƒ½</strong>ï¼šåœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚<br> â€‹<strong>â€‹å®ç°é€»è¾‘â€‹</strong>â€‹ï¼š</p>
<ol>
<li>ç”¨<code>calloc</code>åˆ†é…æ–°èŠ‚ç‚¹å†…å­˜ï¼ˆ<code>calloc</code>ä¼šåˆå§‹åŒ–å†…å­˜ä¸º0ï¼Œé¿å…è„æ•°æ®ï¼‰ã€‚</li>
<li>æ–°èŠ‚ç‚¹çš„<code>next</code>æŒ‡å‘å½“å‰å¤´èŠ‚ç‚¹ï¼ˆ<code>*head</code>ï¼Œå³å¤–éƒ¨å¤´æŒ‡é’ˆæŒ‡å‘çš„åŸå¤´èŠ‚ç‚¹ï¼‰ã€‚</li>
<li>é€šè¿‡<code>*head = new_node</code>ä¿®æ”¹å¤–éƒ¨å¤´æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä½¿å…¶æŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆå¤´æ’çš„æ ¸å¿ƒæ“ä½œï¼‰ã€‚<br> â€‹<strong>â€‹æ—¶é—´å¤æ‚åº¦â€‹</strong>â€‹ï¼šO(1)ï¼ˆä»…éœ€å¸¸æ•°æ—¶é—´å®Œæˆæ“ä½œï¼‰ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>åˆå§‹é“¾è¡¨ï¼š<code>head -&gt; NULL</code>ï¼ˆå¤–éƒ¨<code>head</code>ä¸º<code>NULL</code>ï¼‰ã€‚</li>
<li>è°ƒç”¨<code>insert_head_null(&amp;head, 7)</code>åï¼š<br> <code>new_node</code>çš„<code>next</code>æŒ‡å‘<code>*head</code>ï¼ˆå³<code>NULL</code>ï¼‰ï¼Œç„¶å<code>*head</code>æŒ‡å‘<code>new_node</code> â†’ é“¾è¡¨å˜ä¸º<code>7 -&gt; NULL</code>ã€‚</li>
</ul>
<hr>
<h3 id="3-2-2-modify-first-nodeï¼šä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰"><a href="#3-2-2-modify-first-nodeï¼šä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰" class="headerlink" title="3.2.2 modify_first_nodeï¼šä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰"></a>3.2.2 <code>modify_first_node</code>ï¼šä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void modify_first_node(Node **head, ElementType new_val) &#123;</span><br><span class="line">    if (*head == NULL) &#123;  // é“¾è¡¨ä¸ºç©ºæ—¶ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line">        Node *new_node = (Node *)calloc(1, sizeof(Node));  // åˆ›å»ºæ–°èŠ‚ç‚¹</span><br><span class="line">        if (new_node == NULL) &#123;</span><br><span class="line">            printf(&quot;calloc failed in modify_first_node\n&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        new_node-&gt;data = new_val;  // æ–°èŠ‚ç‚¹æ•°æ®è®¾ä¸ºnew_val</span><br><span class="line">        *head = new_node;          // å¤´æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆåˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    (*head)-&gt;data = new_val;  // é“¾è¡¨éç©ºæ—¶ï¼Œç›´æ¥ä¿®æ”¹å¤´èŠ‚ç‚¹æ•°æ®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>è‹¥é“¾è¡¨ä¸ºç©ºï¼ˆå¤´æŒ‡é’ˆä¸º<code>NULL</code>ï¼‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œå¹¶è®¾ç½®å…¶å€¼ã€‚</li>
<li>è‹¥é“¾è¡¨éç©ºï¼Œç›´æ¥ä¿®æ”¹å¤´èŠ‚ç‚¹çš„æ•°æ®å€¼ã€‚</li>
</ul>
<p><strong>å…³é”®åœºæ™¯</strong>ï¼šå¤„ç†é“¾è¡¨åˆå§‹åŒ–æˆ–å¼ºåˆ¶è¦†ç›–å¤´èŠ‚ç‚¹å€¼çš„åœºæ™¯ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>åˆå§‹é“¾è¡¨ä¸ºç©ºï¼ˆ<code>head=NULL</code>ï¼‰ï¼Œè°ƒç”¨<code>modify_first_node(&amp;head, 8)</code>åï¼š<br> åˆ›å»ºæ–°èŠ‚ç‚¹<code>new_node</code>ï¼Œ<code>*head</code>æŒ‡å‘<code>new_node</code> â†’ é“¾è¡¨å˜ä¸º<code>8 -&gt; NULL</code>ã€‚</li>
<li>è‹¥é“¾è¡¨å·²æœ‰å¤´èŠ‚ç‚¹<code>8 -&gt; NULL</code>ï¼Œè°ƒç”¨åå¤´èŠ‚ç‚¹å€¼å˜ä¸º<code>new_val</code>ï¼ˆå¦‚<code>888</code>ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="3-2-3-insert-tailï¼šå°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰"><a href="#3-2-3-insert-tailï¼šå°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰" class="headerlink" title="3.2.3 insert_tailï¼šå°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰"></a>3.2.3 <code>insert_tail</code>ï¼šå°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void insert_tail(Node **head, ElementType new_val) &#123;</span><br><span class="line">    Node *new_node = (Node *)calloc(1, sizeof(Node));  // åˆ†é…å†…å­˜</span><br><span class="line">    if (new_node == NULL) &#123;</span><br><span class="line">        printf(&quot;calloc failed in insert_tail\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;data = new_val;       // è®¾ç½®æ–°èŠ‚ç‚¹æ•°æ®</span><br><span class="line">    new_node-&gt;next = NULL;          // å°¾èŠ‚ç‚¹çš„nextå¿…é¡»ä¸ºNULLï¼ˆå…³é”®ï¼ï¼‰</span><br><span class="line"></span><br><span class="line">    if (*head == NULL) &#123;            // é“¾è¡¨ä¸ºç©ºæ—¶ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line">        *head = new_node;           // å¤´æŒ‡é’ˆç›´æ¥æŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆå”¯ä¸€èŠ‚ç‚¹ï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // é“¾è¡¨éç©ºæ—¶ï¼Œéå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    Node *p = *head;                // pæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œåˆå§‹ä¸ºå¤´èŠ‚ç‚¹</span><br><span class="line">    while (p-&gt;next != NULL) &#123;       // å¾ªç¯ç›´åˆ°pçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯NULLï¼ˆå³æ‰¾åˆ°å°¾èŠ‚ç‚¹ï¼‰</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = new_node;             // å°¾èŠ‚ç‚¹çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆå®Œæˆå°¾æ’ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠŸèƒ½</strong>ï¼šåœ¨é“¾è¡¨å°¾éƒ¨æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚<br> â€‹<strong>â€‹å®ç°é€»è¾‘â€‹</strong>â€‹ï¼š</p>
<ol>
<li>æ–°èŠ‚ç‚¹çš„<code>next</code>å¿…é¡»è®¾ä¸º<code>NULL</code>ï¼ˆå°¾èŠ‚ç‚¹çš„ç‰¹å¾ï¼Œé¿å…æŒ‡å‘éšæœºå†…å­˜ï¼‰ã€‚</li>
<li>è‹¥é“¾è¡¨ä¸ºç©ºï¼Œå¤´æŒ‡é’ˆç›´æ¥æŒ‡å‘æ–°èŠ‚ç‚¹ï¼›å¦åˆ™éå†åˆ°é“¾è¡¨æœ«å°¾ï¼ˆ<code>p-&gt;next == NULL</code>ï¼‰ï¼Œå°†æœ«å°¾èŠ‚ç‚¹çš„<code>next</code>æŒ‡å‘æ–°èŠ‚ç‚¹ã€‚<br> â€‹<strong>â€‹æ—¶é—´å¤æ‚åº¦â€‹</strong>â€‹ï¼šO(n)ï¼ˆæœ€åæƒ…å†µä¸‹éœ€éå†æ•´ä¸ªé“¾è¡¨ï¼‰ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>åŸé“¾è¡¨ä¸º<code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; NULL</code>ï¼Œæ’å…¥<code>6</code>åï¼š<br> éå†åˆ°å°¾èŠ‚ç‚¹<code>8</code>ï¼ˆ<code>p-&gt;next == NULL</code>ï¼‰ï¼Œå°†<code>p-&gt;next</code>è®¾ä¸º<code>new_node</code> â†’ é“¾è¡¨å˜ä¸º<code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</code>ã€‚</li>
</ul>
<hr>
<h3 id="3-2-4-print-listï¼šæ‰“å°é“¾è¡¨å†…å®¹"><a href="#3-2-4-print-listï¼šæ‰“å°é“¾è¡¨å†…å®¹" class="headerlink" title="3.2.4 print_listï¼šæ‰“å°é“¾è¡¨å†…å®¹"></a>3.2.4 <code>print_list</code>ï¼šæ‰“å°é“¾è¡¨å†…å®¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void print_list(Node *head) &#123;</span><br><span class="line">    if (head == NULL) &#123;  // å¤„ç†ç©ºé“¾è¡¨</span><br><span class="line">        printf(&quot;é“¾è¡¨ä¸ºç©º\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *p = head;      // pä¸ºéå†æŒ‡é’ˆï¼Œåˆå§‹æŒ‡å‘å¤´èŠ‚ç‚¹</span><br><span class="line">    while (p != NULL) &#123;  // å¾ªç¯ç›´åˆ°pä¸ºNULLï¼ˆéå†å®Œæ‰€æœ‰èŠ‚ç‚¹ï¼‰</span><br><span class="line">        printf(&quot;%d -&gt; &quot;, p-&gt;data);  // æ‰“å°å½“å‰èŠ‚ç‚¹æ•°æ®</span><br><span class="line">        p = p-&gt;next;    // pç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;NULL\n&quot;);     // æ‰“å°é“¾è¡¨ç»“æŸæ ‡å¿—</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠŸèƒ½</strong>ï¼šæŒ‰é¡ºåºæ‰“å°é“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ï¼Œæœ«å°¾æ˜¾ç¤º<code>NULL</code>è¡¨ç¤ºé“¾è¡¨ç»“æŸã€‚<br> â€‹<strong>â€‹å…³é”®ç»†èŠ‚â€‹</strong>â€‹ï¼š</p>
<ul>
<li>è‹¥é“¾è¡¨ä¸ºç©ºï¼ˆ<code>head == NULL</code>ï¼‰ï¼Œæ‰“å°æç¤ºä¿¡æ¯ã€‚</li>
<li>éå†æŒ‡é’ˆ<code>p</code>ä»<code>head</code>å¼€å§‹ï¼Œé€ä¸ªè®¿é—®<code>next</code>ï¼Œç›´åˆ°<code>p</code>ä¸º<code>NULL</code>ï¼ˆé“¾è¡¨æœ«å°¾ï¼‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š<br> è‹¥é“¾è¡¨ä¸º<code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</code>ï¼Œæ‰“å°ç»“æœä¸ºï¼š<br> <code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</code></p>
<hr>
<h2 id="å››ã€mainå‡½æ•°æµ‹è¯•é€»è¾‘è¯¦è§£"><a href="#å››ã€mainå‡½æ•°æµ‹è¯•é€»è¾‘è¯¦è§£" class="headerlink" title="å››ã€mainå‡½æ•°æµ‹è¯•é€»è¾‘è¯¦è§£"></a>å››ã€<code>main</code>å‡½æ•°æµ‹è¯•é€»è¾‘è¯¦è§£</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    Node *head = NULL;  // åˆå§‹åŒ–ç©ºé“¾è¡¨ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å¤´æ’æ³•+ä¿®æ”¹å¤´èŠ‚ç‚¹</span><br><span class="line">    insert_head_null(&amp;head, 7);    // æ’å…¥7 â†’ é“¾è¡¨ï¼š7 -&gt; NULLï¼ˆ*headæŒ‡å‘æ–°èŠ‚ç‚¹7ï¼‰</span><br><span class="line">    modify_first_node(&amp;head, 8);   // ä¿®æ”¹å¤´èŠ‚ç‚¹ä¸º8 â†’ é“¾è¡¨ï¼š8 -&gt; NULLï¼ˆ*headæŒ‡å‘æ–°èŠ‚ç‚¹8ï¼‰</span><br><span class="line">    insert_head_null(&amp;head, 7);    // å¤´æ’7 â†’ é“¾è¡¨ï¼š7 -&gt; 8 -&gt; NULLï¼ˆæ–°èŠ‚ç‚¹7çš„nextæŒ‡å‘åŸå¤´èŠ‚ç‚¹8ï¼‰</span><br><span class="line">    insert_head_null(&amp;head, 77);   // å¤´æ’77 â†’ é“¾è¡¨ï¼š77 -&gt; 7 -&gt; 8 -&gt; NULLï¼ˆæ–°èŠ‚ç‚¹77çš„nextæŒ‡å‘åŸå¤´èŠ‚ç‚¹7ï¼‰</span><br><span class="line">    modify_first_node(&amp;head, 888); // ä¿®æ”¹å¤´èŠ‚ç‚¹ä¸º888 â†’ é“¾è¡¨ï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; NULLï¼ˆ*headæŒ‡å‘æ–°èŠ‚ç‚¹888ï¼‰</span><br><span class="line">    </span><br><span class="line">    // æµ‹è¯•å°¾æ’æ³•</span><br><span class="line">    insert_tail(&amp;head, 6);         // å°¾æ’6 â†’ é“¾è¡¨ï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULLï¼ˆæ‰¾åˆ°å°¾èŠ‚ç‚¹8ï¼Œå…¶nextæŒ‡å‘6ï¼‰</span><br><span class="line">    </span><br><span class="line">    // æ‰“å°æœ€ç»ˆé“¾è¡¨</span><br><span class="line">    print_list(head);              // è¾“å‡ºï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ç©ºé“¾è¡¨ï¼ˆ<code>head=NULL</code>ï¼‰ã€‚</li>
<li><code>insert_head_null(&amp;head, 7)</code>ï¼šåˆ›å»ºèŠ‚ç‚¹7ï¼Œ<code>new_node-&gt;next = *head</code>ï¼ˆå³<code>NULL</code>ï¼‰ï¼Œ<code>*head = new_node</code> â†’ é“¾è¡¨ï¼š<code>7 -&gt; NULL</code>ã€‚</li>
<li><code>modify_first_node(&amp;head, 8)</code>ï¼šé“¾è¡¨éç©ºï¼Œç›´æ¥ä¿®æ”¹å¤´èŠ‚ç‚¹æ•°æ®ä¸º8 â†’ é“¾è¡¨ï¼š<code>8 -&gt; NULL</code>ã€‚</li>
<li><code>insert_head_null(&amp;head, 7)</code>ï¼šåˆ›å»ºèŠ‚ç‚¹7ï¼Œ<code>new_node-&gt;next = *head</code>ï¼ˆå³<code>8</code>çš„åœ°å€ï¼‰ï¼Œ<code>*head = new_node</code> â†’ é“¾è¡¨ï¼š<code>7 -&gt; 8 -&gt; NULL</code>ã€‚</li>
<li><code>insert_head_null(&amp;head, 77)</code>ï¼šåˆ›å»ºèŠ‚ç‚¹77ï¼Œ<code>new_node-&gt;next = *head</code>ï¼ˆå³<code>7</code>çš„åœ°å€ï¼‰ï¼Œ<code>*head = new_node</code> â†’ é“¾è¡¨ï¼š<code>77 -&gt; 7 -&gt; 8 -&gt; NULL</code>ã€‚</li>
<li><code>modify_first_node(&amp;head, 888)</code>ï¼šé“¾è¡¨éç©ºï¼Œç›´æ¥ä¿®æ”¹å¤´èŠ‚ç‚¹æ•°æ®ä¸º888 â†’ é“¾è¡¨ï¼š<code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; NULL</code>ã€‚</li>
<li><code>insert_tail(&amp;head, 6)</code>ï¼šåˆ›å»ºèŠ‚ç‚¹6ï¼Œ<code>new_node-&gt;next = NULL</code>ï¼›éå†åˆ°å°¾èŠ‚ç‚¹8ï¼ˆ<code>p-&gt;next == NULL</code>ï¼‰ï¼Œ<code>p-&gt;next = new_node</code> â†’ é“¾è¡¨ï¼š<code>888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</code>ã€‚</li>
<li><code>print_list(head)</code>ï¼šéå†æ‰“å°æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¾“å‡ºæœ€ç»ˆç»“æœã€‚</li>
</ol>
<hr>
<h1 id="äº”ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹"><a href="#äº”ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹" class="headerlink" title="äº”ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹"></a>äº”ã€æ ¸å¿ƒæ³¨æ„äº‹é¡¹</h1><h2 id="5-1-äºŒçº§æŒ‡é’ˆçš„æœ¬è´¨ï¼šä¿®æ”¹å¤–éƒ¨æŒ‡é’ˆçš„æŒ‡å‘"><a href="#5-1-äºŒçº§æŒ‡é’ˆçš„æœ¬è´¨ï¼šä¿®æ”¹å¤–éƒ¨æŒ‡é’ˆçš„æŒ‡å‘" class="headerlink" title="5.1 äºŒçº§æŒ‡é’ˆçš„æœ¬è´¨ï¼šä¿®æ”¹å¤–éƒ¨æŒ‡é’ˆçš„æŒ‡å‘"></a>5.1 äºŒçº§æŒ‡é’ˆçš„æœ¬è´¨ï¼šä¿®æ”¹å¤–éƒ¨æŒ‡é’ˆçš„æŒ‡å‘</h2><ul>
<li>å¤´æŒ‡é’ˆï¼ˆ<code>head</code>ï¼‰æ˜¯å¤–éƒ¨å˜é‡ï¼Œå‡½æ•°å‚æ•°ç”¨äºŒçº§æŒ‡é’ˆï¼ˆ<code>Node **head</code>ï¼‰æ˜¯ä¸ºäº†é€šè¿‡<code>*head</code>ç›´æ¥ä¿®æ”¹å®ƒçš„æŒ‡å‘ã€‚</li>
<li>è‹¥ä¸ç”¨äºŒçº§æŒ‡é’ˆï¼Œå‡½æ•°å†…éƒ¨åªèƒ½ä¿®æ”¹æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œå¤–éƒ¨å¤´æŒ‡é’ˆä¸ä¼šæ”¹å˜ï¼ˆå¦‚ä¸€çº§æŒ‡é’ˆçš„é”™è¯¯å†™æ³•ï¼‰ã€‚</li>
</ul>
<h2 id="5-2-å†…å­˜åˆ†é…çš„å®‰å…¨æ€§"><a href="#5-2-å†…å­˜åˆ†é…çš„å®‰å…¨æ€§" class="headerlink" title="5.2 å†…å­˜åˆ†é…çš„å®‰å…¨æ€§"></a>5.2 å†…å­˜åˆ†é…çš„å®‰å…¨æ€§</h2><ul>
<li>æ‰€æœ‰<code>calloc</code>è°ƒç”¨åå¿…é¡»æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º<code>NULL</code>ï¼ˆå†…å­˜ä¸è¶³æ—¶ä¼šè¿”å›<code>NULL</code>ï¼‰ï¼Œå¦åˆ™è®¿é—®<code>new_node-&gt;data</code>ä¼šå¯¼è‡´å´©æºƒã€‚</li>
</ul>
<h2 id="5-3-å°¾èŠ‚ç‚¹çš„nextå¿…é¡»ä¸ºNULL"><a href="#5-3-å°¾èŠ‚ç‚¹çš„nextå¿…é¡»ä¸ºNULL" class="headerlink" title="5.3 å°¾èŠ‚ç‚¹çš„nextå¿…é¡»ä¸ºNULL"></a>5.3 å°¾èŠ‚ç‚¹çš„<code>next</code>å¿…é¡»ä¸º<code>NULL</code></h2><ul>
<li>å°¾æ’æ³•ä¸­ï¼Œæ–°èŠ‚ç‚¹çš„<code>next</code>å¿…é¡»æ˜¾å¼è®¾ä¸º<code>NULL</code>ï¼Œå¦åˆ™å¯èƒ½ä¿ç•™åŸå†…å­˜ä¸­çš„éšæœºå€¼ï¼ˆå¯¼è‡´é“¾è¡¨æ–­è£‚æˆ–è®¿é—®éæ³•å†…å­˜ï¼‰ã€‚</li>
</ul>
<h2 id="5-4-ç©ºé“¾è¡¨çš„è¾¹ç•Œæ¡ä»¶"><a href="#5-4-ç©ºé“¾è¡¨çš„è¾¹ç•Œæ¡ä»¶" class="headerlink" title="5.4 ç©ºé“¾è¡¨çš„è¾¹ç•Œæ¡ä»¶"></a>5.4 ç©ºé“¾è¡¨çš„è¾¹ç•Œæ¡ä»¶</h2><ul>
<li>æ‰€æœ‰æ“ä½œï¼ˆå¤´æ’ã€å°¾æ’ã€ä¿®æ”¹å¤´èŠ‚ç‚¹ï¼‰éƒ½éœ€è¦å…ˆæ£€æŸ¥é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼ˆ<code>head == NULL</code>ï¼‰ï¼Œé¿å…è®¿é—®ç©ºæŒ‡é’ˆï¼ˆå¦‚<code>*head-&gt;data</code>ä¼šå¯¼è‡´å´©æºƒï¼‰ã€‚</li>
</ul>
<hr>
<h1 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h1><p>æœ¬ä»£ç é€šè¿‡<strong>å¤´æ’æ³•</strong>ã€<strong>å°¾æ’æ³•</strong>å’Œ<strong>ä¿®æ”¹å¤´èŠ‚ç‚¹</strong>æ“ä½œï¼Œæ¼”ç¤ºäº†å•é“¾è¡¨çš„åŸºæœ¬åˆ›å»ºå’Œä¿®æ”¹è¿‡ç¨‹ï¼Œå¹¶é€šè¿‡<code>print_list</code>å‡½æ•°éªŒè¯ç»“æœã€‚æ ¸å¿ƒç›®æ ‡æ˜¯ç†è§£ï¼š</p>
<ul>
<li>é“¾è¡¨çš„åŠ¨æ€å†…å­˜ç®¡ç†ï¼ˆ<code>calloc</code>åˆ†é…èŠ‚ç‚¹ï¼‰ã€‚</li>
<li>äºŒçº§æŒ‡é’ˆçš„ä½œç”¨ï¼ˆä¿®æ”¹å¤–éƒ¨å¤´æŒ‡é’ˆçš„æŒ‡å‘ï¼‰ã€‚</li>
<li>è¾¹ç•Œæ¡ä»¶å¤„ç†ï¼ˆç©ºé“¾è¡¨ã€å°¾èŠ‚ç‚¹ï¼‰ã€‚</li>
</ul>
<h1 id="å®Œæ•´æºä»£ç ï¼š"><a href="#å®Œæ•´æºä»£ç ï¼š" class="headerlink" title="å®Œæ•´æºä»£ç ï¼š"></a>å®Œæ•´æºä»£ç ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS  // ç¦ç”¨ç¼–è¯‘å™¨å®‰å…¨è­¦å‘Šï¼ˆå¦‚scanfçš„ä¸å®‰å…¨æç¤ºï¼‰</span><br><span class="line">#include &lt;stdio.h&gt;               // è¾“å…¥è¾“å‡ºå‡½æ•°ï¼ˆå¦‚printfï¼‰</span><br><span class="line">#include &lt;stdlib.h&gt;              // å†…å­˜åˆ†é…å‡½æ•°ï¼ˆå¦‚callocï¼‰</span><br><span class="line"></span><br><span class="line">typedef int ElementType;         // å®šä¹‰é“¾è¡¨å­˜å‚¨çš„æ•°æ®ç±»å‹ä¸ºintï¼ˆå¯æ›¿æ¢ä¸ºå…¶ä»–ç±»å‹ï¼‰</span><br><span class="line"></span><br><span class="line">// é“¾è¡¨èŠ‚ç‚¹ç»“æ„ä½“å®šä¹‰</span><br><span class="line">typedef struct node &#123;</span><br><span class="line">    ElementType data;            // æ•°æ®åŸŸï¼šå­˜å‚¨èŠ‚ç‚¹å€¼</span><br><span class="line">    struct node *next;           // æŒ‡é’ˆåŸŸï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</span><br><span class="line">&#125; Node;                          // ç»“æ„ä½“åˆ«åï¼ˆç®€åŒ–åç»­ä»£ç ï¼‰</span><br><span class="line"></span><br><span class="line">// å¤´æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰</span><br><span class="line">void insert_head_null(Node **head, ElementType new_val) &#123;</span><br><span class="line">    Node *new_node = calloc(1, sizeof(Node));  // åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ä¸º0</span><br><span class="line">    if (new_node == NULL) &#123;                    // æ£€æŸ¥å†…å­˜åˆ†é…æ˜¯å¦æˆåŠŸ</span><br><span class="line">        printf(&quot;calloc failed in insert_head_null\n&quot;);</span><br><span class="line">            return;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;data = new_val;                  // è®¾ç½®æ–°èŠ‚ç‚¹çš„æ•°æ®</span><br><span class="line">    new_node-&gt;next = *head;                    // æ–°èŠ‚ç‚¹çš„nextæŒ‡å‘åŸå¤´èŠ‚ç‚¹ï¼ˆ*headæ˜¯å¤–éƒ¨headçš„å½“å‰å€¼ï¼‰</span><br><span class="line">    *head = new_node;                          // ä¿®æ”¹å¤–éƒ¨headçš„æŒ‡å‘ï¼ˆè®©å®ƒæŒ‡å‘æ–°èŠ‚ç‚¹ï¼Œå®Œæˆå¤´æ’ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¿®æ”¹å¤´èŠ‚ç‚¹å€¼ï¼ˆæˆ–åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰</span><br><span class="line">void modify_first_node(Node **head, ElementType new_val) &#123;</span><br><span class="line">    if (*head == NULL) &#123;  // é“¾è¡¨ä¸ºç©ºæ—¶ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line">        Node *new_node = (Node *)calloc(1, sizeof(Node));  // åˆ›å»ºæ–°èŠ‚ç‚¹</span><br><span class="line">        if (new_node == NULL) &#123;</span><br><span class="line">            printf(&quot;calloc failed in modify_first_node\n&quot;);</span><br><span class="line">                return;</span><br><span class="line">        &#125;</span><br><span class="line">        new_node-&gt;data = new_val;  // æ–°èŠ‚ç‚¹æ•°æ®è®¾ä¸ºnew_val</span><br><span class="line">        *head = new_node;          // å¤´æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆåˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    (*head)-&gt;data = new_val;  // é“¾è¡¨éç©ºæ—¶ï¼Œç›´æ¥ä¿®æ”¹å¤´èŠ‚ç‚¹æ•°æ®</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å°¾æ’æ³•æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆä¿®æ­£åï¼‰</span><br><span class="line">void insert_tail(Node **head, ElementType new_val) &#123;</span><br><span class="line">    Node *new_node = (Node *)calloc(1, sizeof(Node));  // åˆ†é…å†…å­˜</span><br><span class="line">    if (new_node == NULL) &#123;</span><br><span class="line">        printf(&quot;calloc failed in insert_tail\n&quot;);</span><br><span class="line">            return;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;data = new_val;       // è®¾ç½®æ–°èŠ‚ç‚¹æ•°æ®</span><br><span class="line">    new_node-&gt;next = NULL;          // å°¾èŠ‚ç‚¹çš„nextå¿…é¡»ä¸ºNULLï¼ˆå…³é”®ï¼ï¼‰</span><br><span class="line"></span><br><span class="line">    if (*head == NULL) &#123;            // é“¾è¡¨ä¸ºç©ºæ—¶ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line">        *head = new_node;           // å¤´æŒ‡é’ˆç›´æ¥æŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆå”¯ä¸€èŠ‚ç‚¹ï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é“¾è¡¨éç©ºæ—¶ï¼Œéå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    Node *p = *head;                // pæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼Œåˆå§‹ä¸ºå¤´èŠ‚ç‚¹</span><br><span class="line">    while (p-&gt;next != NULL) &#123;       // å¾ªç¯ç›´åˆ°pçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯NULLï¼ˆå³æ‰¾åˆ°å°¾èŠ‚ç‚¹ï¼‰</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;next = new_node;             // å°¾èŠ‚ç‚¹çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹ï¼ˆå®Œæˆå°¾æ’ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ‰“å°é“¾è¡¨å†…å®¹</span><br><span class="line">void print_list(Node *head) &#123;</span><br><span class="line">    if (head == NULL) &#123;  // å¤„ç†ç©ºé“¾è¡¨</span><br><span class="line">        printf(&quot;é“¾è¡¨ä¸ºç©º\n&quot;);</span><br><span class="line">            return;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *p = head;      // pä¸ºéå†æŒ‡é’ˆï¼Œåˆå§‹æŒ‡å‘å¤´èŠ‚ç‚¹</span><br><span class="line">    while (p != NULL) &#123;  // å¾ªç¯ç›´åˆ°pä¸ºNULLï¼ˆéå†å®Œæ‰€æœ‰èŠ‚ç‚¹ï¼‰</span><br><span class="line">        printf(&quot;%d -&gt; &quot;, p-&gt;data);  // æ‰“å°å½“å‰èŠ‚ç‚¹æ•°æ®</span><br><span class="line">        p = p-&gt;next;    // pç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;NULL\n&quot;);     // æ‰“å°é“¾è¡¨ç»“æŸæ ‡å¿—</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    Node *head = NULL;  // åˆå§‹åŒ–ç©ºé“¾è¡¨ï¼ˆå¤´æŒ‡é’ˆä¸ºNULLï¼‰</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å¤´æ’æ³•+ä¿®æ”¹å¤´èŠ‚ç‚¹</span><br><span class="line">    insert_head_null(&amp;head, 7);    // æ’å…¥7 â†’ é“¾è¡¨ï¼š7 -&gt; NULL</span><br><span class="line">    modify_first_node(&amp;head, 8);   // ä¿®æ”¹å¤´èŠ‚ç‚¹ä¸º8 â†’ é“¾è¡¨ï¼š8 -&gt; NULL</span><br><span class="line">    insert_head_null(&amp;head, 7);    // å¤´æ’7 â†’ é“¾è¡¨ï¼š7 -&gt; 8 -&gt; NULL</span><br><span class="line">    insert_head_null(&amp;head, 77);   // å¤´æ’77 â†’ é“¾è¡¨ï¼š77 -&gt; 7 -&gt; 8 -&gt; NULL</span><br><span class="line">    modify_first_node(&amp;head, 888); // ä¿®æ”¹å¤´èŠ‚ç‚¹ä¸º888 â†’ é“¾è¡¨ï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; NULL</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•å°¾æ’æ³•</span><br><span class="line">    insert_tail(&amp;head, 6);         // å°¾æ’6 â†’ é“¾è¡¨ï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</span><br><span class="line"></span><br><span class="line">    // æ‰“å°æœ€ç»ˆé“¾è¡¨</span><br><span class="line">    print_list(head);              // è¾“å‡ºï¼š888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</span><br><span class="line"></span><br><span class="line">    // é‡Šæ”¾é“¾è¡¨å†…å­˜ï¼ˆå¯é€‰ï¼Œä½†å»ºè®®æ·»åŠ ï¼‰</span><br><span class="line">    Node *p = head;</span><br><span class="line">    while (p != NULL) &#123;</span><br><span class="line">        Node *temp = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        free(temp);</span><br><span class="line">    &#125;</span><br><span class="line">    head = NULL;  // é¿å…é‡æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä»£ç è¯´æ˜"><a href="#ä»£ç è¯´æ˜" class="headerlink" title="ä»£ç è¯´æ˜"></a>ä»£ç è¯´æ˜</h2><ul>
<li>å†…å­˜é‡Šæ”¾â€‹â€‹ï¼šä¸»å‡½æ•°æœ«å°¾æ·»åŠ äº†é“¾è¡¨å†…å­˜é‡Šæ”¾é€»è¾‘ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
<li>äºŒçº§æŒ‡é’ˆâ€‹â€‹ï¼šæ‰€æœ‰ä¿®æ”¹å¤´æŒ‡é’ˆçš„æ“ä½œï¼ˆå¤´æ’ã€ä¿®æ”¹å¤´èŠ‚ç‚¹ï¼‰å‡ä½¿ç”¨äºŒçº§æŒ‡é’ˆNode **headï¼Œç¡®ä¿å¤–éƒ¨å¤´æŒ‡é’ˆçš„æŒ‡å‘è¢«æ­£ç¡®ä¿®æ”¹ã€‚</li>
<li>è¾¹ç•Œå¤„ç†â€‹â€‹ï¼šæ‰€æœ‰å‡½æ•°å‡æ£€æŸ¥äº†ç©ºé“¾è¡¨ï¼ˆhead &#x3D;&#x3D; NULLï¼‰å’Œå†…å­˜åˆ†é…å¤±è´¥ï¼ˆcalloc &#x3D;&#x3D; NULLï¼‰çš„è¾¹ç•Œæ¡ä»¶ï¼Œä¿è¯é²æ£’æ€§ã€‚æ­¤</li>
<li>ä»£ç å¯ç›´æ¥ç¼–è¯‘è¿è¡Œï¼Œè¾“å‡ºç»“æœä¸ºï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">888 -&gt; 77 -&gt; 7 -&gt; 8 -&gt; 6 -&gt; NULL</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç¨‹åº</tag>
        <tag>å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Leecode 0001.two sum</title>
    <url>/posts/83dcefb7/</url>
    <content><![CDATA[<img src="/img/PageCode/12.png" alt="Leecode 0001.two sum" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="1-Two-Sum"><a href="#1-Two-Sum" class="headerlink" title="1. Two Sum"></a><a href="https://leetcode.com/problems/two-sum/">1. Two Sum</a></h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>
<p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p>
<p>Example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Given nums = [2, 7, 11, 15], target = 9,</span><br><span class="line"></span><br><span class="line">Because nums[0] + nums[1] = 2 + 7 = 9,</span><br><span class="line">return [0, 1].</span><br></pre></td></tr></table></figure>



<h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>åœ¨æ•°ç»„ä¸­æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œå®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡å€¼ <code>target</code>ï¼Œå¹¶è¿”å›è¿™ä¸¤ä¸ªæ•°åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚è¦æ±‚æ¯ä¸ªå…ƒç´ åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸”ä¿è¯æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè§£ã€‚</p>
<hr>
<h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><h3 id="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰"><a href="#æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰"></a>æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>é€šè¿‡åŒé‡å¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸€å¯¹å…ƒç´ ï¼Œæ£€æŸ¥å®ƒä»¬çš„å’Œæ˜¯å¦ç­‰äºç›®æ ‡å€¼ <code>target</code>ã€‚å¤–å±‚å¾ªç¯æ§åˆ¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼• <code>i</code>ï¼Œå†…å±‚å¾ªç¯æ§åˆ¶ç¬¬äºŒä¸ªå…ƒç´ çš„ç´¢å¼• <code>j</code>ï¼ˆ<code>j &gt; i</code> ä»¥é¿å…é‡å¤ä½¿ç”¨åŒä¸€å…ƒç´ ï¼‰ã€‚</p>
<h4 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h4><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÂ²)ï¼Œå…¶ä¸­ <code>n</code> æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„å…ƒç´ å¯¹ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œä»…ä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<hr>
<h3 id="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰"><a href="#æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰"></a>æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰</h3><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>åˆ©ç”¨å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰å­˜å‚¨å·²éå†å…ƒç´ çš„å€¼åŠå…¶ä¸‹æ ‡ã€‚å¯¹äºå½“å‰éå†çš„å…ƒç´  <code>nums[i]</code>ï¼Œè®¡ç®—éœ€è¦çš„è¡¥æ•° <code>complement = target - nums[i]</code>ï¼Œå¹¶æ£€æŸ¥è¡¥æ•°æ˜¯å¦å·²å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼š</p>
<ul>
<li>è‹¥å­˜åœ¨ï¼Œåˆ™è¿”å›å“ˆå¸Œè¡¨ä¸­è¡¥æ•°çš„ä¸‹æ ‡å’Œå½“å‰å…ƒç´ çš„ä¸‹æ ‡ <code>i</code>ã€‚</li>
<li>è‹¥ä¸å­˜åœ¨ï¼Œåˆ™å°†å½“å‰å…ƒç´ çš„å€¼å’Œä¸‹æ ‡å­˜å…¥å“ˆå¸Œè¡¨ï¼Œç»§ç»­éå†ã€‚</li>
</ul>
<p>è¿™ç§æ–¹æ³•é€šè¿‡ç©ºé—´æ¢æ—¶é—´ï¼Œå°†æŸ¥æ‰¾è¡¥æ•°çš„æ—¶é—´å¤æ‚åº¦ä» O(n) é™ä¸º O(1)ã€‚</p>
<h1 id="1-Two-Sum-1"><a href="#1-Two-Sum-1" class="headerlink" title="1. Two Sum"></a>1. Two Sum</h1><h2 id="é¢˜ç›®-1"><a href="#é¢˜ç›®-1" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>  ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ <code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º <strong>å’Œä¸ºç›®æ ‡å€¼</strong> çš„é‚£ <strong>ä¸¤ä¸ª</strong> æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>  ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½é‡å¤ä½¿ç”¨ã€‚</p>
<p>  ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>  plaintext</p>
<p>  å¤åˆ¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2, 7, 11, 15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[0, 1]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>  åœ¨æ•°ç»„ä¸­æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œå®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡å€¼ <code>target</code>ï¼Œå¹¶è¿”å›è¿™ä¸¤ä¸ªæ•°åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚è¦æ±‚æ¯ä¸ªå…ƒç´ åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸”ä¿è¯æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè§£ã€‚</p>
<hr>
<h2 id="è§£é¢˜æ€è·¯-1"><a href="#è§£é¢˜æ€è·¯-1" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><h3 id="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰-1"><a href="#æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰"></a>æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼ˆæš´åŠ›æšä¸¾ï¼‰</h3><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>  é€šè¿‡åŒé‡å¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸€å¯¹å…ƒç´ ï¼Œæ£€æŸ¥å®ƒä»¬çš„å’Œæ˜¯å¦ç­‰äºç›®æ ‡å€¼ <code>target</code>ã€‚å¤–å±‚å¾ªç¯æ§åˆ¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼• <code>i</code>ï¼Œå†…å±‚å¾ªç¯æ§åˆ¶ç¬¬äºŒä¸ªå…ƒç´ çš„ç´¢å¼• <code>j</code>ï¼ˆ<code>j &gt; i</code> ä»¥é¿å…é‡å¤ä½¿ç”¨åŒä¸€å…ƒç´ ï¼‰ã€‚</p>
<h4 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h4><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÂ²)ï¼Œå…¶ä¸­ <code>n</code> æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰å¯èƒ½çš„å…ƒç´ å¯¹ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œä»…ä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<hr>
<h3 id="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰-1"><a href="#æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰-1" class="headerlink" title="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰"></a>æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨ï¼ˆä¼˜åŒ–æŸ¥æ‰¾ï¼‰</h3><h4 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>  åˆ©ç”¨å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰å­˜å‚¨å·²éå†å…ƒç´ çš„å€¼åŠå…¶ä¸‹æ ‡ã€‚å¯¹äºå½“å‰éå†çš„å…ƒç´  <code>nums[i]</code>ï¼Œè®¡ç®—éœ€è¦çš„è¡¥æ•° <code>complement = target - nums[i]</code>ï¼Œå¹¶æ£€æŸ¥è¡¥æ•°æ˜¯å¦å·²å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼š</p>
<ul>
<li>è‹¥å­˜åœ¨ï¼Œåˆ™è¿”å›å“ˆå¸Œè¡¨ä¸­è¡¥æ•°çš„ä¸‹æ ‡å’Œå½“å‰å…ƒç´ çš„ä¸‹æ ‡ <code>i</code>ã€‚</li>
<li>è‹¥ä¸å­˜åœ¨ï¼Œåˆ™å°†å½“å‰å…ƒç´ çš„å€¼å’Œä¸‹æ ‡å­˜å…¥å“ˆå¸Œè¡¨ï¼Œç»§ç»­éå†ã€‚</li>
</ul>
<p>  è¿™ç§æ–¹æ³•é€šè¿‡ç©ºé—´æ¢æ—¶é—´ï¼Œå°†æŸ¥æ‰¾è¡¥æ•°çš„æ—¶é—´å¤æ‚åº¦ä» O(n) é™ä¸º O(1)ã€‚</p>
<h4 id="å¤æ‚åº¦åˆ†æ-2"><a href="#å¤æ‚åº¦åˆ†æ-2" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h4><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œä»…éœ€éå†æ•°ç»„ä¸€æ¬¡ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦å­˜å‚¨æ‰€æœ‰å…ƒç´ åˆ°å“ˆå¸Œè¡¨ä¸­ã€‚</li>
</ul>
<hr>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">åŒå±‚å¾ªç¯</button><button type="button" class="tab">Hashè¡¨</button><button type="button" class="tab">æ ‡å‡†ç­”æ¡ˆ</button><button type="button" class="tab">Cä½¿ç”¨å“ˆå¸Œå‡½æ•°</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨ç»“æœæ•°ç»„æ›¿ä»£å…¨å±€å˜é‡ï¼Œæé«˜å¯ç»´æŠ¤æ€§</span><br><span class="line">void find_two(int arr[], int target, int len, int *result) &#123;</span><br><span class="line">    result[0] = -1; // åˆå§‹åŒ–ä¸º-1è¡¨ç¤ºæœªæ‰¾åˆ°</span><br><span class="line">    result[1] = -1;</span><br><span class="line">    int found = 0; // æ ‡è®°æ˜¯å¦æ‰¾åˆ°ç›®æ ‡æ•°å¯¹</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; len &amp;&amp; !found; i++) &#123;</span><br><span class="line">        // ä¼˜åŒ–ï¼šè‹¥å½“å‰å…ƒç´ å·²å¤§äºtargetï¼Œæ— éœ€ç»§ç»­ï¼ˆå› æ•°ç»„å…ƒç´ éè´Ÿï¼‰</span><br><span class="line">        if (arr[i] &gt; target) continue;</span><br><span class="line">    </span><br><span class="line">        for (int j = i + 1; j &lt; len &amp;&amp; !found; j++) &#123;</span><br><span class="line">            // ä¼˜åŒ–ï¼šè‹¥å½“å‰å…ƒç´ å·²å¤§äºtargetï¼Œæ— éœ€ç»§ç»­</span><br><span class="line">            if (arr[j] &gt; target) continue;</span><br><span class="line">    </span><br><span class="line">            // æ‰¾åˆ°å’Œä¸ºtargetçš„ä¸¤ä¸ªæ•°</span><br><span class="line">            if (arr[i] + arr[j] == target) &#123;</span><br><span class="line">                result[0] = i;</span><br><span class="line">                result[1] = j;</span><br><span class="line">                found = 1; // æ ‡è®°å·²æ‰¾åˆ°ï¼Œè§¦å‘å¾ªç¯ç»ˆæ­¢</span><br><span class="line">                break;   // é€€å‡ºå†…å±‚å¾ªç¯</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    int num[100] = &#123; 0 &#125;;</span><br><span class="line">    srand(time(NULL));</span><br><span class="line">    int len = rand() % 100 + 1; // æ•°ç»„é•¿åº¦è‡³å°‘ä¸º1ï¼ˆé¿å…æ— æ•ˆéå†ï¼‰</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        num[i] = rand() % 100; // å…ƒç´ èŒƒå›´0-99ï¼ˆéè´Ÿï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">    int target = rand() % 100; // ç›®æ ‡å€¼èŒƒå›´0-99</span><br><span class="line">    int result[2];             // å­˜å‚¨ç»“æœä¸‹æ ‡</span><br><span class="line"></span><br><span class="line">    find_two(num, target, len, result);</span><br><span class="line">    </span><br><span class="line">    // è¾“å‡ºæ•°ç»„å…ƒç´ ï¼ˆä»…è¾“å‡ºæœ‰æ•ˆéƒ¨åˆ†ï¼‰</span><br><span class="line">    printf(&quot;æ•°ç»„å…ƒç´ ï¼ˆå‰%dä¸ªï¼‰ï¼š\n&quot;, len);</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if(i%15==0)</span><br><span class="line">            printf(&quot;\n&quot;);</span><br><span class="line">        printf(&quot;%d\t&quot;, num[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\nç›®æ ‡å’Œä¸º%d\n&quot;, target);</span><br><span class="line">    </span><br><span class="line">    if (result[0] == -1 || result[1] == -1) &#123;</span><br><span class="line">        printf(&quot;æ²¡æ‰¾åˆ°ä¸¤ä¸ªæ•°çš„å’Œç­‰äº%d\n&quot;, target);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä¸‹æ ‡åˆ†åˆ«ä¸º%då’Œ%dï¼Œå¯¹åº”çš„å€¼ä¸º%då’Œ%dï¼Œå’Œä¸º%d\n&quot;,</span><br><span class="line">            result[0], result[1], num[result[0]], num[result[1]], target);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line"></span><br><span class="line">void find_two(int arr[], int target, int len, int *result) &#123;</span><br><span class="line">    if (len &lt; 2) &#123; // æ•°ç»„é•¿åº¦ä¸è¶³2ï¼Œç›´æ¥è¿”å›-1,-1</span><br><span class="line">        result[0] = -1;</span><br><span class="line">        result[1] = -1;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    int hash_map[100]; // å“ˆå¸Œè¡¨è®°å½•å€¼å¯¹åº”çš„ä¸‹æ ‡ï¼Œåˆå§‹åŒ–ä¸º-1ï¼ˆæœªå‡ºç°ï¼‰</span><br><span class="line">    for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">        hash_map[i] = -1;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        int complement = target - arr[i];</span><br><span class="line">        // æ£€æŸ¥è¡¥æ•°æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´ï¼ˆ0-99ï¼‰ä¸”å·²å‡ºç°è¿‡</span><br><span class="line">        if (complement &gt;= 0 &amp;&amp; complement &lt; 100 &amp;&amp; hash_map[complement] != -1) &#123;</span><br><span class="line">            result[0] = hash_map[complement]; // è¡¥æ•°çš„ä¸‹æ ‡</span><br><span class="line">            result[1] = i;                    // å½“å‰å…ƒç´ çš„ä¸‹æ ‡</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        // è®°å½•å½“å‰å…ƒç´ çš„ä¸‹æ ‡ï¼ˆè¦†ç›–ä¹‹å‰çš„ï¼Œç¡®ä¿æ‰¾åˆ°æœ€è¿‘çš„æˆ–ä»»æ„ä¸€ä¸ªè§£ï¼‰</span><br><span class="line">        if (arr[i] &gt;= 0 &amp;&amp; arr[i] &lt; 100) &#123; // ç¡®ä¿å…ƒç´ åœ¨å“ˆå¸Œè¡¨èŒƒå›´å†…</span><br><span class="line">            hash_map[arr[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹</span><br><span class="line">    result[0] = -1;</span><br><span class="line">    result[1] = -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    int num[100] = &#123; 0 &#125;;</span><br><span class="line">    srand(time(NULL));</span><br><span class="line">    int len = rand() % 100 + 1; // æ•°ç»„é•¿åº¦è‡³å°‘ä¸º1ï¼ˆé¿å…len=0æ—¶æ­»å¾ªç¯ï¼‰</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        num[i] = rand() % 100; // å…ƒç´ èŒƒå›´0-99</span><br><span class="line">    &#125;</span><br><span class="line">    int target = rand() % 100; // ç›®æ ‡å€¼èŒƒå›´0-99</span><br><span class="line">    int result[2] = &#123; -1, -1 &#125;;</span><br><span class="line"></span><br><span class="line">    find_two(num, target, len, result);</span><br><span class="line">    </span><br><span class="line">    // è¾“å‡ºæ•°ç»„å…ƒç´ ï¼ˆä»…è¾“å‡ºæœ‰æ•ˆéƒ¨åˆ†ï¼‰</span><br><span class="line">    printf(&quot;æ•°ç»„å…ƒç´ ï¼ˆå‰%dä¸ªï¼‰ï¼š\n&quot;, len);</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        printf(&quot;%d\t&quot;, num[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\nç›®æ ‡å’Œä¸º%d\n&quot;, target);</span><br><span class="line">    </span><br><span class="line">    if (result[0] == -1 || result[1] == -1) &#123;</span><br><span class="line">        printf(&quot;æ²¡æ‰¾åˆ°ä¸¤ä¸ªæ•°çš„å’Œç­‰äº%d\n&quot;, target);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä¸‹æ ‡åˆ†åˆ«ä¸º%då’Œ%dï¼Œå¯¹åº”çš„å€¼ä¸º%då’Œ%dï¼Œå’Œä¸º%d\n&quot;,</span><br><span class="line">            result[0], result[1], num[result[0]], num[result[1]], target);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int* twoSum(int* nums, int numsSize, int target, int* returnSize) &#123;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        for (int j = i + 1; j &lt; numsSize; j++) &#123;</span><br><span class="line">            if (nums[j] == target - nums[i]) &#123;</span><br><span class="line">                int* result = malloc(sizeof(int) * 2);</span><br><span class="line">                result[0] = i;</span><br><span class="line">                result[1] = j;</span><br><span class="line">                *returnSize = 2;</span><br><span class="line">                return result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // Return an empty array if no solution is found</span><br><span class="line">    *returnSize = 0;</span><br><span class="line">    return malloc(sizeof(int) * 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰å“ˆå¸Œè¡¨èŠ‚ç‚¹ç»“æ„ä½“ï¼ˆé”®ï¼šå…ƒç´ å€¼ï¼Œå€¼ï¼šä¸‹æ ‡ï¼‰</span><br><span class="line">typedef struct HashNode &#123;</span><br><span class="line">    int key;        // æ•°ç»„å…ƒç´ çš„å€¼</span><br><span class="line">    int value;      // å…ƒç´ çš„ä¸‹æ ‡</span><br><span class="line">    struct HashNode* next; // é“¾è¡¨æŒ‡é’ˆï¼ˆå¤„ç†å“ˆå¸Œå†²çªï¼‰</span><br><span class="line">&#125; HashNode;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰å“ˆå¸Œè¡¨ç»“æ„ä½“ï¼ˆæ¡¶æ•°ç»„+å¤§å°ï¼‰</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    HashNode** buckets; // æ¡¶æ•°ç»„ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯é“¾è¡¨å¤´ï¼‰</span><br><span class="line">    int size;           // æ¡¶çš„æ•°é‡ï¼ˆå“ˆå¸Œè¡¨å¤§å°ï¼‰</span><br><span class="line">&#125; HashTable;</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œå‡½æ•°ï¼šå°†keyæ˜ å°„åˆ°æ¡¶çš„ç´¢å¼•ï¼ˆå¤„ç†è´Ÿæ•°ï¼‰</span><br><span class="line">static int hashFunction(HashTable* table, int key) &#123;</span><br><span class="line">    int hash = key % table-&gt;size;</span><br><span class="line">    return hash &lt; 0 ? hash + table-&gt;size : hash; // ç¡®ä¿ç´¢å¼•éè´Ÿ</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºå“ˆå¸Œè¡¨ï¼ˆåˆå§‹åŒ–æ¡¶æ•°ç»„ï¼‰</span><br><span class="line">HashTable* hashTableCreate(int size) &#123;</span><br><span class="line">    HashTable* table = (HashTable*)malloc(sizeof(HashTable));</span><br><span class="line">    table-&gt;size = size;</span><br><span class="line">    table-&gt;buckets = (HashNode**)calloc(size, sizeof(HashNode*)); // åˆå§‹åŒ–ä¸ºNULL</span><br><span class="line">    return table;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾keyå¯¹åº”çš„valueï¼ˆä¸å­˜åœ¨è¿”å›-1ï¼‰</span><br><span class="line">static int hashFind(HashTable* table, int key) &#123;</span><br><span class="line">    int index = hashFunction(table, key);</span><br><span class="line">    HashNode* current = table-&gt;buckets[index];</span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        if (current-&gt;key == key) &#123;</span><br><span class="line">            return current-&gt;value; // æ‰¾åˆ°é”®ï¼Œè¿”å›ä¸‹æ ‡</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    return -1; // æœªæ‰¾åˆ°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥key-valueå¯¹ï¼ˆå¤´æ’æ³•ï¼‰</span><br><span class="line">static void hashInsert(HashTable* table, int key, int value) &#123;</span><br><span class="line">    int index = hashFunction(table, key);</span><br><span class="line">    // åˆ›å»ºæ–°èŠ‚ç‚¹å¹¶æ’å…¥é“¾è¡¨å¤´éƒ¨</span><br><span class="line">    HashNode* newNode = (HashNode*)malloc(sizeof(HashNode));</span><br><span class="line">    newNode-&gt;key = key;</span><br><span class="line">    newNode-&gt;value = value;</span><br><span class="line">    newNode-&gt;next = table-&gt;buckets[index]; // å¤´æ’æ³•è¦†ç›–æ—§å€¼ï¼ˆæœ¬é¢˜ä¸­æ— éœ€æ‹…å¿ƒï¼‰</span><br><span class="line">    table-&gt;buckets[index] = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é‡Šæ”¾å“ˆå¸Œè¡¨æ‰€æœ‰å†…å­˜ï¼ˆé¿å…æ³„æ¼ï¼‰</span><br><span class="line">static void hashTableFree(HashTable* table) &#123;</span><br><span class="line">    for (int i = 0; i &lt; table-&gt;size; i++) &#123;</span><br><span class="line">        HashNode* current = table-&gt;buckets[i];</span><br><span class="line">        while (current != NULL) &#123;</span><br><span class="line">            HashNode* temp = current;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">            free(temp); // é‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(table-&gt;buckets); // é‡Šæ”¾æ¡¶æ•°ç»„</span><br><span class="line">    free(table);          // é‡Šæ”¾å“ˆå¸Œè¡¨ç»“æ„ä½“</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸¤æ•°ä¹‹å’Œä¸»å‡½æ•°ï¼ˆCè¯­è¨€å®ç°ï¼‰</span><br><span class="line">int* twoSum(int* nums, int numsSize, int target, int* returnSize) &#123;</span><br><span class="line">    *returnSize = 0; // åˆå§‹åŒ–è¿”å›æ•°ç»„é•¿åº¦ä¸º0</span><br><span class="line">    if (numsSize &lt; 2) &#123; // æ•°ç»„é•¿åº¦ä¸è¶³2ï¼Œç›´æ¥è¿”å›NULL</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // åˆ›å»ºå“ˆå¸Œè¡¨ï¼ˆé€‰æ‹©è¾ƒå¤§çš„è´¨æ•°10007å‡å°‘å†²çªï¼‰</span><br><span class="line">    HashTable* hashTable = hashTableCreate(10007);</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        int complement = target - nums[i]; // è®¡ç®—è¡¥æ•°ï¼štarget - å½“å‰å…ƒç´ å€¼</span><br><span class="line"></span><br><span class="line">        // æŸ¥æ‰¾è¡¥æ•°æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­</span><br><span class="line">        int complementIndex = hashFind(hashTable, complement);</span><br><span class="line">        if (complementIndex != -1) &#123;</span><br><span class="line">            // æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ï¼Œåˆ†é…ç»“æœæ•°ç»„å¹¶è¿”å›</span><br><span class="line">            int* result = (int*)malloc(2 * sizeof(int));</span><br><span class="line">            result[0] = complementIndex;</span><br><span class="line">            result[1] = i;</span><br><span class="line">            *returnSize = 2;</span><br><span class="line"></span><br><span class="line">            // é‡Šæ”¾å“ˆå¸Œè¡¨å†…å­˜</span><br><span class="line">            hashTableFree(hashTable);</span><br><span class="line">            return result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // æœªæ‰¾åˆ°è¡¥æ•°ï¼Œå°†å½“å‰å…ƒç´ æ’å…¥å“ˆå¸Œè¡¨</span><br><span class="line">        hashInsert(hashTable, nums[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // éå†ç»“æŸæœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å¯¹ï¼Œé‡Šæ”¾å“ˆå¸Œè¡¨å†…å­˜</span><br><span class="line">    hashTableFree(hashTable);</span><br><span class="line">    return NULL; // è¿”å›NULLè¡¨ç¤ºæœªæ‰¾åˆ°ï¼ˆè°ƒç”¨è€…éœ€æ£€æŸ¥returnSizeï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>

<p>æœ¬æ–‡æ¡ˆä¾‹æ˜¯é€šè¿‡éšæœºç”Ÿæˆæ•°ç»„å†…å®¹æ¥æ£€æŸ¥å‡½æ•°ï¼Œå®é™…åˆ·é¢˜æ—¶å†™å‡ºå‡½æ•°å³å¯ï¼Œä¸éœ€è¦å…¨éƒ¨å†™å‡ºã€‚</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>ç¨‹åº</tag>
        <tag>å‡½æ•°</tag>
        <tag>leecode</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å®ç°æ±‰è¯ºå¡”é—®é¢˜ï¼šä»é€’å½’é€»è¾‘åˆ°ä»£ç è§£æ</title>
    <url>/posts/32b00d45/</url>
    <content><![CDATA[<img src="/img/PageCode/9.png" alt="Cè¯­è¨€å®ç°æ±‰è¯ºå¡”é—®é¢˜ï¼šä»é€’å½’é€»è¾‘åˆ°ä»£ç è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h1 id="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ æ±‰è¯ºå¡”ï¼Ÿ"><a href="#å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ æ±‰è¯ºå¡”ï¼Ÿ" class="headerlink" title="å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ æ±‰è¯ºå¡”ï¼Ÿ"></a>å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ æ±‰è¯ºå¡”ï¼Ÿ</h1><p>æ±‰è¯ºå¡”ï¼ˆHanoi Towerï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æœ€ç»å…¸çš„é€’å½’é—®é¢˜ä¹‹ä¸€ï¼Œç”±æ³•å›½æ•°å­¦å®¶çˆ±å¾·åÂ·å¢å¡æ–¯äº1883å¹´æå‡ºã€‚å®ƒä¸ä»…æ˜¯ç†è§£é€’å½’æ€æƒ³çš„ç»ä½³æ¡ˆä¾‹ï¼Œæ›´æ˜¯åŸ¹å…»ç®—æ³•æ€ç»´çš„åŸºç¡€ã€‚æœ¬æ–‡å°†é€šè¿‡Cè¯­è¨€å®ç°æ±‰è¯ºå¡”é—®é¢˜çš„é€’å½’è§£æ³•ï¼Œè¯¦ç»†è§£æå…¶æ ¸å¿ƒé€»è¾‘ï¼Œå¹¶æ¢è®¨å¦‚ä½•é€šè¿‡ä»£ç éªŒè¯å’Œä¼˜åŒ–æå‡ç¨‹åºçš„å¥å£®æ€§ã€‚</p>
<hr>
<h1 id="é—®é¢˜èƒŒæ™¯ï¼šæ±‰è¯ºå¡”çš„è§„åˆ™ä¸ç›®æ ‡"><a href="#é—®é¢˜èƒŒæ™¯ï¼šæ±‰è¯ºå¡”çš„è§„åˆ™ä¸ç›®æ ‡" class="headerlink" title="é—®é¢˜èƒŒæ™¯ï¼šæ±‰è¯ºå¡”çš„è§„åˆ™ä¸ç›®æ ‡"></a>é—®é¢˜èƒŒæ™¯ï¼šæ±‰è¯ºå¡”çš„è§„åˆ™ä¸ç›®æ ‡</h1><p>æ±‰è¯ºå¡”é—®é¢˜æè¿°å¦‚ä¸‹ï¼š<br> å‡è®¾æœ‰3æ ¹æŸ±å­ï¼ˆèµ·å§‹å¡”<code>A</code>ã€è¾…åŠ©å¡”<code>B</code>ã€ç›®æ ‡å¡”<code>C</code>ï¼‰ï¼Œåˆå§‹æ—¶<code>A</code>å¡”ä¸Šæœ‰<code>n</code>ä¸ªç›˜å­ï¼ŒæŒ‰å¤§å°é¡ºåºä»ä¸Šåˆ°ä¸‹å æ”¾ï¼ˆå¤§ç›˜å­åœ¨ä¸‹ï¼Œå°ç›˜å­åœ¨ä¸Šï¼‰ã€‚ç›®æ ‡æ˜¯å°†æ‰€æœ‰ç›˜å­ä»<code>A</code>å¡”ç§»åŠ¨åˆ°<code>C</code>å¡”ï¼Œç§»åŠ¨è¿‡ç¨‹ä¸­éœ€éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­ï¼›</li>
<li>å¤§ç›˜å­ä¸èƒ½ç›´æ¥æ”¾åœ¨å°ç›˜å­ä¸Šï¼ˆå³ä»»ä½•æ—¶åˆ»ï¼Œå°ç›˜å­å¿…é¡»åœ¨å¤§ç›˜å­ä¹‹ä¸Šï¼‰ã€‚</li>
</ol>
<p><strong>æœ€å°‘ç§»åŠ¨æ­¥æ•°</strong>ï¼šå¯¹äº<code>n</code>ä¸ªç›˜å­ï¼Œæœ€å°‘éœ€è¦<code>2^n - 1</code>æ­¥ï¼ˆæ•°å­¦å½’çº³æ³•å¯è¯ï¼‰ã€‚</p>
<hr>
<h1 id="ä»£ç æ ¸å¿ƒï¼šé€’å½’è§£æ³•çš„é€»è¾‘æ‹†è§£"><a href="#ä»£ç æ ¸å¿ƒï¼šé€’å½’è§£æ³•çš„é€»è¾‘æ‹†è§£" class="headerlink" title="ä»£ç æ ¸å¿ƒï¼šé€’å½’è§£æ³•çš„é€»è¾‘æ‹†è§£"></a>ä»£ç æ ¸å¿ƒï¼šé€’å½’è§£æ³•çš„é€»è¾‘æ‹†è§£</h1><p>ä»£ç é€šè¿‡é€’å½’å‡½æ•°<code>move</code>å®ç°äº†æ±‰è¯ºå¡”çš„ç§»åŠ¨æ­¥éª¤è¾“å‡ºï¼Œå¹¶è®¡ç®—äº†æœ€å°‘æ­¥æ•°ã€‚ä»¥ä¸‹æ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">// é€’å½’å‡½æ•°ï¼šå°†nä¸ªç›˜å­ä»startå¡”ç§»åŠ¨åˆ°targetå¡”ï¼Œsupä¸ºè¾…åŠ©å¡”</span><br><span class="line">void move(int n, char start, char sup, char target) &#123;</span><br><span class="line">    // é€’å½’å‡ºå£ï¼šä»…1ä¸ªç›˜å­æ—¶ï¼Œç›´æ¥ç§»åŠ¨</span><br><span class="line">    if (n == 1) &#123;</span><br><span class="line">        printf(&quot;%c --&gt; %c\n&quot;, start, target);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸€æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»startç§»åŠ¨åˆ°supï¼ˆtargetä½œä¸ºè¾…åŠ©ï¼‰</span><br><span class="line">    move(n - 1, start, target, sup);</span><br><span class="line"></span><br><span class="line">    // ç¬¬äºŒæ­¥ï¼šå°†æœ€å¤§çš„ç›˜å­ä»startç§»åŠ¨åˆ°targetï¼ˆç›´æ¥æ‰“å°ï¼‰</span><br><span class="line">    printf(&quot;%c --&gt; %c\n&quot;, start, target);</span><br><span class="line"></span><br><span class="line">    // ç¬¬ä¸‰æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»supç§»åŠ¨åˆ°targetï¼ˆstartä½œä¸ºè¾…åŠ©ï¼‰</span><br><span class="line">    move(n - 1, sup, start, target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    int n = 5;</span><br><span class="line">    long long steps = (1LL &lt;&lt; n) - 1;  // è®¡ç®—æœ€å°‘æ­¥æ•°ï¼š2^n - 1</span><br><span class="line">    printf(&quot;å®Œæˆ%dä¸ªç›˜å­çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œæœ€å°‘éœ€è¦%lldæ­¥ï¼Œå…¨éƒ¨ç§»åŠ¨è½¨è¿¹å¦‚ä¸‹ï¼š\n&quot;, n, steps);</span><br><span class="line"></span><br><span class="line">    move(n, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;);  // è°ƒç”¨é€’å½’å‡½æ•°è¾“å‡ºç§»åŠ¨æ­¥éª¤</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ä»£ç é€è¡Œè§£æï¼šé€’å½’é€»è¾‘çš„å…·è±¡åŒ–"><a href="#ä»£ç é€è¡Œè§£æï¼šé€’å½’é€»è¾‘çš„å…·è±¡åŒ–" class="headerlink" title="ä»£ç é€è¡Œè§£æï¼šé€’å½’é€»è¾‘çš„å…·è±¡åŒ–"></a>ä»£ç é€è¡Œè§£æï¼šé€’å½’é€»è¾‘çš„å…·è±¡åŒ–</h1><h2 id="1-moveå‡½æ•°çš„å‚æ•°ä¸é€’å½’å‡ºå£"><a href="#1-moveå‡½æ•°çš„å‚æ•°ä¸é€’å½’å‡ºå£" class="headerlink" title="1. moveå‡½æ•°çš„å‚æ•°ä¸é€’å½’å‡ºå£"></a>1. <code>move</code>å‡½æ•°çš„å‚æ•°ä¸é€’å½’å‡ºå£</h2><p>å‡½æ•°å®šä¹‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void move(int n, char start, char sup, char target)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>n</code>ï¼šå½“å‰éœ€è¦ç§»åŠ¨çš„ç›˜å­æ•°é‡ï¼›</li>
<li><code>start</code>ï¼šèµ·å§‹å¡”ï¼ˆå½“å‰å¾…ç§»åŠ¨çš„ç›˜å­æ‰€åœ¨å¡”ï¼‰ï¼›</li>
<li><code>sup</code>ï¼šè¾…åŠ©å¡”ï¼ˆç”¨äºä¸´æ—¶å­˜æ”¾ç›˜å­ï¼‰ï¼›</li>
<li><code>target</code>ï¼šç›®æ ‡å¡”ï¼ˆæœ€ç»ˆéœ€è¦å°†ç›˜å­ç§»åŠ¨åˆ°çš„å¡”ï¼‰ã€‚</li>
</ul>
<p><strong>é€’å½’å‡ºå£</strong>ï¼ˆç»ˆæ­¢æ¡ä»¶ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (n == 1) &#123;</span><br><span class="line">    printf(&quot;%c --&gt; %c\n&quot;, start, target);</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“<code>n=1</code>æ—¶ï¼Œæ— éœ€åˆ†è§£é—®é¢˜ï¼Œç›´æ¥å°†å”¯ä¸€çš„ç›˜å­ä»<code>start</code>å¡”ç§»åŠ¨åˆ°<code>target</code>å¡”ï¼Œæ‰“å°ç§»åŠ¨è·¯å¾„åè¿”å›ã€‚</p>
<h2 id="2-é€’å½’åˆ†è§£ï¼šä¸‰æ­¥ç§»åŠ¨ç­–ç•¥"><a href="#2-é€’å½’åˆ†è§£ï¼šä¸‰æ­¥ç§»åŠ¨ç­–ç•¥" class="headerlink" title="2. é€’å½’åˆ†è§£ï¼šä¸‰æ­¥ç§»åŠ¨ç­–ç•¥"></a>2. é€’å½’åˆ†è§£ï¼šä¸‰æ­¥ç§»åŠ¨ç­–ç•¥</h2><p>å¯¹äº<code>n&gt;1</code>çš„æƒ…å†µï¼Œé€’å½’åˆ†è§£ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼ˆä»¥<code>n=3</code>ä¸ºä¾‹ï¼‰ï¼š</p>
<h3 id="ç¬¬ä¸€æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»startç§»åŠ¨åˆ°sup"><a href="#ç¬¬ä¸€æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»startç§»åŠ¨åˆ°sup" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»startç§»åŠ¨åˆ°sup"></a>ç¬¬ä¸€æ­¥ï¼šå°†<code>n-1</code>ä¸ªç›˜å­ä»<code>start</code>ç§»åŠ¨åˆ°<code>sup</code></h3><p>è°ƒç”¨<code>move(n-1, start, target, sup)</code>ï¼Œæ­¤æ—¶ï¼š</p>
<ul>
<li>æ–°çš„èµ·å§‹å¡”æ˜¯åŸ<code>start</code>ï¼›</li>
<li>æ–°çš„ç›®æ ‡å¡”æ˜¯åŸ<code>sup</code>ï¼ˆå› ä¸ºéœ€è¦å°†<code>n-1</code>ä¸ªç›˜å­æš‚æ—¶å­˜æ”¾åœ¨è¿™é‡Œï¼‰ï¼›</li>
<li>æ–°çš„è¾…åŠ©å¡”æ˜¯åŸ<code>target</code>ï¼ˆç”¨äºè¾…åŠ©ç§»åŠ¨<code>n-1</code>ä¸ªç›˜å­ï¼‰ã€‚</li>
</ul>
<p><strong>æ•ˆæœ</strong>ï¼š<code>n-1</code>ä¸ªç›˜å­ä»<code>start</code>å¡”ç§»åŠ¨åˆ°<code>sup</code>å¡”ï¼ŒåŸ<code>target</code>å¡”ä½œä¸ºç©ºé—²è¾…åŠ©ã€‚</p>
<h3 id="ç¬¬äºŒæ­¥ï¼šå°†æœ€å¤§çš„ç›˜å­ä»startç§»åŠ¨åˆ°target"><a href="#ç¬¬äºŒæ­¥ï¼šå°†æœ€å¤§çš„ç›˜å­ä»startç§»åŠ¨åˆ°target" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå°†æœ€å¤§çš„ç›˜å­ä»startç§»åŠ¨åˆ°target"></a>ç¬¬äºŒæ­¥ï¼šå°†æœ€å¤§çš„ç›˜å­ä»<code>start</code>ç§»åŠ¨åˆ°<code>target</code></h3><p>æ­¤æ—¶ï¼Œ<code>start</code>å¡”ä¸Šåªå‰©æœ€å¤§çš„ç›˜å­ï¼ˆå› ä¸º<code>n-1</code>ä¸ªç›˜å­å·²è¢«ç§»èµ°ï¼‰ï¼Œç›´æ¥å°†å…¶ç§»åŠ¨åˆ°<code>target</code>å¡”ï¼Œå¹¶æ‰“å°è·¯å¾„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">printf(&quot;%c --&gt; %c\n&quot;, start, target);</span><br></pre></td></tr></table></figure>

<p><strong>æ•ˆæœ</strong>ï¼šæœ€å¤§çš„ç›˜å­åˆ°è¾¾ç›®æ ‡å¡”<code>target</code>ï¼Œ<code>start</code>å¡”æ¸…ç©ºã€‚</p>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»supç§»åŠ¨åˆ°target"><a href="#ç¬¬ä¸‰æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»supç§»åŠ¨åˆ°target" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå°†n-1ä¸ªç›˜å­ä»supç§»åŠ¨åˆ°target"></a>ç¬¬ä¸‰æ­¥ï¼šå°†<code>n-1</code>ä¸ªç›˜å­ä»<code>sup</code>ç§»åŠ¨åˆ°<code>target</code></h3><p>è°ƒç”¨<code>move(n-1, sup, start, target)</code>ï¼Œæ­¤æ—¶ï¼š</p>
<ul>
<li>æ–°çš„èµ·å§‹å¡”æ˜¯åŸ<code>sup</code>ï¼ˆå­˜æ”¾ç€<code>n-1</code>ä¸ªç›˜å­ï¼‰ï¼›</li>
<li>æ–°çš„ç›®æ ‡å¡”æ˜¯åŸ<code>target</code>ï¼ˆå·²æ”¾ç½®æœ€å¤§ç›˜å­ï¼Œç°åœ¨éœ€è¦æ”¾ç½®<code>n-1</code>ä¸ªç›˜å­ï¼‰ï¼›</li>
<li>æ–°çš„è¾…åŠ©å¡”æ˜¯åŸ<code>start</code>ï¼ˆå·²æ¸…ç©ºï¼Œç”¨äºè¾…åŠ©ç§»åŠ¨<code>n-1</code>ä¸ªç›˜å­ï¼‰ã€‚</li>
</ul>
<p><strong>æ•ˆæœ</strong>ï¼š<code>n-1</code>ä¸ªç›˜å­ä»<code>sup</code>å¡”ç§»åŠ¨åˆ°<code>target</code>å¡”ï¼Œæœ€ç»ˆæ‰€æœ‰ç›˜å­åˆ°è¾¾ç›®æ ‡å¡”ã€‚</p>
<hr>
<h1 id="ä¸»å‡½æ•°ï¼šå‚æ•°è®¾ç½®ä¸ç»“æœéªŒè¯"><a href="#ä¸»å‡½æ•°ï¼šå‚æ•°è®¾ç½®ä¸ç»“æœéªŒè¯" class="headerlink" title="ä¸»å‡½æ•°ï¼šå‚æ•°è®¾ç½®ä¸ç»“æœéªŒè¯"></a>ä¸»å‡½æ•°ï¼šå‚æ•°è®¾ç½®ä¸ç»“æœéªŒè¯</h1><h2 id="1-æ­¥æ•°è®¡ç®—ï¼š2-n-1çš„æ•°å­¦ä¾æ®"><a href="#1-æ­¥æ•°è®¡ç®—ï¼š2-n-1çš„æ•°å­¦ä¾æ®" class="headerlink" title="1. æ­¥æ•°è®¡ç®—ï¼š2^n - 1çš„æ•°å­¦ä¾æ®"></a>1. æ­¥æ•°è®¡ç®—ï¼š<code>2^n - 1</code>çš„æ•°å­¦ä¾æ®</h2><p>ä¸»å‡½æ•°ä¸­é€šè¿‡ä½è¿ç®—è®¡ç®—æ€»æ­¥æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">long long steps = (1LL &lt;&lt; n) - 1;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>1LL &lt;&lt; n</code>è¡¨ç¤ºå°†1å·¦ç§»<code>n</code>ä½ï¼ˆç­‰ä»·äº<code>2^n</code>ï¼‰ï¼›</li>
<li>å‡1åå¾—åˆ°<code>2^n - 1</code>ï¼Œå³æ±‰è¯ºå¡”é—®é¢˜çš„æœ€å°‘ç§»åŠ¨æ­¥æ•°ï¼ˆæ•°å­¦å½’çº³æ³•å¯è¯ï¼šå½“<code>n=1</code>æ—¶ï¼Œæ­¥æ•°ä¸º1ï¼›å‡è®¾<code>n=k</code>æ—¶æ­¥æ•°ä¸º<code>2^k - 1</code>ï¼Œåˆ™<code>n=k+1</code>æ—¶æ­¥æ•°ä¸º<code>2*(2^k - 1) + 1 = 2^(k+1) - 1</code>ï¼‰ã€‚</li>
</ul>
<h2 id="2-è°ƒç”¨moveå‡½æ•°è¾“å‡ºç§»åŠ¨è½¨è¿¹"><a href="#2-è°ƒç”¨moveå‡½æ•°è¾“å‡ºç§»åŠ¨è½¨è¿¹" class="headerlink" title="2. è°ƒç”¨moveå‡½æ•°è¾“å‡ºç§»åŠ¨è½¨è¿¹"></a>2. è°ƒç”¨<code>move</code>å‡½æ•°è¾“å‡ºç§»åŠ¨è½¨è¿¹</h2><p>é€šè¿‡<code>move(n, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;)</code>å¯åŠ¨é€’å½’ï¼Œè¾“å‡ºä»<code>A</code>å¡”åˆ°<code>C</code>å¡”çš„å®Œæ•´ç§»åŠ¨è·¯å¾„ã€‚</p>
<hr>
<h1 id="æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒnå€¼çš„è¾“å‡ºæ•ˆæœ"><a href="#æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒnå€¼çš„è¾“å‡ºæ•ˆæœ" class="headerlink" title="æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒnå€¼çš„è¾“å‡ºæ•ˆæœ"></a>æµ‹è¯•ä¸éªŒè¯ï¼šä¸åŒ<code>n</code>å€¼çš„è¾“å‡ºæ•ˆæœ</h1><h2 id="æµ‹è¯•1ï¼šn-1ï¼ˆæœ€å°æƒ…å†µï¼‰"><a href="#æµ‹è¯•1ï¼šn-1ï¼ˆæœ€å°æƒ…å†µï¼‰" class="headerlink" title="æµ‹è¯•1ï¼šn=1ï¼ˆæœ€å°æƒ…å†µï¼‰"></a>æµ‹è¯•1ï¼š<code>n=1</code>ï¼ˆæœ€å°æƒ…å†µï¼‰</h2><p><strong>è¾“å…¥</strong>ï¼š<code>n=1</code><br> â€‹<strong>â€‹é¢„æœŸè¾“å‡ºâ€‹</strong>â€‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®Œæˆ1ä¸ªç›˜å­çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œæœ€å°‘éœ€è¦1æ­¥ï¼Œå…¨éƒ¨ç§»åŠ¨è½¨è¿¹å¦‚ä¸‹ï¼š</span><br><span class="line">A --&gt; C</span><br></pre></td></tr></table></figure>

<h2 id="æµ‹è¯•2ï¼šn-2ï¼ˆåŸºç¡€æƒ…å†µï¼‰"><a href="#æµ‹è¯•2ï¼šn-2ï¼ˆåŸºç¡€æƒ…å†µï¼‰" class="headerlink" title="æµ‹è¯•2ï¼šn=2ï¼ˆåŸºç¡€æƒ…å†µï¼‰"></a>æµ‹è¯•2ï¼š<code>n=2</code>ï¼ˆåŸºç¡€æƒ…å†µï¼‰</h2><p><strong>é€’å½’è¿‡ç¨‹</strong>ï¼š</p>
<ol>
<li>å°†1ä¸ªç›˜å­ä»<code>A</code>ç§»åŠ¨åˆ°<code>B</code>ï¼ˆ<code>move(1, &#39;A&#39;, &#39;C&#39;, &#39;B&#39;)</code>ï¼‰ï¼›</li>
<li>å°†æœ€å¤§çš„ç›˜å­ä»<code>A</code>ç§»åŠ¨åˆ°<code>C</code>ï¼ˆæ‰“å°<code>A --&gt; C</code>ï¼‰ï¼›</li>
<li>å°†1ä¸ªç›˜å­ä»<code>B</code>ç§»åŠ¨åˆ°<code>C</code>ï¼ˆ<code>move(1, &#39;B&#39;, &#39;A&#39;, &#39;C&#39;)</code>ï¼‰ã€‚</li>
</ol>
<p><strong>è¾“å‡º</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®Œæˆ2ä¸ªç›˜å­çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œæœ€å°‘éœ€è¦3æ­¥ï¼Œå…¨éƒ¨ç§»åŠ¨è½¨è¿¹å¦‚ä¸‹ï¼š</span><br><span class="line">A --&gt; B</span><br><span class="line">A --&gt; C</span><br><span class="line">B --&gt; C</span><br></pre></td></tr></table></figure>

<h2 id="æµ‹è¯•3ï¼šn-3ï¼ˆéªŒè¯é€’å½’åˆ†è§£ï¼‰"><a href="#æµ‹è¯•3ï¼šn-3ï¼ˆéªŒè¯é€’å½’åˆ†è§£ï¼‰" class="headerlink" title="æµ‹è¯•3ï¼šn=3ï¼ˆéªŒè¯é€’å½’åˆ†è§£ï¼‰"></a>æµ‹è¯•3ï¼š<code>n=3</code>ï¼ˆéªŒè¯é€’å½’åˆ†è§£ï¼‰</h2><p><strong>è¾“å‡º</strong>ï¼ˆéƒ¨åˆ†æ­¥éª¤ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®Œæˆ3ä¸ªç›˜å­çš„æ±‰è¯ºå¡”é—®é¢˜ï¼Œæœ€å°‘éœ€è¦7æ­¥ï¼Œå…¨éƒ¨ç§»åŠ¨è½¨è¿¹å¦‚ä¸‹ï¼š</span><br><span class="line">A --&gt; C		A --&gt; B		C --&gt; B		A --&gt; C</span><br><span class="line">B --&gt; A		B --&gt; C		A --&gt; C</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®"><a href="#æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®" class="headerlink" title="æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®"></a>æ½œåœ¨é—®é¢˜ä¸æ”¹è¿›å»ºè®®</h1><h2 id="é—®é¢˜1ï¼šæœªå¤„ç†éæ³•è¾“å…¥ï¼ˆå¦‚nâ‰¤0ï¼‰"><a href="#é—®é¢˜1ï¼šæœªå¤„ç†éæ³•è¾“å…¥ï¼ˆå¦‚nâ‰¤0ï¼‰" class="headerlink" title="é—®é¢˜1ï¼šæœªå¤„ç†éæ³•è¾“å…¥ï¼ˆå¦‚nâ‰¤0ï¼‰"></a>é—®é¢˜1ï¼šæœªå¤„ç†éæ³•è¾“å…¥ï¼ˆå¦‚<code>nâ‰¤0</code>ï¼‰</h2><p>å½“å‰ä»£ç ä¸­<code>n</code>å›ºå®šä¸º5ï¼Œè‹¥ç”¨æˆ·è¾“å…¥<code>n=0</code>æˆ–è´Ÿæ•°ï¼Œ<code>steps</code>ä¼šè®¡ç®—ä¸º<code>0</code>æˆ–è´Ÿæ•°ï¼Œå¯¼è‡´é€»è¾‘é”™è¯¯ã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™æ·»åŠ è¾“å…¥éªŒè¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main() &#123;</span><br><span class="line">    int n;</span><br><span class="line">    printf(&quot;è¯·è¾“å…¥ç›˜å­æ•°é‡ï¼ˆnâ‰¥1ï¼‰ï¼š&quot;);</span><br><span class="line">    scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">    if (n &lt; 1) &#123;</span><br><span class="line">        printf(&quot;é”™è¯¯ï¼šç›˜å­æ•°é‡å¿…é¡»å¤§äº0ï¼\n&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    // åç»­ä»£ç ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜2ï¼šé€’å½’æ·±åº¦è¿‡å¤§å¯¼è‡´æ ˆæº¢å‡º"><a href="#é—®é¢˜2ï¼šé€’å½’æ·±åº¦è¿‡å¤§å¯¼è‡´æ ˆæº¢å‡º" class="headerlink" title="é—®é¢˜2ï¼šé€’å½’æ·±åº¦è¿‡å¤§å¯¼è‡´æ ˆæº¢å‡º"></a>é—®é¢˜2ï¼šé€’å½’æ·±åº¦è¿‡å¤§å¯¼è‡´æ ˆæº¢å‡º</h2><p>å½“<code>n</code>å¾ˆå¤§æ—¶ï¼ˆå¦‚<code>n=20</code>ï¼‰ï¼Œé€’å½’è°ƒç”¨æ¬¡æ•°ä¸º<code>2^20 - 1 â‰ˆ 100ä¸‡æ¬¡</code>ï¼Œå¯èƒ½è¶…å‡ºæ ˆç©ºé—´é™åˆ¶ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™,å¯¹äºå¤§<code>n</code>ï¼Œå¯æ”¹ç”¨è¿­ä»£æ³•ï¼ˆå¦‚åŸºäºæ ˆçš„æ¨¡æ‹Ÿé€’å½’ï¼‰ï¼Œæˆ–å¢åŠ ç¼–è¯‘å™¨æ ˆç©ºé—´ï¼ˆå¦‚GCCçš„<code>-Wl,--stack=268435456</code>é€‰é¡¹ï¼‰ã€‚</p>
<h2 id="é—®é¢˜3ï¼šè¾“å‡ºæ ¼å¼å¯ä¼˜åŒ–"><a href="#é—®é¢˜3ï¼šè¾“å‡ºæ ¼å¼å¯ä¼˜åŒ–" class="headerlink" title="é—®é¢˜3ï¼šè¾“å‡ºæ ¼å¼å¯ä¼˜åŒ–"></a>é—®é¢˜3ï¼šè¾“å‡ºæ ¼å¼å¯ä¼˜åŒ–</h2><p>å½“å‰è¾“å‡ºä»…æ‰“å°ç§»åŠ¨è·¯å¾„ï¼Œæœªæ˜ç¡®æ ‡æ³¨æ¯ä¸€æ­¥çš„ç›˜å­ç¼–å·ï¼ˆå¦‚â€œç§»åŠ¨ç¬¬3ä¸ªç›˜å­â€ï¼‰ã€‚</p>
<p><strong>æ”¹è¿›å»ºè®®</strong>ï¼šè¯»è€…å¤ç°çš„æ—¶å€™,åœ¨<code>printf</code>ä¸­æ·»åŠ ç›˜å­ç¼–å·ï¼ˆéœ€è·Ÿè¸ªå½“å‰ç§»åŠ¨çš„ç›˜å­å¤§å°ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ä¿®æ”¹moveå‡½æ•°ï¼Œå¢åŠ å½“å‰ç§»åŠ¨çš„ç›˜å­å¤§å°å‚æ•°</span><br><span class="line">void move(int n, char start, char sup, char target, int disk) &#123;</span><br><span class="line">    if (n == 1) &#123;</span><br><span class="line">        printf(&quot;ç§»åŠ¨ç›˜å­%dï¼š%c --&gt; %c\n&quot;, disk, start, target);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    move(n - 1, start, target, sup, n);  // ç§»åŠ¨n-1ä¸ªç›˜å­ï¼ˆæœ€å¤§çš„ç›˜å­æ˜¯nï¼‰</span><br><span class="line">    printf(&quot;ç§»åŠ¨ç›˜å­%dï¼š%c --&gt; %c\n&quot;, n, start, target);  // ç§»åŠ¨æœ€å¤§çš„ç›˜å­</span><br><span class="line">    move(n - 1, sup, start, target, n);  // ç§»åŠ¨n-1ä¸ªç›˜å­</span><br><span class="line">&#125;</span><br><span class="line">// è°ƒç”¨æ—¶ä¼ å…¥å½“å‰æœ€å¤§çš„ç›˜å­ç¼–å·ï¼ˆåˆå§‹ä¸ºnï¼‰</span><br><span class="line">move(n, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, n);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="æ€»ç»“ï¼šæ±‰è¯ºå¡”é—®é¢˜çš„æ ¸å¿ƒä»·å€¼"><a href="#æ€»ç»“ï¼šæ±‰è¯ºå¡”é—®é¢˜çš„æ ¸å¿ƒä»·å€¼" class="headerlink" title="æ€»ç»“ï¼šæ±‰è¯ºå¡”é—®é¢˜çš„æ ¸å¿ƒä»·å€¼"></a>æ€»ç»“ï¼šæ±‰è¯ºå¡”é—®é¢˜çš„æ ¸å¿ƒä»·å€¼</h2><p>æ±‰è¯ºå¡”é—®é¢˜ä¸ä»…æ˜¯é€’å½’ç®—æ³•çš„ç»å…¸æ¡ˆä¾‹ï¼Œæ›´æ˜¯ç†è§£åˆ†æ²»æ€æƒ³ï¼ˆå°†å¤§é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼‰çš„ç»ä½³è½½ä½“ã€‚é€šè¿‡æœ¬æ–‡çš„è§£æï¼Œæˆ‘ä»¬æŒæ¡äº†ï¼š</p>
<ul>
<li>é€’å½’è§£æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼ˆä¸‰æ­¥åˆ†è§£ç­–ç•¥ï¼‰ï¼›</li>
<li>æœ€å°‘æ­¥æ•°çš„æ•°å­¦æ¨å¯¼ï¼ˆ<code>2^n - 1</code>ï¼‰ï¼›</li>
<li>ä»£ç çš„æµ‹è¯•ä¸éªŒè¯æ–¹æ³•ï¼›</li>
<li>å¸¸è§é—®é¢˜çš„æ”¹è¿›æ–¹å‘ï¼ˆè¾“å…¥éªŒè¯ã€æ ˆæº¢å‡ºã€è¾“å‡ºä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›ç»éªŒå¯¹å­¦ä¹ å…¶ä»–é€’å½’ç®—æ³•ï¼ˆå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºï¼‰å…·æœ‰é‡è¦å‚è€ƒä»·å€¼ã€‚å®é™…å¼€å‘ä¸­ï¼Œå¯æ ¹æ®éœ€æ±‚æ‰©å±•åŠŸèƒ½ï¼ˆå¦‚è®°å½•ç§»åŠ¨æ—¶é—´ã€å¯è§†åŒ–åŠ¨ç”»ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡å¯¹ç®—æ³•çš„ç†è§£ã€‚</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ±‰è¯ºå¡”</tag>
        <tag>é€’å½’ç®—æ³•</tag>
        <tag>ç»å…¸é—®é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»åŸºç¡€åˆ°è¿›é˜¶ï¼šå¸¸è§æ’åºç®—æ³•çš„Cè¯­è¨€å®ç°ä¸æ·±åº¦è§£æ</title>
    <url>/posts/a444b428/</url>
    <content><![CDATA[<img src="/img/PageCode/14.png" alt="ä»åŸºç¡€åˆ°è¿›é˜¶ï¼šå¸¸è§æ’åºç®—æ³•çš„Cè¯­è¨€å®ç°ä¸æ·±åº¦è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>æ’åºç®—æ³•æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­æœ€åŸºç¡€ä¸”é‡è¦çš„ç®—æ³•ä¹‹ä¸€ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“æŸ¥è¯¢ã€æ—¥å¿—å¤„ç†ã€æ•°æ®ç»Ÿè®¡ç­‰åœºæ™¯ã€‚ç†è§£ä¸åŒæ’åºç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ã€æ—¶é—´å¤æ‚åº¦åŠé€‚ç”¨åœºæ™¯ï¼Œä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½åœ¨å®é™…å·¥ç¨‹ä¸­æ ¹æ®éœ€æ±‚é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆã€‚</p>
<p>æœ¬æ–‡å°†ä»¥Cè¯­è¨€å®ç°ä¸ºåˆ‡å…¥ç‚¹ï¼Œæ·±å…¥è§£æ<strong>æ’å…¥æ’åºã€å¸Œå°”æ’åºã€å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºï¼ˆåŒå‘ä¼˜åŒ–ï¼‰ã€å †æ’åº</strong>äº”å¤§ç»å…¸ç®—æ³•ï¼Œç»“åˆä»£ç é€è¡Œåˆ†æå…¶åº•å±‚é€»è¾‘ï¼Œå¹¶é€šè¿‡æµ‹è¯•ç”¨ä¾‹éªŒè¯æ­£ç¡®æ€§ã€‚æ–‡æœ«é™„å®Œæ•´å¯è¿è¡Œæºç ã€‚</p>
<hr>
<h2 id="ä¸€ã€æ’å…¥æ’åºï¼šä»â€œæ‘¸ç‰Œâ€åˆ°æœ‰åº"><a href="#ä¸€ã€æ’å…¥æ’åºï¼šä»â€œæ‘¸ç‰Œâ€åˆ°æœ‰åº" class="headerlink" title="ä¸€ã€æ’å…¥æ’åºï¼šä»â€œæ‘¸ç‰Œâ€åˆ°æœ‰åº"></a>ä¸€ã€æ’å…¥æ’åºï¼šä»â€œæ‘¸ç‰Œâ€åˆ°æœ‰åº</h2><h3 id="1-1-ç®—æ³•æ€æƒ³"><a href="#1-1-ç®—æ³•æ€æƒ³" class="headerlink" title="1.1 ç®—æ³•æ€æƒ³"></a>1.1 ç®—æ³•æ€æƒ³</h3><p>æ’å…¥æ’åºçš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>å°†æœªæ’åºå…ƒç´ é€ä¸ªæ’å…¥åˆ°å·²æ’åºåºåˆ—çš„æ­£ç¡®ä½ç½®</strong>ï¼Œç±»ä¼¼äºæ•´ç†æ‰‘å…‹ç‰Œçš„è¿‡ç¨‹ï¼šåˆå§‹æ—¶å·¦æ‰‹ä¸ºç©ºï¼ˆå·²æ’åºåºåˆ—ï¼‰ï¼Œæ¯æ¬¡ä»æ¡Œé¢ï¼ˆæœªæ’åºåºåˆ—ï¼‰å–ä¸€å¼ ç‰Œï¼Œæ’å…¥å·¦æ‰‹å·²æœ‰ç‰Œä¸­çš„æ­£ç¡®ä½ç½®ã€‚</p>
<h3 id="1-2-ä»£ç å®ç°ä¸è§£æ"><a href="#1-2-ä»£ç å®ç°ä¸è§£æ" class="headerlink" title="1.2 ä»£ç å®ç°ä¸è§£æ"></a>1.2 ä»£ç å®ç°ä¸è§£æ</h3><p>æ’å…¥æ’åºä»£ç å¦‚ä¸‹ï¼ˆå·²ä¿®æ­£æ³¨é‡Šæ ¼å¼ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void insertion_sort(int arr[], int len) &#123;</span><br><span class="line">    for (int i = 1; i &lt; len; i++) &#123;         // ä»ç¬¬2ä¸ªå…ƒç´ å¼€å§‹ï¼ˆç´¢å¼•1ï¼‰</span><br><span class="line">        if (arr[i] &lt; arr[i - 1]) &#123;          // è‹¥å½“å‰å…ƒç´ å°äºå‰ä¸€ä¸ªï¼ˆéœ€æ’å…¥ï¼‰</span><br><span class="line">            for (int j = i - 1; j &gt;= 0; j--) &#123; // ä»i-1å‘å‰éå†å·²æ’åºåºåˆ—</span><br><span class="line">                if (arr[i] &lt; arr[j]) &#123;        // æ‰¾åˆ°æ’å…¥ä½ç½®ï¼ˆarr[j] &gt; arr[i]ï¼‰</span><br><span class="line">                    SWAP(arr, i, j);          // äº¤æ¢iå’Œjä½ç½®çš„å…ƒç´ </span><br><span class="line">                    i = j;                    // ç»§ç»­å‘å‰æ£€æŸ¥ï¼ˆiæ›´æ–°ä¸ºjï¼‰</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    break;                    // æ‰¾åˆ°æ­£ç¡®ä½ç½®ï¼Œé€€å‡ºå¾ªç¯</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print_arr(arr, len);                  // æ‰“å°æ¯è½®æ’åºç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>å¤–å±‚å¾ªç¯</strong>ï¼š<code>i</code>ä»1å¼€å§‹ï¼Œä»£è¡¨å½“å‰å¾…æ’å…¥çš„å…ƒç´ ä½ç½®ï¼ˆå·²æ’åºåºåˆ—é•¿åº¦ä¸º<code>i</code>ï¼‰ã€‚</li>
<li><strong>å†…å±‚å¾ªç¯</strong>ï¼š<code>j</code>ä»<code>i-1</code>å‘å‰éå†ï¼Œæ¯”è¾ƒ<code>arr[i]</code>ä¸<code>arr[j]</code>ï¼Œè‹¥<code>arr[i]</code>æ›´å°åˆ™äº¤æ¢ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚ä½ç½®ã€‚</li>
<li><strong>ä¼˜åŒ–ç‚¹</strong>ï¼šé€šè¿‡â€œå‘åç§»åŠ¨â€è€Œéâ€œé€ä¸ªäº¤æ¢â€å‡å°‘èµ‹å€¼æ¬¡æ•°ï¼ˆç¤ºä¾‹ä»£ç ä¸­å®é™…ç”¨äº†äº¤æ¢ï¼Œå¯è¿›ä¸€æ­¥ä¼˜åŒ–ä¸ºç§»åŠ¨åæ’å…¥ï¼‰ã€‚</li>
</ul>
<h3 id="1-3-å¤æ‚åº¦åˆ†æ"><a href="#1-3-å¤æ‚åº¦åˆ†æ" class="headerlink" title="1.3 å¤æ‚åº¦åˆ†æ"></a>1.3 å¤æ‚åº¦åˆ†æ</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šæœ€å¥½æƒ…å†µï¼ˆå·²æ’åºï¼‰O(n)ï¼Œæœ€åæƒ…å†µï¼ˆé€†åºï¼‰O(nÂ²)ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼ˆåŸåœ°æ’åºï¼‰ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®šï¼ˆç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºä¸å˜ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äºŒã€å¸Œå°”æ’åºï¼šæ’å…¥æ’åºçš„â€œåˆ†ç»„ä¼˜åŒ–â€"><a href="#äºŒã€å¸Œå°”æ’åºï¼šæ’å…¥æ’åºçš„â€œåˆ†ç»„ä¼˜åŒ–â€" class="headerlink" title="äºŒã€å¸Œå°”æ’åºï¼šæ’å…¥æ’åºçš„â€œåˆ†ç»„ä¼˜åŒ–â€"></a>äºŒã€å¸Œå°”æ’åºï¼šæ’å…¥æ’åºçš„â€œåˆ†ç»„ä¼˜åŒ–â€</h2><h3 id="2-1-ç®—æ³•æ€æƒ³"><a href="#2-1-ç®—æ³•æ€æƒ³" class="headerlink" title="2.1 ç®—æ³•æ€æƒ³"></a>2.1 ç®—æ³•æ€æƒ³</h3><p>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„æ”¹è¿›ç‰ˆï¼Œé€šè¿‡<strong>å°†æ•°ç»„åˆ†æˆå¤šä¸ªå­åºåˆ—ï¼ˆé—´éš”ä¸º<code>gap</code>ï¼‰</strong>ï¼Œå¯¹æ¯ä¸ªå­åºåˆ—è¿›è¡Œæ’å…¥æ’åºï¼Œé€æ­¥ç¼©å°<code>gap</code>ç›´è‡³ä¸º1ï¼ˆæ­¤æ—¶é€€åŒ–ä¸ºæ™®é€šæ’å…¥æ’åºï¼‰ã€‚ç”±äºåˆå§‹<code>gap</code>è¾ƒå¤§ï¼Œå¯å¤§å¹…å‡å°‘é€†åºå¯¹ï¼Œæå‡æ•ˆç‡ã€‚</p>
<h3 id="2-2-ä»£ç å®ç°ä¸è§£æ"><a href="#2-2-ä»£ç å®ç°ä¸è§£æ" class="headerlink" title="2.2 ä»£ç å®ç°ä¸è§£æ"></a>2.2 ä»£ç å®ç°ä¸è§£æ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void shell_sort(int arr[], int n) &#123;</span><br><span class="line">    int gap = n &gt;&gt; 1;  // åˆå§‹é—´éš”ä¸ºæ•°ç»„é•¿åº¦çš„ä¸€åŠï¼ˆn/2ï¼‰</span><br><span class="line">    while (gap &gt; 0) &#123;  // é—´éš”é€’å‡è‡³0æ—¶ç»“æŸ</span><br><span class="line">        for (int i = gap; i &lt; n; i += gap) &#123;  // éå†æ¯ä¸ªå­åºåˆ—çš„èµ·å§‹ä½ç½®</span><br><span class="line">            if (arr[i] &lt; arr[i - gap]) &#123;       // è‹¥å½“å‰å…ƒç´ å°äºåŒå­åºåˆ—å‰ä¸€ä¸ªå…ƒç´ </span><br><span class="line">                for (int j = i - gap; j &gt;= 0; j -= gap) &#123;  // å‘å‰éå†å­åºåˆ—</span><br><span class="line">                    if (arr[i] &lt; arr[j]) &#123;     // æ‰¾åˆ°æ’å…¥ä½ç½®</span><br><span class="line">                        SWAP(arr, i, j);       // äº¤æ¢å…ƒç´ </span><br><span class="line">                        i = j;                 // ç»§ç»­å‘å‰æ£€æŸ¥</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        break;                 // æ‰¾åˆ°æ­£ç¡®ä½ç½®ï¼Œé€€å‡ºå¾ªç¯</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print_arr(arr, n);  // æ‰“å°æ¯è½®æ’åºç»“æœ</span><br><span class="line">        gap = gap &gt;&gt; 1;     // é—´éš”å‡åŠï¼ˆn/4, n/8...ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>é—´éš”åºåˆ—</strong>ï¼šç¤ºä¾‹ä¸­ä½¿ç”¨<code>gap = n/2 â†’ n/4 â†’ ... â†’ 1</code>ï¼Œè¿™æ˜¯æœ€ç»å…¸çš„é—´éš”åºåˆ—ï¼Œä½†å­˜åœ¨ä¼˜åŒ–ç©ºé—´ï¼ˆå¦‚Hibbardåºåˆ—ï¼‰ã€‚</li>
<li><strong>å­åºåˆ—åˆ’åˆ†</strong>ï¼šæ¯ä¸ªå­åºåˆ—ç”±é—´éš”<code>gap</code>çš„å…ƒç´ ç»„æˆï¼ˆå¦‚<code>gap=2</code>æ—¶ï¼Œå­åºåˆ—ä¸º<code>arr[0], arr[2], arr[4]...</code>å’Œ<code>arr[1], arr[3], arr[5]...</code>ï¼‰ã€‚</li>
</ul>
<h3 id="2-3-å¤æ‚åº¦åˆ†æ"><a href="#2-3-å¤æ‚åº¦åˆ†æ" class="headerlink" title="2.3 å¤æ‚åº¦åˆ†æ"></a>2.3 å¤æ‚åº¦åˆ†æ</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå–å†³äºé—´éš”åºåˆ—ï¼Œç»å…¸åºåˆ—ä¸‹å¹³å‡O(nÂ¹Â·Â³)ï¼Œæœ€åO(nÂ²)ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼ˆåŸåœ°æ’åºï¼‰ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®šï¼ˆä¸åŒå­åºåˆ—çš„å…ƒç´ å¯èƒ½äº¤æ¢é¡ºåºï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="ä¸‰ã€å½’å¹¶æ’åºï¼šåˆ†æ²»æ€æƒ³çš„å…¸èŒƒ"><a href="#ä¸‰ã€å½’å¹¶æ’åºï¼šåˆ†æ²»æ€æƒ³çš„å…¸èŒƒ" class="headerlink" title="ä¸‰ã€å½’å¹¶æ’åºï¼šåˆ†æ²»æ€æƒ³çš„å…¸èŒƒ"></a>ä¸‰ã€å½’å¹¶æ’åºï¼šåˆ†æ²»æ€æƒ³çš„å…¸èŒƒ</h2><h3 id="3-1-ç®—æ³•æ€æƒ³"><a href="#3-1-ç®—æ³•æ€æƒ³" class="headerlink" title="3.1 ç®—æ³•æ€æƒ³"></a>3.1 ç®—æ³•æ€æƒ³</h3><p>å½’å¹¶æ’åºåŸºäº**åˆ†æ²»ï¼ˆDivide and Conquerï¼‰**ç­–ç•¥ï¼Œæ ¸å¿ƒæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li><strong>åˆ†å‰²ï¼ˆDivideï¼‰</strong>ï¼šå°†æ•°ç»„é€’å½’åˆ’åˆ†ä¸ºä¸¤åŠï¼Œç›´åˆ°å­æ•°ç»„é•¿åº¦ä¸º1ï¼ˆå¤©ç„¶æœ‰åºï¼‰ã€‚</li>
<li><strong>åˆå¹¶ï¼ˆMergeï¼‰</strong>ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºå­æ•°ç»„ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œé€šè¿‡ä¸´æ—¶æ•°ç»„æš‚å­˜ç»“æœï¼Œé¿å…è¦†ç›–åŸæ•°æ®ã€‚</li>
</ol>
<h3 id="3-2-ä»£ç å®ç°ä¸è§£æ"><a href="#3-2-ä»£ç å®ç°ä¸è§£æ" class="headerlink" title="3.2 ä»£ç å®ç°ä¸è§£æ"></a>3.2 ä»£ç å®ç°ä¸è§£æ</h3><p>ç”¨æˆ·æä¾›çš„å½’å¹¶æ’åºä»£ç ï¼ˆå«ä¸´æ—¶æ•°ç»„ä¼˜åŒ–ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åˆå¹¶ä¸¤ä¸ªæœ‰åºå­æ•°ç»„ [left, mid] å’Œ [mid+1, right]</span><br><span class="line">void merge(int arr[], int left, int mid, int right, int *tmp) &#123;</span><br><span class="line">    int i = left, j = mid + 1, k = left;  // å·¦å­æ•°ç»„ã€å³å­æ•°ç»„ã€ä¸´æ—¶æ•°ç»„æŒ‡é’ˆ</span><br><span class="line">    // åˆå¹¶å·¦å³å­æ•°ç»„åˆ°ä¸´æ—¶æ•°ç»„ï¼ˆç›´åˆ°å…¶ä¸­ä¸€ä¸ªéå†å®Œæ¯•ï¼‰</span><br><span class="line">    while (i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">        if (arr[i] &lt;= arr[j]) tmp[k++] = arr[i++];  // å·¦æ›´å°ï¼Œä¼˜å…ˆæ”¾å…¥</span><br><span class="line">        else tmp[k++] = arr[j++];                   // å³æ›´å°ï¼Œä¼˜å…ˆæ”¾å…¥</span><br><span class="line">    &#125;</span><br><span class="line">    // å¤„ç†å·¦å­æ•°ç»„å‰©ä½™å…ƒç´ </span><br><span class="line">    while (i &lt;= mid) tmp[k++] = arr[i++];</span><br><span class="line">    // å¤„ç†å³å­æ•°ç»„å‰©ä½™å…ƒç´ </span><br><span class="line">    while (j &lt;= right) tmp[k++] = arr[j++];</span><br><span class="line">    // ä¸´æ—¶æ•°ç»„å†…å®¹å¤åˆ¶å›åŸæ•°ç»„</span><br><span class="line">    for (i = left; i &lt;= right; i++) arr[i] = tmp[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ†æ²»é€’å½’å‡½æ•°</span><br><span class="line">void divide_merge(int arr[], int left, int right, int *tmp) &#123;</span><br><span class="line">    if (left &gt;= right) return;  // é€’å½’ç»ˆæ­¢ï¼ˆå­æ•°ç»„é•¿åº¦â‰¤1ï¼‰</span><br><span class="line">    int mid = left + (right - left) / 2;  // è®¡ç®—ä¸­ç‚¹ï¼ˆé˜²æº¢å‡ºï¼‰</span><br><span class="line">    divide_merge(arr, left, mid, tmp);      // æ’åºå·¦åŠéƒ¨åˆ†</span><br><span class="line">    divide_merge(arr, mid + 1, right, tmp); // æ’åºå³åŠéƒ¨åˆ†</span><br><span class="line">    merge(arr, left, mid, right, tmp);      // åˆå¹¶å·¦å³æœ‰åºå­æ•°ç»„</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å½’å¹¶æ’åºå…¥å£å‡½æ•°</span><br><span class="line">void merge_sort(int arr[], int len) &#123;</span><br><span class="line">    int *tmp = (int *)calloc(len, sizeof(int));  // åˆ†é…ä¸´æ—¶æ•°ç»„</span><br><span class="line">    if (!tmp) &#123; printf(&quot;Memory allocation failed!</span><br><span class="line">&quot;); return; &#125;</span><br><span class="line">    divide_merge(arr, 0, len - 1, tmp);  // åˆ†æ²»æ’åº</span><br><span class="line">    free(tmp);                           // é‡Šæ”¾ä¸´æ—¶æ•°ç»„</span><br><span class="line">    print_arr(arr, len);                 // è¾“å‡ºæœ€ç»ˆç»“æœ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>ä¸´æ—¶æ•°ç»„</strong>ï¼šç”¨äºæš‚å­˜åˆå¹¶ç»“æœï¼Œé¿å…ç›´æ¥è¦†ç›–åŸæ•°ç»„å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</li>
<li><strong>ä¸­ç‚¹è®¡ç®—</strong>ï¼š<code>mid = left + (right - left)/2</code> é¿å…<code>left + right</code>å¯èƒ½æº¢å‡ºã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šåˆå¹¶æ—¶è‹¥å·¦å³å…ƒç´ ç›¸ç­‰ï¼ˆ<code>arr[i] &lt;= arr[j]</code>ï¼‰ï¼Œä¼˜å…ˆé€‰æ‹©å·¦å­æ•°ç»„å…ƒç´ ï¼Œä¿è¯ç¨³å®šæ€§ã€‚</li>
</ul>
<h3 id="3-3-å¤æ‚åº¦åˆ†æ"><a href="#3-3-å¤æ‚åº¦åˆ†æ" class="headerlink" title="3.3 å¤æ‚åº¦åˆ†æ"></a>3.3 å¤æ‚åº¦åˆ†æ</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå§‹ç»ˆO(n log n)ï¼ˆåˆ†å‰²O(log n)å±‚ï¼Œæ¯å±‚åˆå¹¶O(n)ï¼‰ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼ˆéœ€è¦é¢å¤–ä¸´æ—¶æ•°ç»„ï¼‰ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šç¨³å®šï¼ˆç›¸ç­‰å…ƒç´ é¡ºåºä¸å˜ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="å››ã€å¿«é€Ÿæ’åºï¼šåˆ†æ²»çš„â€œé«˜æ•ˆç‹è€…â€"><a href="#å››ã€å¿«é€Ÿæ’åºï¼šåˆ†æ²»çš„â€œé«˜æ•ˆç‹è€…â€" class="headerlink" title="å››ã€å¿«é€Ÿæ’åºï¼šåˆ†æ²»çš„â€œé«˜æ•ˆç‹è€…â€"></a>å››ã€å¿«é€Ÿæ’åºï¼šåˆ†æ²»çš„â€œé«˜æ•ˆç‹è€…â€</h2><h3 id="4-1-ç®—æ³•æ€æƒ³"><a href="#4-1-ç®—æ³•æ€æƒ³" class="headerlink" title="4.1 ç®—æ³•æ€æƒ³"></a>4.1 ç®—æ³•æ€æƒ³</h3><p>å¿«é€Ÿæ’åºåŒæ ·åŸºäºåˆ†æ²»ç­–ç•¥ï¼Œæ ¸å¿ƒæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li><strong>é€‰æ‹©åŸºå‡†ï¼ˆPivotï¼‰</strong>ï¼šä»æ•°ç»„ä¸­é€‰å–ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å€¼ã€‚</li>
<li><strong>åˆ†åŒºï¼ˆPartitionï¼‰</strong>ï¼šå°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹å…ƒç´ â‰¤åŸºå‡†ï¼Œå³è¾¹å…ƒç´ â‰¥åŸºå‡†ã€‚</li>
<li><strong>é€’å½’æ’åº</strong>ï¼šå¯¹å·¦å³å­æ•°ç»„é€’å½’æ‰§è¡Œä¸Šè¿°æ­¥éª¤ã€‚</li>
</ol>
<h3 id="4-2-ä»£ç å®ç°ä¸è§£æï¼ˆå•å‘åˆ†åŒº-vs-åŒå‘åˆ†åŒºï¼‰"><a href="#4-2-ä»£ç å®ç°ä¸è§£æï¼ˆå•å‘åˆ†åŒº-vs-åŒå‘åˆ†åŒºï¼‰" class="headerlink" title="4.2 ä»£ç å®ç°ä¸è§£æï¼ˆå•å‘åˆ†åŒº vs åŒå‘åˆ†åŒºï¼‰"></a>4.2 ä»£ç å®ç°ä¸è§£æï¼ˆå•å‘åˆ†åŒº vs åŒå‘åˆ†åŒºï¼‰</h3><h4 id="4-2-1-å•å‘åˆ†åŒºï¼ˆLomutoåˆ†åŒºï¼‰"><a href="#4-2-1-å•å‘åˆ†åŒºï¼ˆLomutoåˆ†åŒºï¼‰" class="headerlink" title="4.2.1 å•å‘åˆ†åŒºï¼ˆLomutoåˆ†åŒºï¼‰"></a>4.2.1 å•å‘åˆ†åŒºï¼ˆLomutoåˆ†åŒºï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void quick_sort_one_way(int arr[], int low, int high) &#123;</span><br><span class="line">    if (low &gt;= high) return;  // é€’å½’ç»ˆæ­¢</span><br><span class="line">    int pivot = arr[high];    // é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†</span><br><span class="line">    int i = low - 1;          // è®°å½•å°äºåŸºå‡†çš„å³è¾¹ç•Œ</span><br><span class="line">    // éå†æ•°ç»„ï¼Œå°†å°äºåŸºå‡†çš„å…ƒç´ ç§»åˆ°å·¦è¾¹</span><br><span class="line">    for (int j = low; j &lt; high; j++) &#123;</span><br><span class="line">        if (arr[j] &lt; pivot) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            SWAP(arr, i, j);  // äº¤æ¢iå’Œjä½ç½®å…ƒç´ </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // å°†åŸºå‡†æ”¾åˆ°æ­£ç¡®ä½ç½®ï¼ˆi+1ï¼‰</span><br><span class="line">    SWAP(arr, i + 1, high);</span><br><span class="line">    // é€’å½’æ’åºå·¦å³å­æ•°ç»„</span><br><span class="line">    quick_sort_one_way(arr, low, i);      // å·¦åŠéƒ¨åˆ†ï¼ˆâ‰¤åŸºå‡†ï¼‰</span><br><span class="line">    quick_sort_one_way(arr, i + 2, high); // å³åŠéƒ¨åˆ†ï¼ˆâ‰¥åŸºå‡†ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>åŸºå‡†é€‰æ‹©</strong>ï¼šç¤ºä¾‹é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¯èƒ½å¯¼è‡´æœ€åæƒ…å†µï¼ˆå¦‚å·²æ’åºæ•°ç»„ï¼‰æ—¶é—´å¤æ‚åº¦é€€åŒ–ä¸ºO(nÂ²)ã€‚</li>
<li><strong>åˆ†åŒºé€»è¾‘</strong>ï¼šé€šè¿‡<code>i</code>è®°å½•å°äºåŸºå‡†çš„å³è¾¹ç•Œï¼Œéå†ç»“æŸåå°†åŸºå‡†äº¤æ¢åˆ°<code>i+1</code>ä½ç½®ï¼Œæ­¤æ—¶å·¦è¾¹å…¨â‰¤åŸºå‡†ï¼Œå³è¾¹å…¨â‰¥åŸºå‡†ã€‚</li>
</ul>
<h4 id="4-2-2-åŒå‘åˆ†åŒºï¼ˆHoareåˆ†åŒºï¼Œä¼˜åŒ–ç‰ˆï¼‰"><a href="#4-2-2-åŒå‘åˆ†åŒºï¼ˆHoareåˆ†åŒºï¼Œä¼˜åŒ–ç‰ˆï¼‰" class="headerlink" title="4.2.2 åŒå‘åˆ†åŒºï¼ˆHoareåˆ†åŒºï¼Œä¼˜åŒ–ç‰ˆï¼‰"></a>4.2.2 åŒå‘åˆ†åŒºï¼ˆHoareåˆ†åŒºï¼Œä¼˜åŒ–ç‰ˆï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void quick_sort_two_way(int arr[], int low, int high) &#123;</span><br><span class="line">    if (low &gt;= high) return;</span><br><span class="line">    int pivot = arr[(low + high) / 2];  // é€‰æ‹©ä¸­é—´å…ƒç´ ä½œä¸ºåŸºå‡†ï¼ˆé˜²æç«¯æƒ…å†µï¼‰</span><br><span class="line">    int left = low - 1, right = high + 1; // å·¦å³æŒ‡é’ˆï¼ˆåˆå§‹åœ¨è¾¹ç•Œå¤–ï¼‰</span><br><span class="line">    while (1) &#123;</span><br><span class="line">        // å·¦æŒ‡é’ˆå³ç§»ï¼Œæ‰¾â‰¥åŸºå‡†çš„å…ƒç´ </span><br><span class="line">        do &#123; left++; &#125; while (arr[left] &lt; pivot);</span><br><span class="line">        // å³æŒ‡é’ˆå·¦ç§»ï¼Œæ‰¾â‰¤åŸºå‡†çš„å…ƒç´ </span><br><span class="line">        do &#123; right--; &#125; while (arr[right] &gt; pivot);</span><br><span class="line">        // æŒ‡é’ˆç›¸é‡æˆ–äº¤å‰ï¼Œç»“æŸåˆ†åŒº</span><br><span class="line">        if (left &gt;= right) break;</span><br><span class="line">        SWAP(arr, left, right);  // äº¤æ¢å·¦å³å…ƒç´ </span><br><span class="line">    &#125;</span><br><span class="line">    // é€’å½’æ’åºå·¦å³å­æ•°ç»„ï¼ˆrightä¸ºåˆ†åŒºç‚¹ï¼‰</span><br><span class="line">    quick_sort_two_way(arr, low, right);</span><br><span class="line">    quick_sort_two_way(arr, right + 1, high);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜åŒ–ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>åŸºå‡†é€‰æ‹©</strong>ï¼šä¸­é—´å…ƒç´ é¿å…å·²æ’åºæ•°ç»„çš„æœ€åæƒ…å†µã€‚</li>
<li><strong>åŒå‘æ‰«æ</strong>ï¼šå·¦å³æŒ‡é’ˆåŒæ—¶ç§»åŠ¨ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæå‡æ•ˆç‡ã€‚</li>
</ul>
<h3 id="4-3-å¤æ‚åº¦åˆ†æ"><a href="#4-3-å¤æ‚åº¦åˆ†æ" class="headerlink" title="4.3 å¤æ‚åº¦åˆ†æ"></a>4.3 å¤æ‚åº¦åˆ†æ</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå¹³å‡O(n log n)ï¼Œæœ€åO(nÂ²)ï¼ˆå¯é€šè¿‡éšæœºé€‰æ‹©åŸºå‡†é¿å…ï¼‰ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(log n)ï¼ˆé€’å½’æ ˆç©ºé—´ï¼‰ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®šï¼ˆåˆ†åŒºæ—¶å¯èƒ½äº¤æ¢ç›¸ç­‰å…ƒç´ é¡ºåºï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äº”ã€å †æ’åºï¼šåˆ©ç”¨å †ç»“æ„çš„åŸåœ°æ’åº"><a href="#äº”ã€å †æ’åºï¼šåˆ©ç”¨å †ç»“æ„çš„åŸåœ°æ’åº" class="headerlink" title="äº”ã€å †æ’åºï¼šåˆ©ç”¨å †ç»“æ„çš„åŸåœ°æ’åº"></a>äº”ã€å †æ’åºï¼šåˆ©ç”¨å †ç»“æ„çš„åŸåœ°æ’åº</h2><h3 id="5-1-ç®—æ³•æ€æƒ³"><a href="#5-1-ç®—æ³•æ€æƒ³" class="headerlink" title="5.1 ç®—æ³•æ€æƒ³"></a>5.1 ç®—æ³•æ€æƒ³</h3><p>å †æ’åºåŸºäº**å †ï¼ˆHeapï¼‰**æ•°æ®ç»“æ„ï¼ˆæœ¬æ–‡ä¸ºå¤§æ ¹å †ï¼‰ï¼Œæ ¸å¿ƒæ­¥éª¤ä¸ºï¼š</p>
<ol>
<li><strong>æ„å»ºå †</strong>ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºå¤§æ ¹å †ï¼ˆçˆ¶èŠ‚ç‚¹â‰¥å­èŠ‚ç‚¹ï¼‰ã€‚</li>
<li><strong>äº¤æ¢å †é¡¶</strong>ï¼šå°†å †é¡¶å…ƒç´ ï¼ˆæœ€å¤§å€¼ï¼‰ä¸å †å°¾å…ƒç´ äº¤æ¢ï¼Œå †å¤§å°å‡1ã€‚</li>
<li><strong>è°ƒæ•´å †</strong>ï¼šå¯¹æ–°çš„å †é¡¶å…ƒç´ è¿›è¡Œâ€œå †åŒ–ï¼ˆHeapifyï¼‰â€ï¼Œæ¢å¤å¤§æ ¹å †æ€§è´¨ã€‚</li>
<li><strong>é‡å¤æ­¥éª¤2-3</strong>ï¼šç›´åˆ°å †å¤§å°ä¸º1ï¼Œæ­¤æ—¶æ•°ç»„å®Œå…¨æœ‰åºã€‚</li>
</ol>
<h3 id="5-2-ä»£ç å®ç°ä¸è§£æ"><a href="#5-2-ä»£ç å®ç°ä¸è§£æ" class="headerlink" title="5.2 ä»£ç å®ç°ä¸è§£æ"></a>5.2 ä»£ç å®ç°ä¸è§£æ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å †åŒ–å‡½æ•°ï¼ˆå¤§æ ¹å †ï¼‰</span><br><span class="line">void heapify(int arr[], int root, int tree_size) &#123;</span><br><span class="line">    while (1) &#123;</span><br><span class="line">        int left = 2 * root + 1;   // å·¦å­èŠ‚ç‚¹ç´¢å¼•</span><br><span class="line">        int right = 2 * root + 2;  // å³å­èŠ‚ç‚¹ç´¢å¼•</span><br><span class="line">        int largest = root;        // è®°å½•æœ€å¤§èŠ‚ç‚¹ç´¢å¼•ï¼ˆåˆå§‹ä¸ºæ ¹ï¼‰</span><br><span class="line"></span><br><span class="line">        // æ¯”è¾ƒå·¦å­èŠ‚ç‚¹ï¼ˆè‹¥å­˜åœ¨ä¸”æ›´å¤§ï¼‰</span><br><span class="line">        if (left &lt; tree_size &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = left;</span><br><span class="line">        &#125;</span><br><span class="line">        // æ¯”è¾ƒå³å­èŠ‚ç‚¹ï¼ˆè‹¥å­˜åœ¨ä¸”æ›´å¤§ï¼‰</span><br><span class="line">        if (right &lt; tree_size &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class="line">            largest = right;</span><br><span class="line">        &#125;</span><br><span class="line">        // è‹¥æœ€å¤§èŠ‚ç‚¹ä¸æ˜¯æ ¹ï¼Œäº¤æ¢å¹¶ç»§ç»­å †åŒ–</span><br><span class="line">        if (largest != root) &#123;</span><br><span class="line">            SWAP(arr, root, largest);</span><br><span class="line">            root = largest;  // ç»§ç»­æ£€æŸ¥å­æ ‘</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            break;  // å·²æ»¡è¶³å¤§æ ¹å †æ€§è´¨ï¼Œé€€å‡ºå¾ªç¯</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void heap_sort(int arr[], int len) &#123;</span><br><span class="line">    // æ­¥éª¤1ï¼šæ„å»ºå¤§æ ¹å †ï¼ˆä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼‰</span><br><span class="line">    for (int i = len / 2 - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        heapify(arr, i, len);</span><br><span class="line">    &#125;</span><br><span class="line">    // æ­¥éª¤2ï¼šäº¤æ¢å †é¡¶ä¸å †å°¾ï¼Œè°ƒæ•´å †</span><br><span class="line">    for (int i = len - 1; i &gt; 0; i--) &#123;</span><br><span class="line">        SWAP(arr, 0, i);        // äº¤æ¢å †é¡¶ï¼ˆæœ€å¤§å€¼ï¼‰ä¸å †å°¾</span><br><span class="line">        heapify(arr, 0, i);     // è°ƒæ•´å †ï¼ˆå¤§å°å‡1ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">    print_arr(arr, len);  // è¾“å‡ºæ’åºç»“æœ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>å †çš„æ„å»º</strong>ï¼šä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼ˆç´¢å¼•<code>len/2 - 1</code>ï¼‰å¼€å§‹å‘å‰éå†ï¼Œç¡®ä¿æ¯ä¸ªå­æ ‘éƒ½æ˜¯å¤§æ ¹å †ã€‚</li>
<li><strong>å †åŒ–è¿‡ç¨‹</strong>ï¼šé€šè¿‡å¾ªç¯æ¯”è¾ƒæ ¹ä¸å­èŠ‚ç‚¹ï¼Œå°†æœ€å¤§å€¼â€œä¸‹æ²‰â€åˆ°æ­£ç¡®ä½ç½®ï¼Œä¿è¯å †æ€§è´¨ã€‚</li>
</ul>
<h3 id="5-3-å¤æ‚åº¦åˆ†æ"><a href="#5-3-å¤æ‚åº¦åˆ†æ" class="headerlink" title="5.3 å¤æ‚åº¦åˆ†æ"></a>5.3 å¤æ‚åº¦åˆ†æ</h3><ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šå§‹ç»ˆO(n log n)ï¼ˆæ„å»ºå †O(n)ï¼Œè°ƒæ•´å †O(n log n)ï¼‰ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼ˆåŸåœ°æ’åºï¼‰ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šä¸ç¨³å®šï¼ˆå †è°ƒæ•´å¯èƒ½ç ´åç›¸ç­‰å…ƒç´ é¡ºåºï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="å…­ã€æµ‹è¯•éªŒè¯ä¸ç»“æœå¯¹æ¯”"><a href="#å…­ã€æµ‹è¯•éªŒè¯ä¸ç»“æœå¯¹æ¯”" class="headerlink" title="å…­ã€æµ‹è¯•éªŒè¯ä¸ç»“æœå¯¹æ¯”"></a>å…­ã€æµ‹è¯•éªŒè¯ä¸ç»“æœå¯¹æ¯”</h2><h3 id="6-1-æµ‹è¯•ç”¨ä¾‹"><a href="#6-1-æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="6.1 æµ‹è¯•ç”¨ä¾‹"></a>6.1 æµ‹è¯•ç”¨ä¾‹</h3><p>ä½¿ç”¨ä¸»å‡½æ•°æµ‹è¯•å„æ’åºç®—æ³•ï¼ˆä¿®æ­£åä¸»å‡½æ•°ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    int arr_insert[] = &#123;1, 21, 45, 231, 99, 2, 18, 7, 4, 9&#125;;</span><br><span class="line">    int len = sizeof(arr_insert) / sizeof(arr_insert[0]);</span><br><span class="line">    printf(&quot;æ’å…¥æ’åºå‰: &quot;);</span><br><span class="line">    print_arr(arr_insert, len);</span><br><span class="line">    insertion_sort(arr_insert, len);</span><br><span class="line">    printf(&quot;æ’å…¥æ’åºå: &quot;);</span><br><span class="line">    print_arr(arr_insert, len);</span><br><span class="line"></span><br><span class="line">    // ç±»ä¼¼åœ°æ·»åŠ å¸Œå°”ã€å½’å¹¶ã€å¿«é€Ÿã€å †æ’åºçš„æµ‹è¯•ä»£ç ...</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-2-é¢„æœŸè¾“å‡º"><a href="#6-2-é¢„æœŸè¾“å‡º" class="headerlink" title="6.2 é¢„æœŸè¾“å‡º"></a>6.2 é¢„æœŸè¾“å‡º</h3><p>æ’å…¥æ’åºæ¯è½®è¾“å‡ºé€æ­¥æ¥è¿‘æœ‰åºï¼Œæœ€ç»ˆç»“æœä¸º<code>[1, 2, 4, 7, 9, 18, 21, 45, 99, 231]</code>ã€‚å…¶ä»–æ’åºç®—æ³•æœ€ç»ˆå‡åº”è¾“å‡ºæœ‰åºæ•°ç»„ã€‚</p>
<hr>
<h2 id="ä¸ƒã€æ€»ç»“ä¸é€‰æ‹©å»ºè®®"><a href="#ä¸ƒã€æ€»ç»“ä¸é€‰æ‹©å»ºè®®" class="headerlink" title="ä¸ƒã€æ€»ç»“ä¸é€‰æ‹©å»ºè®®"></a>ä¸ƒã€æ€»ç»“ä¸é€‰æ‹©å»ºè®®</h2><table>
<thead>
<tr>
<th>ç®—æ³•</th>
<th>æ—¶é—´å¤æ‚åº¦ï¼ˆå¹³å‡ï¼‰</th>
<th>æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€åï¼‰</th>
<th>ç©ºé—´å¤æ‚åº¦</th>
<th>ç¨³å®šæ€§</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td>æ’å…¥æ’åº</td>
<td>O(n)</td>
<td>O(nÂ²)</td>
<td>O(1)</td>
<td>ç¨³å®š</td>
<td>å°è§„æ¨¡&#x2F;åŸºæœ¬æœ‰åºæ•°æ®</td>
</tr>
<tr>
<td>å¸Œå°”æ’åº</td>
<td>O(nÂ¹Â·Â³)</td>
<td>O(nÂ²)</td>
<td>O(1)</td>
<td>ä¸ç¨³å®š</td>
<td>ä¸­ç­‰è§„æ¨¡æ•°æ®ï¼ˆä¼˜äºæ’å…¥æ’åºï¼‰</td>
</tr>
<tr>
<td>å½’å¹¶æ’åº</td>
<td>O(n log n)</td>
<td>O(n log n)</td>
<td>O(n)</td>
<td>ç¨³å®š</td>
<td>å¤§è§„æ¨¡æ•°æ®&#x2F;éœ€ç¨³å®šæ€§</td>
</tr>
<tr>
<td>å¿«é€Ÿæ’åº</td>
<td>O(n log n)</td>
<td>O(nÂ²)</td>
<td>O(log n)</td>
<td>ä¸ç¨³å®š</td>
<td>å¤§è§„æ¨¡æ•°æ®ï¼ˆå†…å­˜æ•æ„Ÿï¼‰</td>
</tr>
<tr>
<td>å †æ’åº</td>
<td>O(n log n)</td>
<td>O(n log n)</td>
<td>O(1)</td>
<td>ä¸ç¨³å®š</td>
<td>å¤§è§„æ¨¡æ•°æ®ï¼ˆå†…å­˜ä¸¥æ ¼å—é™ï¼‰</td>
</tr>
</tbody></table>
<p><strong>ä¸ªäººå»ºè®®</strong>ï¼š</p>
<ul>
<li>æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨è¯­è¨€æ ‡å‡†åº“çš„æ’åºå‡½æ•°ï¼ˆå¦‚Cçš„<code>qsort</code>ï¼‰ï¼Œå…¶å†…éƒ¨å·²ä¼˜åŒ–ã€‚</li>
<li>å­¦ä¹ æ’åºç®—æ³•çš„æ ¸å¿ƒæ˜¯ç†è§£å…¶æ€æƒ³ï¼ˆå¦‚åˆ†æ²»ã€å †æ€§è´¨ï¼‰ï¼Œè€Œéæ­»è®°ç¡¬èƒŒä»£ç ã€‚</li>
<li>é¢è¯•ä¸­å¸¸è€ƒå¿«é€Ÿæ’åºçš„åˆ†åŒºé€»è¾‘ã€å½’å¹¶æ’åºçš„ç©ºé—´ä¼˜åŒ–ï¼Œéœ€é‡ç‚¹æŒæ¡ã€‚</li>
</ul>
<hr>
<h2 id="æºç é™„å½•ï¼ˆå®Œæ•´å¯è¿è¡Œï¼‰"><a href="#æºç é™„å½•ï¼ˆå®Œæ•´å¯è¿è¡Œï¼‰" class="headerlink" title="æºç é™„å½•ï¼ˆå®Œæ•´å¯è¿è¡Œï¼‰"></a>æºç é™„å½•ï¼ˆå®Œæ•´å¯è¿è¡Œï¼‰</h2><h3 id="sort-h"><a href="#sort-h" class="headerlink" title="sort.h"></a>sort.h</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef SORT_H</span><br><span class="line">#define SORT_H</span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line"></span><br><span class="line">#define ARR_SIZE(arr) (sizeof(arr) / sizeof(arr[0]))</span><br><span class="line">#define SWAP(a, b) do &#123; typeof(a) _temp = (a); (a) = (b); (b) = _temp; &#125; while(0)</span><br><span class="line"></span><br><span class="line">void print_arr(int arr[], int len);</span><br><span class="line">void insertion_sort(int arr[], int len);</span><br><span class="line">void shell_sort(int arr[], int n);</span><br><span class="line">void merge_sort(int arr[], int len);</span><br><span class="line">void quick_sort_one_way(int arr[], int low, int high);</span><br><span class="line">void quick_sort_two_way(int arr[], int low, int high);</span><br><span class="line">void heap_sort(int arr[], int len);</span><br><span class="line"></span><br><span class="line">#endif // SORT_H</span><br></pre></td></tr></table></figure>

<h3 id="sort-c"><a href="#sort-c" class="headerlink" title="sort.c"></a>sort.c</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;sort.h&quot;</span><br><span class="line"></span><br><span class="line">// æ‰“å°æ•°ç»„</span><br><span class="line">void print_arr(int arr[], int len) &#123;</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        printf(&quot;%d &quot;, arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ’å…¥æ’åº</span><br><span class="line">void insertion_sort(int arr[], int len) &#123;</span><br><span class="line">    for (int i = 1; i &lt; len; i++) &#123;</span><br><span class="line">        if (arr[i] &lt; arr[i - 1]) &#123;</span><br><span class="line">            for (int j = i - 1; j &gt;= 0; j--) &#123;</span><br><span class="line">                if (arr[i] &lt; arr[j]) &#123;</span><br><span class="line">                    SWAP(arr[i], arr[j]);</span><br><span class="line">                    i = j;  // ç»§ç»­å‘å‰æ£€æŸ¥</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    break;  // æ‰¾åˆ°æ­£ç¡®ä½ç½®</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print_arr(arr, len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¸Œå°”æ’åº</span><br><span class="line">void shell_sort(int arr[], int n) &#123;</span><br><span class="line">    int gap = n &gt;&gt; 1;</span><br><span class="line">    while (gap &gt; 0) &#123;</span><br><span class="line">        for (int i = gap; i &lt; n; i += gap) &#123;</span><br><span class="line">            if (arr[i] &lt; arr[i - gap]) &#123;</span><br><span class="line">                for (int j = i - gap; j &gt;= 0; j -= gap) &#123;</span><br><span class="line">                    if (arr[i] &lt; arr[j]) &#123;</span><br><span class="line">                        SWAP(arr[i], arr[j]);</span><br><span class="line">                        i = j;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        print_arr(arr, n);</span><br><span class="line">        gap &gt;&gt;= 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆå¹¶ä¸¤ä¸ªæœ‰åºå­æ•°ç»„</span><br><span class="line">void merge(int arr[], int left, int mid, int right, int *tmp) &#123;</span><br><span class="line">    int i = left, j = mid + 1, k = left;</span><br><span class="line">    while (i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">        if (arr[i] &lt;= arr[j]) tmp[k++] = arr[i++];</span><br><span class="line">        else tmp[k++] = arr[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    while (i &lt;= mid) tmp[k++] = arr[i++];</span><br><span class="line">    while (j &lt;= right) tmp[k++] = arr[j++];</span><br><span class="line">    for (i = left; i &lt;= right; i++) arr[i] = tmp[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ†æ²»é€’å½’å‡½æ•°</span><br><span class="line">void divide_merge(int arr[], int left, int right, int *tmp) &#123;</span><br><span class="line">    if (left &gt;= right) return;</span><br><span class="line">    int mid = left + (right - left) / 2;</span><br><span class="line">    divide_merge(arr, left, mid, tmp);</span><br><span class="line">    divide_merge(arr, mid + 1, right, tmp);</span><br><span class="line">    merge(arr, left, mid, right, tmp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å½’å¹¶æ’åºå…¥å£</span><br><span class="line">void merge_sort(int arr[], int len) &#123;</span><br><span class="line">    int *tmp = (int *)calloc(len, sizeof(int));</span><br><span class="line">    if (!tmp) &#123;</span><br><span class="line">        printf(&quot;Memory allocation failed!</span><br><span class="line">&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    divide_merge(arr, 0, len - 1, tmp);</span><br><span class="line">    free(tmp);</span><br><span class="line">    print_arr(arr, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å•å‘åˆ†åŒºå¿«é€Ÿæ’åº</span><br><span class="line">void quick_sort_one_way(int arr[], int low, int high) &#123;</span><br><span class="line">    if (low &gt;= high) return;</span><br><span class="line">    int pivot = arr[high];</span><br><span class="line">    int i = low - 1;</span><br><span class="line">    for (int j = low; j &lt; high; j++) &#123;</span><br><span class="line">        if (arr[j] &lt; pivot) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            SWAP(arr[i], arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    SWAP(arr[i + 1], arr[high]);</span><br><span class="line">    quick_sort_one_way(arr, low, i);</span><br><span class="line">    quick_sort_one_way(arr, i + 2, high);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åŒå‘åˆ†åŒºå¿«é€Ÿæ’åº</span><br><span class="line">void quick_sort_two_way(int arr[], int low, int high) &#123;</span><br><span class="line">    if (low &gt;= high) return;</span><br><span class="line">    int pivot = arr[(low + high) / 2];</span><br><span class="line">    int left = low - 1, right = high + 1;</span><br><span class="line">    while (1) &#123;</span><br><span class="line">        do &#123; left++; &#125; while (arr[left] &lt; pivot);</span><br><span class="line">        do &#123; right--; &#125; while (arr[right] &gt; pivot);</span><br><span class="line">        if (left &gt;= right) break;</span><br><span class="line">        SWAP(arr[left], arr[right]);</span><br><span class="line">    &#125;</span><br><span class="line">    quick_sort_two_way(arr, low, right);</span><br><span class="line">    quick_sort_two_way(arr, right + 1, high);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¤§æ ¹å †è°ƒæ•´</span><br><span class="line">void heapify(int arr[], int root, int tree_size) &#123;</span><br><span class="line">    while (1) &#123;</span><br><span class="line">        int left = 2 * root + 1, right = 2 * root + 2;</span><br><span class="line">        int largest = root;</span><br><span class="line">        if (left &lt; tree_size &amp;&amp; arr[left] &gt; arr[largest]) largest = left;</span><br><span class="line">        if (right &lt; tree_size &amp;&amp; arr[right] &gt; arr[largest]) largest = right;</span><br><span class="line">        if (largest != root) &#123;</span><br><span class="line">            SWAP(arr[root], arr[largest]);</span><br><span class="line">            root = largest;</span><br><span class="line">        &#125; else break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å †æ’åºå…¥å£</span><br><span class="line">void heap_sort(int arr[], int len) &#123;</span><br><span class="line">    for (int i = len / 2 - 1; i &gt;= 0; i--) heapify(arr, i, len);</span><br><span class="line">    for (int i = len - 1; i &gt; 0; i--) &#123;</span><br><span class="line">        SWAP(arr[0], arr[i]);</span><br><span class="line">        heapify(arr, 0, i);</span><br><span class="line">    &#125;</span><br><span class="line">    print_arr(arr, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(void) &#123;</span><br><span class="line">    int arr_insert[] = &#123;1, 21, 45, 231, 99, 2, 18, 7, 4, 9&#125;;</span><br><span class="line">    int len = ARR_SIZE(arr_insert);</span><br><span class="line">    printf(&quot;=== æ’å…¥æ’åº ===</span><br><span class="line">åŸæ•°ç»„: &quot;);</span><br><span class="line">    print_arr(arr_insert, len);</span><br><span class="line">    insertion_sort(arr_insert, len);</span><br><span class="line">    printf(&quot;æœ€ç»ˆç»“æœ: &quot;);</span><br><span class="line">    print_arr(arr_insert, len);</span><br><span class="line"></span><br><span class="line">    // å¯æ·»åŠ å…¶ä»–æ’åºçš„æµ‹è¯•ä»£ç ...</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>æ³¨</strong>ï¼šå®é™…ä½¿ç”¨æ—¶ï¼Œéœ€å°†<code>sort.h</code>å’Œ<code>sort.c</code>ç¼–è¯‘é“¾æ¥åè¿è¡Œã€‚</p>
]]></content>
      <categories>
        <category>Data-Structures</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å¸Œå°”æ’åº</tag>
        <tag>æ’å…¥æ’åº</tag>
        <tag>å½’å¹¶æ’åº</tag>
        <tag>å¿«é€Ÿæ’åº</tag>
        <tag>å †æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0åˆ°1å®ç°Cè¯­è¨€å“ˆå¸Œè¡¨ï¼šåº•å±‚åŸç†ä¸å®æˆ˜è§£æ</title>
    <url>/posts/95859935/</url>
    <content><![CDATA[<img src="/img/PageCode/13.png" alt="ä»0åˆ°1å®ç°Cè¯­è¨€å“ˆå¸Œè¡¨ï¼šåº•å±‚åŸç†ä¸å®æˆ˜è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨Cè¯­è¨€çš„æ ‡å‡†åº“ä¸­ï¼Œæ²¡æœ‰åƒC++ <code>unordered_map</code>æˆ–Java <code>HashMap</code>è¿™æ ·ç°æˆçš„å“ˆå¸Œè¡¨å®¹å™¨ã€‚å½“æˆ‘ä»¬éœ€è¦åœ¨Cä¸­å®ç°é«˜æ•ˆçš„é”®å€¼å¯¹å­˜å‚¨æ—¶ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªå“ˆå¸Œè¡¨æ˜¯ç»•ä¸å¼€çš„é€‰æ‹©ã€‚æœ¬æ–‡å°†ä»¥æˆ‘è¿‘æœŸå®ç°çš„è½»é‡çº§å“ˆå¸Œè¡¨ä¸ºä¾‹ï¼Œä»æ•°æ®ç»“æ„è®¾è®¡ã€æ ¸å¿ƒé€»è¾‘è§£æåˆ°å†…å­˜ç®¡ç†ï¼Œå¸¦æ‚¨æ·±å…¥ç†è§£å“ˆå¸Œè¡¨çš„åº•å±‚åŸç†ï¼Œå¹¶ç»“åˆå®é™…æµ‹è¯•ç”¨ä¾‹éªŒè¯å…¶æ­£ç¡®æ€§ã€‚</p>
<hr>
<h2 id="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç°å“ˆå¸Œè¡¨ï¼Ÿ"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç°å“ˆå¸Œè¡¨ï¼Ÿ" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç°å“ˆå¸Œè¡¨ï¼Ÿ"></a>ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å®ç°å“ˆå¸Œè¡¨ï¼Ÿ</h2><p>åœ¨å¼€å§‹ä»£ç è§£æå‰ï¼Œå…ˆèŠèŠ<strong>ä¸ºä»€ä¹ˆé€‰æ‹©æ‰‹åŠ¨å®ç°å“ˆå¸Œè¡¨</strong>ï¼š</p>
<ul>
<li><strong>åœºæ™¯é€‚é…</strong>ï¼šæ ‡å‡†åº“æœªæä¾›é€šç”¨å“ˆå¸Œè¡¨ï¼ˆC++çš„<code>unordered_map</code>ä¾èµ–æ¨¡æ¿ï¼Œæ— æ³•ç›´æ¥ç”¨äºçº¯Cé¡¹ç›®ï¼‰ã€‚</li>
<li><strong>æ€§èƒ½å¯æ§</strong>ï¼šæ‰‹åŠ¨å®ç°å¯ä»¥é’ˆå¯¹å…·ä½“åœºæ™¯ä¼˜åŒ–ï¼ˆå¦‚è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°ã€å†…å­˜åˆ†é…ç­–ç•¥ï¼‰ã€‚</li>
<li><strong>å­¦ä¹ ä»·å€¼</strong>ï¼šç†è§£å“ˆå¸Œè¡¨çš„æ ¸å¿ƒåŸç†ï¼ˆå“ˆå¸Œå†²çªã€è´Ÿè½½å› å­ã€åŠ¨æ€æ‰©å®¹ï¼‰ï¼Œæ˜¯è¿›é˜¶Cè¯­è¨€å¼€å‘çš„å¿…ç»ä¹‹è·¯ã€‚</li>
</ul>
<p>æœ¬æ–‡çš„å“ˆå¸Œè¡¨å®ç°å®šä½ä¸º<strong>è½»é‡çº§å­—ç¬¦ä¸²é”®å€¼å¯¹å­˜å‚¨</strong>ï¼Œé€‚ç”¨äºé…ç½®ç®¡ç†ã€ç¼“å­˜ç³»ç»Ÿç­‰éœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ã€‚</p>
<hr>
<h2 id="äºŒã€æ•°æ®ç»“æ„è®¾è®¡ï¼šä»æŠ½è±¡åˆ°å…·ä½“"><a href="#äºŒã€æ•°æ®ç»“æ„è®¾è®¡ï¼šä»æŠ½è±¡åˆ°å…·ä½“" class="headerlink" title="äºŒã€æ•°æ®ç»“æ„è®¾è®¡ï¼šä»æŠ½è±¡åˆ°å…·ä½“"></a>äºŒã€æ•°æ®ç»“æ„è®¾è®¡ï¼šä»æŠ½è±¡åˆ°å…·ä½“</h2><h3 id="2-1-å“ˆå¸Œè¡¨çš„æ ¸å¿ƒç»“æ„ä½“ï¼šHashMap"><a href="#2-1-å“ˆå¸Œè¡¨çš„æ ¸å¿ƒç»“æ„ä½“ï¼šHashMap" class="headerlink" title="2.1 å“ˆå¸Œè¡¨çš„æ ¸å¿ƒç»“æ„ä½“ï¼šHashMap"></a>2.1 å“ˆå¸Œè¡¨çš„æ ¸å¿ƒç»“æ„ä½“ï¼š<code>HashMap</code></h3><p>å“ˆå¸Œè¡¨çš„æœ¬è´¨æ˜¯â€œæ•°ç»„+é“¾è¡¨â€çš„ç»„åˆç»“æ„ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ•°ç»„ï¼ˆå“ˆå¸Œæ¡¶ï¼‰å­˜å‚¨é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œæ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ä¿å­˜å…·ä½“çš„é”®å€¼å¯¹ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒç»“æ„ä½“çš„å®šä¹‰ï¼ˆ<code>hash.h</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.h</span><br><span class="line">typedef char *KeyType;   // é”®ç±»å‹ï¼šå­—ç¬¦ä¸²æŒ‡é’ˆ</span><br><span class="line">typedef char *ValueType; // å€¼ç±»å‹ï¼šå­—ç¬¦ä¸²æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œæ¡¶èŠ‚ç‚¹ï¼ˆé“¾è¡¨èŠ‚ç‚¹ï¼‰</span><br><span class="line">typedef struct node_s &#123;</span><br><span class="line">    KeyType key;          // é”®ï¼ˆå­—ç¬¦ä¸²ï¼‰</span><br><span class="line">    ValueType val;        // å€¼ï¼ˆå­—ç¬¦ä¸²ï¼‰</span><br><span class="line">    struct node_s *next;  // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼ˆè§£å†³å“ˆå¸Œå†²çªï¼‰</span><br><span class="line">&#125; KeyValueNode;</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œè¡¨æ ¸å¿ƒç»“æ„ä½“</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    KeyValueNode *buckets[HASHMAP_CAPACITY];  // å“ˆå¸Œæ¡¶æ•°ç»„ï¼ˆå›ºå®šå®¹é‡10ï¼‰</span><br><span class="line">    uint32_t hash_seed;                       // å“ˆå¸Œå‡½æ•°ç§å­ï¼ˆéšæœºåŒ–é˜²ç¢°æ’æ”»å‡»ï¼‰</span><br><span class="line">&#125; HashMap;</span><br></pre></td></tr></table></figure>

<h4 id="å…³é”®è®¾è®¡ç‚¹è§£æï¼š"><a href="#å…³é”®è®¾è®¡ç‚¹è§£æï¼š" class="headerlink" title="å…³é”®è®¾è®¡ç‚¹è§£æï¼š"></a>å…³é”®è®¾è®¡ç‚¹è§£æï¼š</h4><ul>
<li><strong><code>buckets</code>æ•°ç»„</strong>ï¼šå“ˆå¸Œè¡¨çš„â€œéª¨æ¶â€ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé“¾è¡¨å¤´èŠ‚ç‚¹ã€‚å½“ä¸åŒé”®é€šè¿‡å“ˆå¸Œå‡½æ•°æ˜ å°„åˆ°åŒä¸€ä½ç½®æ—¶ï¼Œé“¾è¡¨ç”¨äºå­˜å‚¨å†²çªçš„é”®å€¼å¯¹ï¼ˆé“¾åœ°å€æ³•è§£å†³å†²çªï¼‰ã€‚</li>
<li><strong><code>hash_seed</code>ç§å­</strong>ï¼šå“ˆå¸Œå‡½æ•°çš„éšæœºåŒ–å‚æ•°ã€‚é€šè¿‡<code>time(NULL)</code>åˆå§‹åŒ–ï¼Œé¿å…ç›¸åŒè¾“å…¥ç”Ÿæˆç›¸åŒå“ˆå¸Œå€¼ï¼ˆé˜²å¾¡å“ˆå¸Œç¢°æ’æ”»å‡»ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="2-2-è¾…åŠ©å‡½æ•°ï¼šstrdup1"><a href="#2-2-è¾…åŠ©å‡½æ•°ï¼šstrdup1" class="headerlink" title="2.2 è¾…åŠ©å‡½æ•°ï¼šstrdup1"></a>2.2 è¾…åŠ©å‡½æ•°ï¼š<code>strdup1</code></h3><p>ç”±äºCè¯­è¨€ä¸­å­—ç¬¦ä¸²æ˜¯<code>char*</code>æŒ‡é’ˆï¼Œç›´æ¥èµ‹å€¼ä¼šå¯¼è‡´æµ…æ‹·è´ï¼ˆå¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å—å†…å­˜ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰å­—ç¬¦ä¸²å¤åˆ¶å‡½æ•°<code>strdup1</code>ï¼ˆ<code>hash.c</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">char *strdup1(const char *s) &#123;</span><br><span class="line">    size_t len = strlen(s) + 1;  // +1 ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²ç»“æŸç¬¦&#x27;\0&#x27;</span><br><span class="line">    char *p = (char *)malloc(len); </span><br><span class="line">    if (p) &#123;</span><br><span class="line">        memcpy(p, s, len);  // æ·±æ‹·è´å­—ç¬¦ä¸²å†…å®¹</span><br><span class="line">    &#125;</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä½œç”¨</strong>ï¼šä¸ºé”®å’Œå€¼ç”Ÿæˆç‹¬ç«‹çš„å‰¯æœ¬ï¼Œé¿å…å¤–éƒ¨ä¿®æ”¹å½±å“å“ˆå¸Œè¡¨å†…éƒ¨æ•°æ®ã€‚</p>
<hr>
<h2 id="ä¸‰ã€æ ¸å¿ƒå‡½æ•°è§£æï¼šä»åˆ›å»ºåˆ°é”€æ¯"><a href="#ä¸‰ã€æ ¸å¿ƒå‡½æ•°è§£æï¼šä»åˆ›å»ºåˆ°é”€æ¯" class="headerlink" title="ä¸‰ã€æ ¸å¿ƒå‡½æ•°è§£æï¼šä»åˆ›å»ºåˆ°é”€æ¯"></a>ä¸‰ã€æ ¸å¿ƒå‡½æ•°è§£æï¼šä»åˆ›å»ºåˆ°é”€æ¯</h2><h3 id="3-1-åˆ›å»ºå“ˆå¸Œè¡¨ï¼šhashmap-create"><a href="#3-1-åˆ›å»ºå“ˆå¸Œè¡¨ï¼šhashmap-create" class="headerlink" title="3.1 åˆ›å»ºå“ˆå¸Œè¡¨ï¼šhashmap_create"></a>3.1 åˆ›å»ºå“ˆå¸Œè¡¨ï¼š<code>hashmap_create</code></h3><p>å“ˆå¸Œè¡¨çš„åˆ›å»ºéœ€è¦åˆå§‹åŒ–<code>buckets</code>æ•°ç»„å’Œéšæœºç§å­ã€‚ä»¥ä¸‹æ˜¯å®ç°ä»£ç ï¼ˆ<code>hash.c</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">HashMap *hashmap_create() &#123;</span><br><span class="line">    HashMap *map = (HashMap *)calloc(1, sizeof(HashMap));  // åˆ†é…å“ˆå¸Œè¡¨å†…å­˜</span><br><span class="line">    if (map == NULL) &#123;</span><br><span class="line">        printf(&quot;calloc failed in hashmap_create</span><br><span class="line">&quot;);  // å†…å­˜åˆ†é…å¤±è´¥æç¤º</span><br><span class="line">        exit(EXIT_FAILURE);  // ç»ˆæ­¢ç¨‹åºï¼ˆé¿å…åç»­æ“ä½œå´©æºƒï¼‰</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆå§‹åŒ–å“ˆå¸Œç§å­ï¼ˆåŸºäºå½“å‰æ—¶é—´æˆ³ï¼Œä¿è¯æ¯æ¬¡è¿è¡Œç§å­ä¸åŒï¼‰</span><br><span class="line">    map-&gt;hash_seed = (uint32_t)time(NULL); </span><br><span class="line">    return map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>calloc</code>åˆ†é…å“ˆå¸Œè¡¨å†…å­˜ï¼ˆåˆå§‹åŒ–ä¸º0ï¼‰ï¼Œé¿å…è„æ•°æ®ã€‚</li>
<li>åˆå§‹åŒ–<code>hash_seed</code>ä¸ºå½“å‰æ—¶é—´æˆ³ï¼Œç¡®ä¿æ¯æ¬¡è¿è¡Œçš„å“ˆå¸Œå€¼éšæœºåŒ–ã€‚</li>
</ol>
<p><strong>ä¸ªäººæ€è€ƒ</strong>ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨<code>rand()</code>åˆå§‹åŒ–ç§å­ï¼Ÿå› ä¸º<code>time(NULL)</code>çš„ç²¾åº¦æ›´é«˜ï¼ˆç§’çº§ï¼‰ï¼Œè€Œ<code>rand()</code>çš„éšæœºæ€§ä¾èµ–äºç§å­ï¼Œå¯èƒ½å¯¼è‡´ä¸åŒè¿è¡Œå®ä¾‹çš„å“ˆå¸Œå†²çªç‡æ³¢åŠ¨è¾ƒå¤§ã€‚</p>
<hr>
<h3 id="3-2-é”€æ¯å“ˆå¸Œè¡¨ï¼šhashmap-destroy"><a href="#3-2-é”€æ¯å“ˆå¸Œè¡¨ï¼šhashmap-destroy" class="headerlink" title="3.2 é”€æ¯å“ˆå¸Œè¡¨ï¼šhashmap_destroy"></a>3.2 é”€æ¯å“ˆå¸Œè¡¨ï¼š<code>hashmap_destroy</code></h3><p>é”€æ¯å“ˆå¸Œè¡¨éœ€è¦é€’å½’é‡Šæ”¾æ‰€æœ‰èŠ‚ç‚¹çš„å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">void hashmap_destroy(HashMap *map) &#123;</span><br><span class="line">    if (map == NULL) return;  // ç©ºæŒ‡é’ˆç›´æ¥è¿”å›</span><br><span class="line"></span><br><span class="line">    // éå†æ‰€æœ‰å“ˆå¸Œæ¡¶</span><br><span class="line">    for (int i = 0; i &lt; HASHMAP_CAPACITY; i++) &#123;</span><br><span class="line">        KeyValueNode *current = map-&gt;buckets[i];  // å½“å‰æ¡¶çš„å¤´èŠ‚ç‚¹</span><br><span class="line">        while (current != NULL) &#123;                 // éå†é“¾è¡¨</span><br><span class="line">            KeyValueNode *next = current-&gt;next;   // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ</span><br><span class="line">            free(current-&gt;key);   // é‡Šæ”¾é”®çš„å†…å­˜</span><br><span class="line">            free(current-&gt;val);   // é‡Šæ”¾å€¼çš„å†…å­˜</span><br><span class="line">            free(current);        // é‡Šæ”¾èŠ‚ç‚¹æœ¬èº«çš„å†…å­˜</span><br><span class="line">            current = next;       // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(map);  // é‡Šæ”¾å“ˆå¸Œè¡¨æœ¬èº«çš„å†…å­˜</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>é“¾è¡¨éå†</strong>ï¼šé€šè¿‡<code>current</code>æŒ‡é’ˆé€ä¸ªé‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹ï¼Œé¿å…é—æ¼ã€‚</li>
<li><strong>å†…å­˜é‡Šæ”¾é¡ºåº</strong>ï¼šå…ˆé‡Šæ”¾èŠ‚ç‚¹çš„é”®å’Œå€¼ï¼ˆæ·±æ‹·è´çš„å†…å­˜ï¼‰ï¼Œå†é‡Šæ”¾èŠ‚ç‚¹æœ¬èº«ï¼Œæœ€åé‡Šæ”¾å“ˆå¸Œè¡¨ã€‚</li>
</ul>
<p><strong>å¸¸è§é”™è¯¯</strong>ï¼šè‹¥å¿˜è®°é‡Šæ”¾<code>current-&gt;key</code>æˆ–<code>current-&gt;val</code>ï¼Œä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼ˆå°¤å…¶æ˜¯åœ¨é¢‘ç¹æ’å…¥åˆ é™¤çš„åœºæ™¯ä¸‹ï¼‰ã€‚</p>
<hr>
<h3 id="3-3-æ’å…¥-æ›´æ–°é”®å€¼å¯¹ï¼šhashmap-put"><a href="#3-3-æ’å…¥-æ›´æ–°é”®å€¼å¯¹ï¼šhashmap-put" class="headerlink" title="3.3 æ’å…¥&#x2F;æ›´æ–°é”®å€¼å¯¹ï¼šhashmap_put"></a>3.3 æ’å…¥&#x2F;æ›´æ–°é”®å€¼å¯¹ï¼š<code>hashmap_put</code></h3><p>æ’å…¥æ“ä½œæ˜¯å“ˆå¸Œè¡¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œéœ€è¦å¤„ç†ä¸¤ç§æƒ…å†µï¼šé”®å·²å­˜åœ¨ï¼ˆæ›´æ–°å€¼ï¼‰æˆ–é”®ä¸å­˜åœ¨ï¼ˆæ–°å»ºèŠ‚ç‚¹ï¼‰ã€‚å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">ValueType hashmap_put(HashMap *map, KeyType key, ValueType val) &#123;</span><br><span class="line">    if (map == NULL || key == NULL || val == NULL) return NULL;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    // 1. è®¡ç®—å“ˆå¸Œå€¼ï¼Œç¡®å®šæ¡¶çš„ä½ç½®</span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed); </span><br><span class="line"></span><br><span class="line">    // 2. éå†æ¡¶å†…é“¾è¡¨ï¼Œæ£€æŸ¥é”®æ˜¯å¦å·²å­˜åœ¨</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;  // é”®å·²å­˜åœ¨</span><br><span class="line">            free(current-&gt;val);                 // é‡Šæ”¾æ—§å€¼å†…å­˜</span><br><span class="line">            current-&gt;val = strdup1(val);         // æ›´æ–°ä¸ºæ–°å€¼ï¼ˆæ·±æ‹·è´ï¼‰</span><br><span class="line">            return current-&gt;val;                 // è¿”å›æ–°å€¼</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;  // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 3. é”®ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹å¹¶æ’å…¥é“¾è¡¨å¤´éƒ¨ï¼ˆå¤´æ’æ³•ï¼‰</span><br><span class="line">    KeyValueNode *new_node = (KeyValueNode *)calloc(1, sizeof(KeyValueNode));</span><br><span class="line">    if (new_node == NULL) &#123;  // å†…å­˜åˆ†é…å¤±è´¥å¤„ç†</span><br><span class="line">        fprintf(stderr, &quot;Memory allocation failed in hashmap_put</span><br><span class="line">&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;key = strdup1(key);   // æ·±æ‹·è´é”®</span><br><span class="line">    new_node-&gt;val = strdup1(val);   // æ·±æ‹·è´å€¼</span><br><span class="line">    new_node-&gt;next = map-&gt;buckets[index];  // æ–°èŠ‚ç‚¹æŒ‡å‘åŸé“¾è¡¨å¤´</span><br><span class="line">    map-&gt;buckets[index] = new_node;        // å¤´æ’æ³•æ›´æ–°é“¾è¡¨å¤´</span><br><span class="line"></span><br><span class="line">    return new_node-&gt;val;  // è¿”å›æ–°å€¼</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®é€»è¾‘è§£æ</strong>ï¼š</p>
<ul>
<li><strong>å“ˆå¸Œè®¡ç®—</strong>ï¼šé€šè¿‡<code>hash</code>å‡½æ•°å°†é”®è½¬æ¢ä¸ºæ¡¶çš„ç´¢å¼•ï¼ˆ<code>0~9</code>ï¼‰ã€‚</li>
<li><strong>å†²çªå¤„ç†</strong>ï¼šè‹¥é”®å·²å­˜åœ¨ï¼Œæ›´æ–°å¯¹åº”èŠ‚ç‚¹çš„å€¼ï¼ˆé‡Šæ”¾æ—§å€¼å†…å­˜ï¼Œé¿å…æ³„æ¼ï¼‰ï¼›è‹¥ä¸å­˜åœ¨ï¼Œé€šè¿‡å¤´æ’æ³•åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆæ—¶é—´å¤æ‚åº¦O(1)å¹³å‡æƒ…å†µï¼‰ã€‚</li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¤´æ’æ³•æ¯”å°¾æ’æ³•æ›´é«˜æ•ˆï¼ˆæ— éœ€éå†åˆ°é“¾è¡¨å°¾éƒ¨ï¼‰ï¼Œä½†ä¼šå¯¼è‡´é“¾è¡¨èŠ‚ç‚¹é¡ºåºä¸æ’å…¥é¡ºåºç›¸åã€‚å¯¹äºå“ˆå¸Œè¡¨æ¥è¯´ï¼Œé¡ºåºæ— å…³ç´§è¦ï¼Œå› æ­¤å¤´æ’æ³•æ˜¯æ›´ä¼˜é€‰æ‹©ã€‚</p>
<hr>
<h3 id="3-4-æŸ¥è¯¢é”®å¯¹åº”çš„å€¼ï¼šhashmap-get"><a href="#3-4-æŸ¥è¯¢é”®å¯¹åº”çš„å€¼ï¼šhashmap-get" class="headerlink" title="3.4 æŸ¥è¯¢é”®å¯¹åº”çš„å€¼ï¼šhashmap_get"></a>3.4 æŸ¥è¯¢é”®å¯¹åº”çš„å€¼ï¼š<code>hashmap_get</code></h3><p>æŸ¥è¯¢æ“ä½œéœ€è¦æ ¹æ®é”®è®¡ç®—å“ˆå¸Œå€¼ï¼Œç„¶ååœ¨å¯¹åº”æ¡¶çš„é“¾è¡¨ä¸­æŸ¥æ‰¾ç›®æ ‡é”®ã€‚å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">ValueType hashmap_get(HashMap *map, KeyType key) &#123;</span><br><span class="line">    if (map == NULL || key == NULL) return NULL;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    // 1. è®¡ç®—å“ˆå¸Œå€¼ï¼Œç¡®å®šæ¡¶çš„ä½ç½®</span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed); </span><br><span class="line"></span><br><span class="line">    // 2. éå†æ¡¶å†…é“¾è¡¨ï¼ŒæŸ¥æ‰¾ç›®æ ‡é”®</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;  // æ‰¾åˆ°ç›®æ ‡é”®</span><br><span class="line">            return current-&gt;val;               // è¿”å›å¯¹åº”å€¼</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;  // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return NULL;  // æœªæ‰¾åˆ°é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>å‚æ•°æ ¡éªŒ</strong>ï¼šé¿å…ç©ºæŒ‡é’ˆå¯¼è‡´çš„å´©æºƒï¼ˆå¦‚ä¼ å…¥<code>NULL</code>é”®ï¼‰ã€‚</li>
<li><strong>çº¿æ€§æŸ¥æ‰¾</strong>ï¼šé“¾è¡¨çš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œä½†å“ˆå¸Œè¡¨é€šè¿‡å“ˆå¸Œå‡½æ•°å°†né™åˆ¶åœ¨æ¡¶çš„æ•°é‡ï¼ˆ<code>HASHMAP_CAPACITY=10</code>ï¼‰ï¼Œå› æ­¤å¹³å‡æ—¶é—´å¤æ‚åº¦ä»ä¸ºO(1)ã€‚</li>
</ul>
<p><strong>æµ‹è¯•éªŒè¯</strong>ï¼šåœ¨<code>main.c</code>ä¸­æ’å…¥<code>&quot;name&quot;</code>å’Œ<code>&quot;age&quot;</code>åï¼ŒæŸ¥è¯¢<code>&quot;name&quot;</code>åº”è¿”å›<code>&quot;Alice&quot;</code>ï¼ŒæŸ¥è¯¢<code>&quot;age&quot;</code>åº”è¿”å›<code>&quot;25&quot;</code>ã€‚</p>
<hr>
<h3 id="3-5-åˆ é™¤é”®å€¼å¯¹ï¼šhashmap-remove"><a href="#3-5-åˆ é™¤é”®å€¼å¯¹ï¼šhashmap-remove" class="headerlink" title="3.5 åˆ é™¤é”®å€¼å¯¹ï¼šhashmap_remove"></a>3.5 åˆ é™¤é”®å€¼å¯¹ï¼š<code>hashmap_remove</code></h3><p>åˆ é™¤æ“ä½œéœ€è¦æ‰¾åˆ°ç›®æ ‡é”®æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œå¹¶ä»é“¾è¡¨ä¸­ç§»é™¤è¯¥èŠ‚ç‚¹ã€‚å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">bool hashmap_remove(HashMap *map, KeyType key) &#123;</span><br><span class="line">    if (map == NULL || key == NULL) return false;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    // 1. è®¡ç®—å“ˆå¸Œå€¼ï¼Œç¡®å®šæ¡¶çš„ä½ç½®</span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed); </span><br><span class="line"></span><br><span class="line">    // 2. éå†é“¾è¡¨ï¼ŒæŸ¥æ‰¾ç›®æ ‡é”®å¹¶åˆ é™¤</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    KeyValueNode *prev = NULL;  // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">    while (current != NULL) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;  // æ‰¾åˆ°ç›®æ ‡é”®</span><br><span class="line">            // æƒ…å†µ1ï¼šèŠ‚ç‚¹æ˜¯é“¾è¡¨å¤´ï¼ˆprevä¸ºNULLï¼‰</span><br><span class="line">            if (prev == NULL) &#123;</span><br><span class="line">                map-&gt;buckets[index] = current-&gt;next;  // å¤´æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹</span><br><span class="line">            &#125; </span><br><span class="line">            // æƒ…å†µ2ï¼šèŠ‚ç‚¹æ˜¯é“¾è¡¨ä¸­é—´æˆ–å°¾éƒ¨ï¼ˆprevä¸ä¸ºNULLï¼‰</span><br><span class="line">            else &#123;</span><br><span class="line">                prev-&gt;next = current-&gt;next;  // å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // é‡Šæ”¾èŠ‚ç‚¹å†…å­˜</span><br><span class="line">            free(current-&gt;key);   // é‡Šæ”¾é”®</span><br><span class="line">            free(current-&gt;val);   // é‡Šæ”¾å€¼</span><br><span class="line">            free(current);        // é‡Šæ”¾èŠ‚ç‚¹æœ¬èº«</span><br><span class="line">            return true;          // åˆ é™¤æˆåŠŸ</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;       // è®°å½•å½“å‰èŠ‚ç‚¹ä¸ºå‰ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">        current = current-&gt;next;  // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;  // æœªæ‰¾åˆ°é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®é€»è¾‘è§£æ</strong>ï¼š</p>
<ul>
<li><strong>å¤´èŠ‚ç‚¹åˆ é™¤</strong>ï¼šè‹¥ç›®æ ‡èŠ‚ç‚¹æ˜¯é“¾è¡¨å¤´ï¼ˆ<code>prev == NULL</code>ï¼‰ï¼Œç›´æ¥æ›´æ–°æ¡¶çš„å¤´æŒ‡é’ˆä¸º<code>current-&gt;next</code>ã€‚</li>
<li><strong>ä¸­é—´&#x2F;å°¾éƒ¨èŠ‚ç‚¹åˆ é™¤</strong>ï¼šè‹¥ç›®æ ‡èŠ‚ç‚¹åœ¨é“¾è¡¨ä¸­é—´æˆ–å°¾éƒ¨ï¼Œé€šè¿‡å‰ä¸€ä¸ªèŠ‚ç‚¹<code>prev</code>çš„<code>next</code>æŒ‡é’ˆè·³è¿‡å½“å‰èŠ‚ç‚¹ã€‚</li>
</ul>
<p><strong>æµ‹è¯•éªŒè¯</strong>ï¼šåˆ é™¤<code>&quot;age&quot;</code>åï¼Œå†æ¬¡æŸ¥è¯¢<code>&quot;age&quot;</code>åº”è¿”å›<code>NULL</code>ï¼Œä¸”<code>main.c</code>ä¸­çš„éªŒè¯è¯­å¥ä¼šè¾“å‡º<code>&#39;age&#39; not found after removal.</code>ã€‚</p>
<hr>
<h2 id="å››ã€å“ˆå¸Œå‡½æ•°è®¾è®¡ï¼šä»åŸç†åˆ°å®ç°"><a href="#å››ã€å“ˆå¸Œå‡½æ•°è®¾è®¡ï¼šä»åŸç†åˆ°å®ç°" class="headerlink" title="å››ã€å“ˆå¸Œå‡½æ•°è®¾è®¡ï¼šä»åŸç†åˆ°å®ç°"></a>å››ã€å“ˆå¸Œå‡½æ•°è®¾è®¡ï¼šä»åŸç†åˆ°å®ç°</h2><p>å“ˆå¸Œå‡½æ•°çš„è´¨é‡ç›´æ¥å½±å“å“ˆå¸Œè¡¨çš„æ€§èƒ½ï¼ˆå†²çªç‡ï¼‰ã€‚æœ¬æ–‡å®ç°çš„å“ˆå¸Œå‡½æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// hash.c</span><br><span class="line">static uint32_t hash(const char *key, uint32_t seed) &#123;</span><br><span class="line">    uint32_t hash_val = 0;</span><br><span class="line">    while (*key) &#123;  // éå†å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦</span><br><span class="line">        hash_val = (hash_val * 31) + (uint32_t)*key++;  // ç»å…¸å¤šé¡¹å¼å“ˆå¸Œ</span><br><span class="line">    &#125;</span><br><span class="line">    return (hash_val ^ seed) % HASHMAP_CAPACITY;  // ç»“åˆç§å­å€¼å–æ¨¡</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è®¾è®¡æ€æƒ³ï¼š"><a href="#è®¾è®¡æ€æƒ³ï¼š" class="headerlink" title="è®¾è®¡æ€æƒ³ï¼š"></a>è®¾è®¡æ€æƒ³ï¼š</h3><ul>
<li><strong>å¤šé¡¹å¼å“ˆå¸Œ</strong>ï¼š<code>hash_val = hash_val * 31 + *key</code> æ˜¯ç»å…¸çš„å­—ç¬¦ä¸²å“ˆå¸Œç®—æ³•ï¼ˆ31æ˜¯è´¨æ•°ï¼Œèƒ½æœ‰æ•ˆå‡å°‘å†²çªï¼‰ã€‚</li>
<li><strong>éšæœºç§å­</strong>ï¼šé€šè¿‡<code>seed</code>ï¼ˆæ—¶é—´æˆ³ï¼‰å¯¹å“ˆå¸Œå€¼å–å¼‚æˆ–ï¼Œé¿å…ç›¸åŒè¾“å…¥ç”Ÿæˆç›¸åŒå“ˆå¸Œå€¼ï¼ˆé˜²å¾¡ç¢°æ’æ”»å‡»ï¼‰ã€‚</li>
<li><strong>å–æ¨¡è¿ç®—</strong>ï¼šå°†å“ˆå¸Œå€¼æ˜ å°„åˆ°<code>[0, HASHMAP_CAPACITY-1]</code>çš„èŒƒå›´ï¼Œç¡®å®šæ¡¶çš„ä½ç½®ã€‚</li>
</ul>
<p><strong>æ½œåœ¨æ”¹è¿›</strong>ï¼šè‹¥éœ€è¦æ›´é«˜çš„æ€§èƒ½ï¼Œå¯ä»¥å°è¯•å…¶ä»–å“ˆå¸Œç®—æ³•ï¼ˆå¦‚MurmurHashï¼‰ï¼Œä½†å¤šé¡¹å¼å“ˆå¸Œåœ¨å­—ç¬¦ä¸²åœºæ™¯ä¸‹å·²è¶³å¤Ÿé«˜æ•ˆã€‚</p>
<hr>
<h2 id="äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šä»ç†è®ºåˆ°å®è·µ"><a href="#äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šä»ç†è®ºåˆ°å®è·µ" class="headerlink" title="äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šä»ç†è®ºåˆ°å®è·µ"></a>äº”ã€æµ‹è¯•ä¸éªŒè¯ï¼šä»ç†è®ºåˆ°å®è·µ</h2><h3 id="5-1-æµ‹è¯•ç”¨ä¾‹è¯´æ˜ï¼ˆmain-cï¼‰"><a href="#5-1-æµ‹è¯•ç”¨ä¾‹è¯´æ˜ï¼ˆmain-cï¼‰" class="headerlink" title="5.1 æµ‹è¯•ç”¨ä¾‹è¯´æ˜ï¼ˆmain.cï¼‰"></a>5.1 æµ‹è¯•ç”¨ä¾‹è¯´æ˜ï¼ˆ<code>main.c</code>ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;hash.h&quot;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    HashMap *map = hashmap_create();  // åˆ›å»ºå“ˆå¸Œè¡¨</span><br><span class="line">    if (map == NULL) return 1;        // å†…å­˜åˆ†é…å¤±è´¥å¤„ç†</span><br><span class="line"></span><br><span class="line">    // æ’å…¥é”®å€¼å¯¹</span><br><span class="line">    hashmap_put(map, &quot;name&quot;, &quot;Alice&quot;);  // æ’å…¥å­—ç¬¦ä¸²é”®å€¼å¯¹</span><br><span class="line">    hashmap_put(map, &quot;age&quot;, &quot;25&quot;);</span><br><span class="line"></span><br><span class="line">    // æŸ¥è¯¢é”®å€¼å¯¹</span><br><span class="line">    ValueType name = hashmap_get(map, &quot;name&quot;);  // è·å–&quot;name&quot;å¯¹åº”çš„å€¼</span><br><span class="line">    ValueType age = hashmap_get(map, &quot;age&quot;);</span><br><span class="line">    if (name) printf(&quot;Name: %s</span><br><span class="line">&quot;, name);         // è¾“å‡ºï¼šName: Alice</span><br><span class="line">    if (age)  printf(&quot;Age: %s</span><br><span class="line">&quot;, age);          // è¾“å‡ºï¼šAge: 25</span><br><span class="line"></span><br><span class="line">    // åˆ é™¤é”®å€¼å¯¹</span><br><span class="line">    if (hashmap_remove(map, &quot;age&quot;)) &#123;</span><br><span class="line">        printf(&quot;&#x27;age&#x27; removed successfully.\n&quot;);  // è¾“å‡ºï¼š&#x27;age&#x27; removed successfully.</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // éªŒè¯åˆ é™¤ç»“æœ</span><br><span class="line">    age = hashmap_get(map, &quot;age&quot;);</span><br><span class="line">    if (age == NULL) &#123;</span><br><span class="line">        printf(&quot;&#x27;age&#x27; not found after removal.\n&quot;);  // è¾“å‡ºï¼š&#x27;age&#x27; not found after removal.</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hashmap_destroy(map);  // é”€æ¯å“ˆå¸Œè¡¨ï¼ˆé‡Šæ”¾æ‰€æœ‰å†…å­˜ï¼‰</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-é¢„æœŸè¾“å‡º"><a href="#5-2-é¢„æœŸè¾“å‡º" class="headerlink" title="5.2 é¢„æœŸè¾“å‡º"></a>5.2 é¢„æœŸè¾“å‡º</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Name: Alice</span><br><span class="line">Age: 25</span><br><span class="line">&#x27;remove &#x27;age&#x27; successfully.</span><br><span class="line">&#x27;age&#x27; not found after removal.</span><br></pre></td></tr></table></figure>

<h3 id="5-3-éªŒè¯ç»“è®º"><a href="#5-3-éªŒè¯ç»“è®º" class="headerlink" title="5.3 éªŒè¯ç»“è®º"></a>5.3 éªŒè¯ç»“è®º</h3><p>é€šè¿‡æµ‹è¯•ç”¨ä¾‹å¯ä»¥çœ‹å‡ºï¼š</p>
<ul>
<li>æ’å…¥æ“ä½œæˆåŠŸå­˜å‚¨äº†é”®å€¼å¯¹ã€‚</li>
<li>æŸ¥è¯¢æ“ä½œèƒ½æ­£ç¡®è¿”å›å·²å­˜å‚¨çš„å€¼ã€‚</li>
<li>åˆ é™¤æ“ä½œèƒ½æ­£ç¡®ç§»é™¤é”®å€¼å¯¹ï¼Œä¸”åç»­æŸ¥è¯¢è¿”å›<code>NULL</code>ã€‚</li>
<li>é”€æ¯æ“ä½œé‡Šæ”¾äº†æ‰€æœ‰å†…å­˜ï¼Œé¿å…æ³„æ¼ã€‚</li>
</ul>
<hr>
<h2 id="å…­ã€ä¸ªäººæ€è€ƒä¸ä¼˜åŒ–æ–¹å‘"><a href="#å…­ã€ä¸ªäººæ€è€ƒä¸ä¼˜åŒ–æ–¹å‘" class="headerlink" title="å…­ã€ä¸ªäººæ€è€ƒä¸ä¼˜åŒ–æ–¹å‘"></a>å…­ã€ä¸ªäººæ€è€ƒä¸ä¼˜åŒ–æ–¹å‘</h2><h3 id="6-1-å®ç°ä¸­çš„æŒ‘æˆ˜"><a href="#6-1-å®ç°ä¸­çš„æŒ‘æˆ˜" class="headerlink" title="6.1 å®ç°ä¸­çš„æŒ‘æˆ˜"></a>6.1 å®ç°ä¸­çš„æŒ‘æˆ˜</h3><ul>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šåœ¨æ’å…¥æ“ä½œä¸­ï¼Œéœ€è¦ä¸ºé”®å’Œå€¼åˆ†é…å†…å­˜ï¼ˆ<code>strdup1</code>ï¼‰ï¼Œå¹¶åœ¨åˆ é™¤æˆ–é”€æ¯æ—¶é‡Šæ”¾ã€‚ä»»ä½•ä¸€æ­¥çš„å†…å­˜æ³„æ¼éƒ½ä¼šå¯¼è‡´ç¨‹åºä¸ç¨³å®šã€‚</li>
<li><strong>å“ˆå¸Œå†²çª</strong>ï¼šè™½ç„¶æœ¬å®ç°ä½¿ç”¨é“¾åœ°å€æ³•è§£å†³äº†å†²çªï¼Œä½†å½“è´Ÿè½½å› å­ï¼ˆå…ƒç´ æ•°é‡&#x2F;æ¡¶æ•°é‡ï¼‰è¿‡é«˜æ—¶ï¼Œé“¾è¡¨é•¿åº¦ä¼šå¢åŠ ï¼Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ï¼ˆé€€åŒ–ä¸ºO(n)ï¼‰ã€‚</li>
</ul>
<h3 id="6-2-ä¼˜åŒ–æ–¹å‘"><a href="#6-2-ä¼˜åŒ–æ–¹å‘" class="headerlink" title="6.2 ä¼˜åŒ–æ–¹å‘"></a>6.2 ä¼˜åŒ–æ–¹å‘</h3><ul>
<li><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼šå½“è´Ÿè½½å› å­è¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚0.7ï¼‰æ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹å“ˆå¸Œæ¡¶æ•°ç»„ï¼ˆå¦‚ç¿»å€ï¼‰ï¼Œå¹¶é‡æ–°å“ˆå¸Œæ‰€æœ‰å…ƒç´ ï¼Œé™ä½å†²çªç‡ã€‚</li>
<li><strong>æ›´ä¼˜çš„å“ˆå¸Œå‡½æ•°</strong>ï¼šæ›¿æ¢ä¸ºMurmurHashç­‰æ›´é«˜æ•ˆçš„å“ˆå¸Œç®—æ³•ï¼Œå‡å°‘å†²çªæ¦‚ç‡ã€‚</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šæ·»åŠ äº’æ–¥é”ï¼ˆ<code>pthread_mutex_t</code>ï¼‰ï¼Œæ”¯æŒå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å¹¶å‘æ“ä½œã€‚</li>
</ul>
<hr>
<h2 id="ä¸ƒã€æºç é™„å½•"><a href="#ä¸ƒã€æºç é™„å½•" class="headerlink" title="ä¸ƒã€æºç é™„å½•"></a>ä¸ƒã€æºç é™„å½•</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">hash.h</button><button type="button" class="tab">hash.c</button><button type="button" class="tab">main.c</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef HASH_MAP_H</span><br><span class="line">#define HASH_MAP_H</span><br><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line">#include &lt;stdint.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#define HASHMAP_CAPACITY 10  // å“ˆå¸Œè¡¨å®¹é‡å›ºå®šä¸º10</span><br><span class="line"></span><br><span class="line">typedef char *KeyType;   // é”®ç±»å‹ï¼šå­—ç¬¦ä¸²æŒ‡é’ˆ</span><br><span class="line">typedef char *ValueType; // å€¼ç±»å‹ï¼šå­—ç¬¦ä¸²æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œæ¡¶èŠ‚ç‚¹ï¼ˆé“¾è¡¨èŠ‚ç‚¹ï¼‰</span><br><span class="line">typedef struct node_s &#123;</span><br><span class="line">    KeyType key;          // é”®ï¼ˆå­—ç¬¦ä¸²ï¼‰</span><br><span class="line">    ValueType val;        // å€¼ï¼ˆå­—ç¬¦ä¸²ï¼‰</span><br><span class="line">    struct node_s *next;  // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ</span><br><span class="line">&#125; KeyValueNode;</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œè¡¨æ ¸å¿ƒç»“æ„ä½“</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    KeyValueNode *buckets[HASHMAP_CAPACITY];  // å“ˆå¸Œæ¡¶æ•°ç»„</span><br><span class="line">    uint32_t hash_seed;                       // å“ˆå¸Œç§å­ï¼ˆéšæœºåŒ–ï¼‰</span><br><span class="line">&#125; HashMap;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºå“ˆå¸Œè¡¨</span><br><span class="line">HashMap *hashmap_create();</span><br><span class="line">// é”€æ¯å“ˆå¸Œè¡¨</span><br><span class="line">void hashmap_destroy(HashMap *map);</span><br><span class="line">// æ’å…¥/æ›´æ–°é”®å€¼å¯¹</span><br><span class="line">ValueType hashmap_put(HashMap *map, KeyType key, ValueType val);</span><br><span class="line">// æŸ¥è¯¢é”®å¯¹åº”çš„å€¼</span><br><span class="line">ValueType hashmap_get(HashMap *map, KeyType key);</span><br><span class="line">// åˆ é™¤é”®å€¼å¯¹</span><br><span class="line">bool hashmap_remove(HashMap *map, KeyType key);</span><br><span class="line"></span><br><span class="line">#endif // HASH_MAP_H</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;hash.h&quot;</span><br><span class="line"></span><br><span class="line">// æ·±æ‹·è´å­—ç¬¦ä¸²ï¼ˆé¿å…å¤–éƒ¨ä¿®æ”¹å½±å“å“ˆå¸Œè¡¨ï¼‰,Cä¸­strdupå‡½æ•°å·²ç»å¼ƒç”¨ï¼Œæ‰€ä»¥é‡å‘½åä¸€ä¸ª</span><br><span class="line">char *strdup1(const char *s) &#123;</span><br><span class="line">    size_t len = strlen(s) + 1;</span><br><span class="line">    char *p = (char *)malloc(len);</span><br><span class="line">    if (p) memcpy(p, s, len);</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºå“ˆå¸Œè¡¨</span><br><span class="line">HashMap *hashmap_create() &#123;</span><br><span class="line">    HashMap *map = (HashMap *)calloc(1, sizeof(HashMap));</span><br><span class="line">    if (!map) &#123;</span><br><span class="line">        printf(&quot;calloc failed in hashmap_create</span><br><span class="line">&quot;);</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    map-&gt;hash_seed = (uint32_t)time(NULL);  // åˆå§‹åŒ–éšæœºç§å­</span><br><span class="line">    return map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é”€æ¯å“ˆå¸Œè¡¨ï¼ˆé‡Šæ”¾æ‰€æœ‰å†…å­˜ï¼‰</span><br><span class="line">void hashmap_destroy(HashMap *map) &#123;</span><br><span class="line">    if (!map) return;</span><br><span class="line">    for (int i = 0; i &lt; HASHMAP_CAPACITY; i++) &#123;</span><br><span class="line">        KeyValueNode *current = map-&gt;buckets[i];</span><br><span class="line">        while (current) &#123;</span><br><span class="line">            KeyValueNode *next = current-&gt;next;</span><br><span class="line">            free(current-&gt;key);   // é‡Šæ”¾é”®</span><br><span class="line">            free(current-&gt;val);   // é‡Šæ”¾å€¼</span><br><span class="line">            free(current);        // é‡Šæ”¾èŠ‚ç‚¹</span><br><span class="line">            current = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(map);  // é‡Šæ”¾å“ˆå¸Œè¡¨æœ¬èº«</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å“ˆå¸Œå‡½æ•°ï¼ˆå¤šé¡¹å¼æ»šåŠ¨å“ˆå¸Œ+éšæœºç§å­ï¼‰</span><br><span class="line">static uint32_t hash(const char *key, uint32_t seed) &#123;</span><br><span class="line">    uint32_t hash_val = 0;</span><br><span class="line">    while (*key) &#123;</span><br><span class="line">        hash_val = (hash_val * 31) + (uint32_t)*key++;  // 31æ˜¯ç»å…¸è´¨æ•°åŸºæ•°</span><br><span class="line">    &#125;</span><br><span class="line">    return (hash_val ^ seed) % HASHMAP_CAPACITY;  // ç»“åˆç§å­å–æ¨¡</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ’å…¥/æ›´æ–°é”®å€¼å¯¹</span><br><span class="line">ValueType hashmap_put(HashMap *map, KeyType key, ValueType val) &#123;</span><br><span class="line">    if (!map || !key || !val) return NULL;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed);  // è®¡ç®—å“ˆå¸Œå€¼</span><br><span class="line"></span><br><span class="line">    // æŸ¥æ‰¾é”®æ˜¯å¦å·²å­˜åœ¨ï¼ˆæ›´æ–°å€¼ï¼‰</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            free(current-&gt;val);         // é‡Šæ”¾æ—§å€¼</span><br><span class="line">            current-&gt;val = strdup1(val); // æ›´æ–°ä¸ºæ–°å€¼ï¼ˆæ·±æ‹·è´ï¼‰</span><br><span class="line">            return current-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é”®ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹ï¼ˆå¤´æ’æ³•ï¼‰</span><br><span class="line">    KeyValueNode *new_node = (KeyValueNode *)calloc(1, sizeof(KeyValueNode));</span><br><span class="line">    if (!new_node) &#123;</span><br><span class="line">        fprintf(stderr, &quot;Memory allocation failed in hashmap_put</span><br><span class="line">&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    new_node-&gt;key = strdup1(key);   // æ·±æ‹·è´é”®</span><br><span class="line">    new_node-&gt;val = strdup1(val);   // æ·±æ‹·è´å€¼</span><br><span class="line">    new_node-&gt;next = map-&gt;buckets[index];  // å¤´æ’æ³•é“¾æ¥é“¾è¡¨</span><br><span class="line">    map-&gt;buckets[index] = new_node;</span><br><span class="line"></span><br><span class="line">    return new_node-&gt;val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŸ¥è¯¢é”®å¯¹åº”çš„å€¼</span><br><span class="line">ValueType hashmap_get(HashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) return NULL;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed);  // è®¡ç®—å“ˆå¸Œå€¼</span><br><span class="line"></span><br><span class="line">    // éå†é“¾è¡¨æŸ¥æ‰¾é”®</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            return current-&gt;val;  // æ‰¾åˆ°è¿”å›å€¼</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    return NULL;  // æœªæ‰¾åˆ°è¿”å›NULL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ é™¤é”®å€¼å¯¹</span><br><span class="line">bool hashmap_remove(HashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) return false;  // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    uint32_t index = hash(key, map-&gt;hash_seed);  // è®¡ç®—å“ˆå¸Œå€¼</span><br><span class="line"></span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    KeyValueNode *prev = NULL;</span><br><span class="line"></span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;  // æ‰¾åˆ°ç›®æ ‡é”®</span><br><span class="line">            // å¤„ç†é“¾è¡¨é“¾æ¥</span><br><span class="line">            if (prev) &#123;</span><br><span class="line">                prev-&gt;next = current-&gt;next;  // ä¸­é—´/å°¾éƒ¨èŠ‚ç‚¹</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                map-&gt;buckets[index] = current-&gt;next;  // å¤´èŠ‚ç‚¹</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // é‡Šæ”¾å†…å­˜</span><br><span class="line">            free(current-&gt;key);   // é‡Šæ”¾é”®</span><br><span class="line">            free(current-&gt;val);   // é‡Šæ”¾å€¼</span><br><span class="line">            free(current);        // é‡Šæ”¾èŠ‚ç‚¹</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;       // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">        current = current-&gt;next;  // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    return false;  // æœªæ‰¾åˆ°é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;hash.h&quot;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    HashMap *map = hashmap_create();</span><br><span class="line">    if (!map) return 1;</span><br><span class="line"></span><br><span class="line">    // æ’å…¥é”®å€¼å¯¹</span><br><span class="line">    hashmap_put(map, &quot;name&quot;, &quot;Alice&quot;);</span><br><span class="line">    hashmap_put(map, &quot;age&quot;, &quot;25&quot;);</span><br><span class="line"></span><br><span class="line">    // æŸ¥è¯¢å¹¶æ‰“å°</span><br><span class="line">    ValueType name = hashmap_get(map, &quot;name&quot;);</span><br><span class="line">    ValueType age = hashmap_get(map, &quot;age&quot;);</span><br><span class="line">    if (name) printf(&quot;Name: %s\n&quot;, name);</span><br><span class="line">    if (age)  printf(&quot;Age: %s\n&quot;, age);</span><br><span class="line"></span><br><span class="line">    // åˆ é™¤é”®å¹¶éªŒè¯</span><br><span class="line">    if (hashmap_remove(map, &quot;age&quot;)) &#123;</span><br><span class="line">        printf(&quot;&#x27;age&#x27; removed successfully.\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    age = hashmap_get(map, &quot;age&quot;);</span><br><span class="line">    if (!age) &#123;</span><br><span class="line">        printf(&quot;&#x27;age&#x27; not found after removal.\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hashmap_destroy(map);  // é‡Šæ”¾æ‰€æœ‰å†…å­˜</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      <categories>
        <category>Data-Structures</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å‡½æ•°</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€æ–‡ä»¶æµï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶çš„ä¸‰ç§é«˜æ•ˆå®ç°</title>
    <url>/posts/b63aa210/</url>
    <content><![CDATA[<img src="/img/PageCode/18.png" alt="Cè¯­è¨€æ–‡ä»¶æµï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶çš„ä¸‰ç§é«˜æ•ˆå®ç°" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨Cè¯­è¨€ä¸­ï¼Œæ–‡ä»¶æ“ä½œæ˜¯å¤„ç†æ•°æ®å­˜å‚¨ä¸ä¼ è¾“çš„æ ¸å¿ƒèƒ½åŠ›ã€‚æ— è®ºæ˜¯æ–‡æœ¬æ–‡ä»¶è¿˜æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰ï¼Œå¤åˆ¶æ“ä½œéƒ½æ˜¯æœ€å¸¸è§çš„éœ€æ±‚ã€‚ä½†ä¸åŒåœºæ™¯ä¸‹ï¼Œé€‰æ‹©ä¸åŒçš„å¤åˆ¶æ–¹å¼ä¼šç›´æ¥å½±å“ç¨‹åºçš„æ€§èƒ½ä¸æ•°æ®å®Œæ•´æ€§ã€‚æœ¬æ–‡å°†ç»“åˆä¸‰ç§ç»å…¸å¤åˆ¶å®ç°ï¼ˆå­—ç¬¦å¤åˆ¶ã€æŒ‰è¡Œå¤åˆ¶ã€äºŒè¿›åˆ¶å¤åˆ¶ï¼‰ï¼Œæ·±å…¥è§£ææ–‡ä»¶æµçš„æ ¸å¿ƒæœºåˆ¶ï¼Œå¹¶ç»™å‡ºå®æˆ˜ä¼˜åŒ–å»ºè®®ã€‚</p>
<hr>
<h2 id="ä¸€ã€æ–‡ä»¶æµåŸºç¡€ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼"><a href="#ä¸€ã€æ–‡ä»¶æµåŸºç¡€ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼" class="headerlink" title="ä¸€ã€æ–‡ä»¶æµåŸºç¡€ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼"></a>ä¸€ã€æ–‡ä»¶æµåŸºç¡€ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼</h2><h3 id="1-1-æ–‡ä»¶æ‰“å¼€æ¨¡å¼çš„é€‰æ‹©"><a href="#1-1-æ–‡ä»¶æ‰“å¼€æ¨¡å¼çš„é€‰æ‹©" class="headerlink" title="1.1 æ–‡ä»¶æ‰“å¼€æ¨¡å¼çš„é€‰æ‹©"></a>1.1 æ–‡ä»¶æ‰“å¼€æ¨¡å¼çš„é€‰æ‹©</h3><p>Cè¯­è¨€ä¸­ï¼Œ<code>fopen</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆæ¨¡å¼ï¼‰å†³å®šäº†æ–‡ä»¶çš„è¯»å†™æ–¹å¼ã€‚æœ€å¸¸ç”¨çš„æ¨¡å¼æœ‰ï¼š</p>
<ul>
<li><strong>æ–‡æœ¬æ¨¡å¼ï¼ˆ&quot;r&quot;&#x2F;&quot;w&quot;&#x2F;&quot;a&quot;ï¼‰</strong>ï¼šä»¥å­—ç¬¦å½¢å¼è¯»å†™ï¼Œè‡ªåŠ¨å¤„ç†æ¢è¡Œç¬¦è½¬æ¢ï¼ˆå¦‚Windowsçš„<code>\r </code>è½¬Unixçš„<code> </code>ï¼‰ã€‚</li>
<li><strong>äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆ&quot;rb&quot;&#x2F;&quot;wb&quot;&#x2F;&quot;ab&quot;ï¼‰</strong>ï¼šä»¥å­—èŠ‚å½¢å¼ç›´æ¥è¯»å†™ï¼Œä¸è¿›è¡Œä»»ä½•è½¬æ¢ã€‚</li>
</ul>
<h3 id="1-2-ä¸ºä»€ä¹ˆå¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Ÿ"><a href="#1-2-ä¸ºä»€ä¹ˆå¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Ÿ" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆå¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Ÿ"></a>1.2 ä¸ºä»€ä¹ˆå¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶å¿…é¡»ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Ÿ</h3><p>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ã€å¯æ‰§è¡Œæ–‡ä»¶ï¼‰çš„æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ç‰¹å®šå«ä¹‰ï¼Œ<strong>ä»»ä½•æ ¼å¼è½¬æ¢éƒ½ä¼šç ´åæ•°æ®å®Œæ•´æ€§</strong>ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>æ–‡æœ¬æ¨¡å¼ä¸‹ï¼Œ<code>fgetc</code>ä¼šå°†<code>\r </code>ï¼ˆWindowsæ¢è¡Œç¬¦ï¼‰è½¬æ¢ä¸º<code> </code>ï¼ˆUnixæ¢è¡Œç¬¦ï¼‰ï¼Œå¯¼è‡´äºŒè¿›åˆ¶æ–‡ä»¶å†…å®¹è¢«ç¯¡æ”¹ã€‚</li>
<li>äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼Œ<code>fread</code>å’Œ<code>fwrite</code>ç›´æ¥æŒ‰å­—èŠ‚è¯»å†™ï¼Œå®Œå…¨ä¿ç•™åŸå§‹æ•°æ®ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šå¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰æ—¶ï¼Œå¿…é¡»ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆ&quot;rb&quot;&#x2F;&quot;wb&quot;ï¼‰ï¼›å¤åˆ¶æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©æ–‡æœ¬æˆ–äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆæ–‡æœ¬æ¨¡å¼æ›´æ˜“è¯»ï¼ŒäºŒè¿›åˆ¶æ¨¡å¼æ›´å®‰å…¨ï¼‰ã€‚</p>
<hr>
<h2 id="äºŒã€ä¸‰ç§å¤åˆ¶æ–¹å¼è§£æï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶"><a href="#äºŒã€ä¸‰ç§å¤åˆ¶æ–¹å¼è§£æï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶" class="headerlink" title="äºŒã€ä¸‰ç§å¤åˆ¶æ–¹å¼è§£æï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶"></a>äºŒã€ä¸‰ç§å¤åˆ¶æ–¹å¼è§£æï¼šä»å­—ç¬¦åˆ°äºŒè¿›åˆ¶</h2><h3 id="2-1-copy-file-charï¼šæŒ‰å­—ç¬¦å¤åˆ¶ï¼ˆfgetc-fputcï¼‰"><a href="#2-1-copy-file-charï¼šæŒ‰å­—ç¬¦å¤åˆ¶ï¼ˆfgetc-fputcï¼‰" class="headerlink" title="2.1 copy_file_charï¼šæŒ‰å­—ç¬¦å¤åˆ¶ï¼ˆfgetc&#x2F;fputcï¼‰"></a>2.1 copy_file_charï¼šæŒ‰å­—ç¬¦å¤åˆ¶ï¼ˆfgetc&#x2F;fputcï¼‰</h3><h4 id="åŸç†ä¸é€‚ç”¨åœºæ™¯"><a href="#åŸç†ä¸é€‚ç”¨åœºæ™¯" class="headerlink" title="åŸç†ä¸é€‚ç”¨åœºæ™¯"></a>åŸç†ä¸é€‚ç”¨åœºæ™¯</h4><p><code>copy_file_char</code>é€šè¿‡<code>fgetc</code>ï¼ˆä»æºæ–‡ä»¶è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼‰å’Œ<code>fputc</code>ï¼ˆå‘ç›®æ ‡æ–‡ä»¶å†™å…¥ä¸€ä¸ªå­—ç¬¦ï¼‰å®ç°é€å­—ç¬¦å¤åˆ¶ã€‚å…¶é€»è¾‘ç®€å•ï¼Œé€‚åˆ<strong>å°æ–‡ä»¶æˆ–æ–‡æœ¬æ–‡ä»¶</strong>ï¼ˆå¦‚é…ç½®æ–‡ä»¶ã€æ—¥å¿—ï¼‰ã€‚</p>
<h4 id="ä»£ç ç»†èŠ‚ä¸æ½œåœ¨é—®é¢˜"><a href="#ä»£ç ç»†èŠ‚ä¸æ½œåœ¨é—®é¢˜" class="headerlink" title="ä»£ç ç»†èŠ‚ä¸æ½œåœ¨é—®é¢˜"></a>ä»£ç ç»†èŠ‚ä¸æ½œåœ¨é—®é¢˜</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void copy_file_char(const char *src_file, const char *dest_file) &#123;</span><br><span class="line">    int ret;</span><br><span class="line">    FILE *src = fopen(src_file, &quot;r&quot;);   // æ–‡æœ¬æ¨¡å¼è¯»å–ï¼ˆå¯èƒ½è½¬æ¢æ¢è¡Œç¬¦ï¼‰</span><br><span class="line">    FILE *dst = fopen(dest_file, &quot;w&quot;);  // æ–‡æœ¬æ¨¡å¼å†™å…¥ï¼ˆå¯èƒ½è½¬æ¢æ¢è¡Œç¬¦ï¼‰</span><br><span class="line">    if (!src || !dst) &#123; /* é”™è¯¯å¤„ç† */ &#125;</span><br><span class="line"></span><br><span class="line">    while ((ret = fgetc(src)) != EOF) &#123; // é€ä¸ªå­—ç¬¦è¯»å–</span><br><span class="line">        fputc(ret, dst);                // é€ä¸ªå­—ç¬¦å†™å…¥</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose(src);</span><br><span class="line">    fclose(dst);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šä»£ç ç®€å•ï¼Œæ˜“äºç†è§£ï¼›é€‚åˆå°æ–‡ä»¶ï¼ˆå¦‚å‡ ç™¾KBçš„æ–‡æœ¬ï¼‰ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šé¢‘ç¹è°ƒç”¨<code>fgetc</code>å’Œ<code>fputc</code>ä¼šå¯¼è‡´å¤§é‡IOæ“ä½œï¼Œæ€§èƒ½ä½ä¸‹ï¼ˆå¤§æ–‡ä»¶å¤åˆ¶æ—¶è€—æ—¶æ˜¾è‘—å¢åŠ ï¼‰ï¼›æ–‡æœ¬æ¨¡å¼ä¸‹å¯èƒ½æ„å¤–è½¬æ¢æ¢è¡Œç¬¦ï¼ˆå¦‚è·¨å¹³å°å¤åˆ¶ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="2-2-copy-file-lineï¼šæŒ‰è¡Œå¤åˆ¶ï¼ˆfgets-fputsï¼‰"><a href="#2-2-copy-file-lineï¼šæŒ‰è¡Œå¤åˆ¶ï¼ˆfgets-fputsï¼‰" class="headerlink" title="2.2 copy_file_lineï¼šæŒ‰è¡Œå¤åˆ¶ï¼ˆfgets&#x2F;fputsï¼‰"></a>2.2 copy_file_lineï¼šæŒ‰è¡Œå¤åˆ¶ï¼ˆfgets&#x2F;fputsï¼‰</h3><h4 id="åŸç†ä¸é€‚ç”¨åœºæ™¯-1"><a href="#åŸç†ä¸é€‚ç”¨åœºæ™¯-1" class="headerlink" title="åŸç†ä¸é€‚ç”¨åœºæ™¯"></a>åŸç†ä¸é€‚ç”¨åœºæ™¯</h4><p><code>copy_file_line</code>é€šè¿‡<code>fgets</code>ï¼ˆè¯»å–ä¸€è¡Œï¼Œæœ€å¤š<code>Maxsize-1</code>å­—ç¬¦ï¼‰å’Œ<code>fputs</code>ï¼ˆå†™å…¥ä¸€è¡Œï¼‰å®ç°æŒ‰è¡Œå¤åˆ¶ã€‚å…¶ç¼“å†²åŒº<code>Maxsize</code>ï¼ˆç¤ºä¾‹ä¸­ä¸º1024ï¼‰å¹³è¡¡äº†å†…å­˜å ç”¨ä¸IOæ•ˆç‡ï¼Œé€‚åˆ<strong>æ–‡æœ¬æ–‡ä»¶</strong>ï¼ˆéœ€ä¿ç•™æ¢è¡Œç¬¦ï¼‰ã€‚</p>
<h4 id="ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ç‚¹"><a href="#ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ç‚¹" class="headerlink" title="ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ç‚¹"></a>ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define Maxsize 1024</span><br><span class="line">void copy_file_line(const char *src_file, const char *dest_file) &#123;</span><br><span class="line">    char buf[Maxsize];</span><br><span class="line">    FILE *src = fopen(src_file, &quot;r&quot;);</span><br><span class="line">    FILE *dst = fopen(dest_file, &quot;w&quot;);</span><br><span class="line">    if (!src || !dst) &#123; /* é”™è¯¯å¤„ç† */ &#125;</span><br><span class="line"></span><br><span class="line">    while (fgets(buf, Maxsize, src) != NULL) &#123; // è¯»å–ä¸€è¡Œï¼ˆæœ€å¤šMaxsize-1å­—ç¬¦ï¼‰</span><br><span class="line">        fputs(buf, dst);                       // å†™å…¥ä¸€è¡Œï¼ˆä¿ç•™æ¢è¡Œç¬¦ï¼‰</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose(src);</span><br><span class="line">    fclose(dst);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šé€šè¿‡ç¼“å†²åŒºå‡å°‘IOæ¬¡æ•°ï¼ˆæ¯è¡Œä¸€æ¬¡IOï¼‰ï¼Œæ¯”é€å­—ç¬¦å¤åˆ¶å¿«ï¼›ä¿ç•™æ¢è¡Œç¬¦ï¼Œé€‚åˆæ–‡æœ¬æ–‡ä»¶ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šè‹¥è¡Œè¿‡é•¿ï¼ˆè¶…è¿‡<code>Maxsize</code>ï¼‰ï¼Œ<code>fgets</code>ä¼šæˆªæ–­æ•°æ®ï¼›ä»å­˜åœ¨IOå¼€é”€ï¼ˆæ¯è¡Œä¸€æ¬¡è¯»å†™ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="2-3-binary-file-cpyï¼šäºŒè¿›åˆ¶å¤åˆ¶ï¼ˆfread-fwriteï¼‰"><a href="#2-3-binary-file-cpyï¼šäºŒè¿›åˆ¶å¤åˆ¶ï¼ˆfread-fwriteï¼‰" class="headerlink" title="2.3 binary_file_cpyï¼šäºŒè¿›åˆ¶å¤åˆ¶ï¼ˆfread&#x2F;fwriteï¼‰"></a>2.3 binary_file_cpyï¼šäºŒè¿›åˆ¶å¤åˆ¶ï¼ˆfread&#x2F;fwriteï¼‰</h3><h4 id="åŸç†ä¸æ ¸å¿ƒè®¾è®¡"><a href="#åŸç†ä¸æ ¸å¿ƒè®¾è®¡" class="headerlink" title="åŸç†ä¸æ ¸å¿ƒè®¾è®¡"></a>åŸç†ä¸æ ¸å¿ƒè®¾è®¡</h4><p><code>binary_file_cpy</code>é€šè¿‡<code>fread</code>ï¼ˆè¯»å–äºŒè¿›åˆ¶æ•°æ®å—ï¼‰å’Œ<code>fwrite</code>ï¼ˆå†™å…¥äºŒè¿›åˆ¶æ•°æ®å—ï¼‰å®ç°é«˜æ•ˆå¤åˆ¶ã€‚å…¶ä½¿ç”¨<strong>4KBç¼“å†²åŒº</strong>ï¼ˆç¤ºä¾‹ä¸­ä¸º<code>char buf[4096]</code>ï¼‰ï¼Œå¹³è¡¡äº†IOæ¬¡æ•°ä¸å†…å­˜å ç”¨ï¼Œé€‚åˆ<strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰ã€‚</p>
<h4 id="ä»£ç ç»†èŠ‚ä¸æ•°æ®å®Œæ•´æ€§ä¿è¯"><a href="#ä»£ç ç»†èŠ‚ä¸æ•°æ®å®Œæ•´æ€§ä¿è¯" class="headerlink" title="ä»£ç ç»†èŠ‚ä¸æ•°æ®å®Œæ•´æ€§ä¿è¯"></a>ä»£ç ç»†èŠ‚ä¸æ•°æ®å®Œæ•´æ€§ä¿è¯</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void binary_file_cpy(const char *src_file, const char *dest_file) &#123;</span><br><span class="line">    char buf[4096];       // 4KBç¼“å†²åŒºï¼ˆå¹³è¡¡IOæ•ˆç‡ä¸å†…å­˜ï¼‰</span><br><span class="line">    size_t read_size;     // å®é™…è¯»å–çš„å­—èŠ‚æ•°</span><br><span class="line">    FILE *src = fopen(src_file, &quot;rb&quot;);  // äºŒè¿›åˆ¶æ¨¡å¼è¯»å–ï¼ˆæ— è½¬æ¢ï¼‰</span><br><span class="line">    FILE *dst = fopen(dest_file, &quot;wb&quot;); // äºŒè¿›åˆ¶æ¨¡å¼å†™å…¥ï¼ˆæ— è½¬æ¢ï¼‰</span><br><span class="line">    if (!src || !dst) &#123; /* é”™è¯¯å¤„ç† */ &#125;</span><br><span class="line"></span><br><span class="line">    while ((read_size = fread(buf, 1, sizeof(buf), src)) &gt; 0) &#123; </span><br><span class="line">        // å†™å…¥å®é™…è¯»å–çš„å­—èŠ‚æ•°ï¼ˆé¿å…æœ€åä¸€æ¬¡è¯»å–ä¸è¶³ç¼“å†²åŒºå¤§å°æ—¶å‡ºé”™ï¼‰</span><br><span class="line">        fwrite(buf, 1, read_size, dst);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose(src);</span><br><span class="line">    fclose(dst);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…³é”®è®¾è®¡ï¼š<ul>
<li><strong>4KBç¼“å†²åŒº</strong>ï¼šé€‰æ‹©4KBï¼ˆ4096å­—èŠ‚ï¼‰æ˜¯ç»éªŒå€¼ï¼Œå…¼é¡¾å†…å­˜å ç”¨ï¼ˆ4KBå¯¹ç°ä»£å†…å­˜å¯å¿½ç•¥ï¼‰ä¸IOæ¬¡æ•°ï¼ˆå‡å°‘ç£ç›˜å¯»é“æ—¶é—´ï¼‰ã€‚</li>
<li><strong>å†™å…¥å®é™…è¯»å–çš„å­—èŠ‚æ•°</strong>ï¼š<code>fread</code>è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ï¼ˆå¦‚æœ€åä¸€æ¬¡è¯»å–å¯èƒ½ä¸è¶³4KBï¼‰ï¼Œ<code>fwrite</code>éœ€å†™å…¥ç›¸åŒå­—èŠ‚æ•°ï¼Œé¿å…æ•°æ®ä¸¢å¤±æˆ–å¤šå†™ã€‚</li>
</ul>
</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šIOæ¬¡æ•°å°‘ï¼ˆæ¯4KBä¸€æ¬¡ï¼‰ï¼Œé€Ÿåº¦å¿«ï¼›äºŒè¿›åˆ¶æ¨¡å¼ä¿è¯æ•°æ®å®Œæ•´æ€§ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šæ— æ³•ä¿ç•™æ–‡æœ¬æ–‡ä»¶çš„æ¢è¡Œç¬¦ï¼ˆä½†å¯¹äºŒè¿›åˆ¶æ–‡ä»¶æ— å½±å“ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="ä¸‰ã€ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ï¼šé”™è¯¯å¤„ç†ä¸æ€§èƒ½å¯¹æ¯”"><a href="#ä¸‰ã€ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ï¼šé”™è¯¯å¤„ç†ä¸æ€§èƒ½å¯¹æ¯”" class="headerlink" title="ä¸‰ã€ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ï¼šé”™è¯¯å¤„ç†ä¸æ€§èƒ½å¯¹æ¯”"></a>ä¸‰ã€ä»£ç ç»†èŠ‚ä¸ä¼˜åŒ–ï¼šé”™è¯¯å¤„ç†ä¸æ€§èƒ½å¯¹æ¯”</h2><h3 id="3-1-é”™è¯¯å¤„ç†ï¼šé¿å…ç©ºæŒ‡é’ˆå´©æºƒ"><a href="#3-1-é”™è¯¯å¤„ç†ï¼šé¿å…ç©ºæŒ‡é’ˆå´©æºƒ" class="headerlink" title="3.1 é”™è¯¯å¤„ç†ï¼šé¿å…ç©ºæŒ‡é’ˆå´©æºƒ"></a>3.1 é”™è¯¯å¤„ç†ï¼šé¿å…ç©ºæŒ‡é’ˆå´©æºƒ</h3><p>æ–‡ä»¶æ“ä½œä¸­æœ€å¸¸è§çš„é”™è¯¯æ˜¯<code>fopen</code>å¤±è´¥ï¼ˆå¦‚æ–‡ä»¶ä¸å­˜åœ¨ã€æƒé™ä¸è¶³ï¼‰ã€‚å¿…é¡»æ£€æŸ¥è¿”å›çš„<code>FILE*</code>æ˜¯å¦ä¸º<code>NULL</code>ï¼Œå¹¶å…³é—­å·²æ‰“å¼€çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ­£ç¡®ç¤ºä¾‹ï¼šæ£€æŸ¥fopenå¤±è´¥</span><br><span class="line">FILE *src = fopen(src_file, &quot;rb&quot;);</span><br><span class="line">if (!src) &#123;</span><br><span class="line">    perror(&quot;æºæ–‡ä»¶æ‰“å¼€å¤±è´¥&quot;); // è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼ˆå¦‚â€œæƒé™ä¸è¶³â€ï¼‰</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FILE *dst = fopen(dest_file, &quot;wb&quot;);</span><br><span class="line">if (!dst) &#123;</span><br><span class="line">    perror(&quot;ç›®æ ‡æ–‡ä»¶æ‰“å¼€å¤±è´¥&quot;);</span><br><span class="line">    fclose(src);  // å…³é—­å·²æ‰“å¼€çš„æºæ–‡ä»¶ï¼Œé¿å…èµ„æºæ³„æ¼</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ€§èƒ½å¯¹æ¯”ï¼šä¸‰ç§æ–¹æ³•çš„è€—æ—¶å·®å¼‚"><a href="#3-2-æ€§èƒ½å¯¹æ¯”ï¼šä¸‰ç§æ–¹æ³•çš„è€—æ—¶å·®å¼‚" class="headerlink" title="3.2 æ€§èƒ½å¯¹æ¯”ï¼šä¸‰ç§æ–¹æ³•çš„è€—æ—¶å·®å¼‚"></a>3.2 æ€§èƒ½å¯¹æ¯”ï¼šä¸‰ç§æ–¹æ³•çš„è€—æ—¶å·®å¼‚</h3><p>é€šè¿‡æµ‹è¯•å¤§æ–‡ä»¶ï¼ˆå¦‚100MBï¼‰å¤åˆ¶è€—æ—¶ï¼Œå¯éªŒè¯ä¸‰ç§æ–¹æ³•çš„æ€§èƒ½å·®å¼‚ï¼ˆå®é™…ç»“æœå› ç¡¬ä»¶è€Œå¼‚ï¼‰ï¼š</p>
<ul>
<li><strong>copy_file_char</strong>ï¼šæœ€æ…¢ï¼ˆé¢‘ç¹IOï¼Œçº¦10ç§’ï¼‰ã€‚</li>
<li><strong>copy_file_line</strong>ï¼šä¸­ç­‰ï¼ˆæ¯è¡Œä¸€æ¬¡IOï¼Œçº¦2ç§’ï¼‰ã€‚</li>
<li><strong>binary_file_cpy</strong>ï¼šæœ€å¿«ï¼ˆ4KBç¼“å†²åŒºï¼Œçº¦0.5ç§’ï¼‰ã€‚</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼šäºŒè¿›åˆ¶å¤åˆ¶ï¼ˆ<code>fread</code>&#x2F;<code>fwrite</code>ï¼‰æ˜¯æœ€ä¼˜é€‰æ‹©ï¼Œå°¤å…¶é€‚åˆå¤§æ–‡ä»¶ã€‚</p>
<hr>
<h2 id="å››ã€æ‰©å±•æ€è€ƒï¼šå¸¦è¿›åº¦æ¡ä¸è¶…å¤§å‹æ–‡ä»¶å¤„ç†"><a href="#å››ã€æ‰©å±•æ€è€ƒï¼šå¸¦è¿›åº¦æ¡ä¸è¶…å¤§å‹æ–‡ä»¶å¤„ç†" class="headerlink" title="å››ã€æ‰©å±•æ€è€ƒï¼šå¸¦è¿›åº¦æ¡ä¸è¶…å¤§å‹æ–‡ä»¶å¤„ç†"></a>å››ã€æ‰©å±•æ€è€ƒï¼šå¸¦è¿›åº¦æ¡ä¸è¶…å¤§å‹æ–‡ä»¶å¤„ç†</h2><h3 id="4-1-å¸¦è¿›åº¦æ¡çš„å¤åˆ¶"><a href="#4-1-å¸¦è¿›åº¦æ¡çš„å¤åˆ¶" class="headerlink" title="4.1 å¸¦è¿›åº¦æ¡çš„å¤åˆ¶"></a>4.1 å¸¦è¿›åº¦æ¡çš„å¤åˆ¶</h3><p>è¦å®ç°è¿›åº¦æ¡ï¼Œéœ€è®¡ç®—å·²å¤åˆ¶æ•°æ®é‡ä¸æ€»æ•°æ®é‡çš„æ¯”ä¾‹ã€‚å¯é€šè¿‡<code>fseek</code>å’Œ<code>ftell</code>è·å–æ–‡ä»¶æ€»å¤§å°ï¼ˆä»…é€‚ç”¨äºå¯éšæœºè®¿é—®çš„æ–‡ä»¶ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åœ¨binary_file_cpyä¸­æ·»åŠ è¿›åº¦æ¡</span><br><span class="line">void binary_file_cpy_with_progress(const char *src_file, const char *dest_file) &#123;</span><br><span class="line">    FILE *src = fopen(src_file, &quot;rb&quot;);</span><br><span class="line">    fseek(src, 0, SEEK_END);</span><br><span class="line">    long total_size = ftell(src); // æ€»å­—èŠ‚æ•°</span><br><span class="line">    fseek(src, 0, SEEK_SET);</span><br><span class="line"></span><br><span class="line">    FILE *dst = fopen(dest_file, &quot;wb&quot;);</span><br><span class="line">    char buf[4096];</span><br><span class="line">    size_t read_size;</span><br><span class="line">    long copied = 0;</span><br><span class="line"></span><br><span class="line">    while ((read_size = fread(buf, 1, sizeof(buf), src)) &gt; 0) &#123;</span><br><span class="line">        fwrite(buf, 1, read_size, dst);</span><br><span class="line">        copied += read_size;</span><br><span class="line">        printf(&quot;\rè¿›åº¦: %.2f%%&quot;, (double)copied / total_size * 100);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;\nå¤åˆ¶å®Œæˆï¼\n&quot;);</span><br><span class="line">    fclose(src);</span><br><span class="line">    fclose(dst);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-è¶…å¤§å‹æ–‡ä»¶å¤„ç†ï¼šåˆ†å—è¯»å–-å¤šçº¿ç¨‹"><a href="#4-2-è¶…å¤§å‹æ–‡ä»¶å¤„ç†ï¼šåˆ†å—è¯»å–-å¤šçº¿ç¨‹" class="headerlink" title="4.2 è¶…å¤§å‹æ–‡ä»¶å¤„ç†ï¼šåˆ†å—è¯»å–+å¤šçº¿ç¨‹"></a>4.2 è¶…å¤§å‹æ–‡ä»¶å¤„ç†ï¼šåˆ†å—è¯»å–+å¤šçº¿ç¨‹</h3><p>å¯¹äºè¶…å¤§å‹æ–‡ä»¶ï¼ˆå¦‚æ•°GBï¼‰ï¼Œå¯é‡‡ç”¨<strong>åˆ†å—è¯»å–+å¤šçº¿ç¨‹</strong>æå‡é€Ÿåº¦ï¼š</p>
<ul>
<li><strong>åˆ†å—è¯»å–</strong>ï¼šå°†æ–‡ä»¶åˆ’åˆ†ä¸ºå¤šä¸ªå—ï¼ˆå¦‚æ¯å—1MBï¼‰ï¼Œå¹¶è¡Œè¯»å–ä¸åŒå—ã€‚</li>
<li><strong>å¤šçº¿ç¨‹å†™å…¥</strong>ï¼šæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å†™å…¥ä¸€ä¸ªå—ï¼Œæœ€ååˆå¹¶ã€‚</li>
</ul>
<p>ï¼ˆæ³¨ï¼šå¤šçº¿ç¨‹éœ€å¤„ç†çº¿ç¨‹åŒæ­¥ä¸æ–‡ä»¶æŒ‡é’ˆç®¡ç†ï¼Œå¤æ‚åº¦è¾ƒé«˜ï¼Œéœ€è°¨æ…å®ç°ã€‚ï¼‰</p>
<hr>
<h2 id="äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šå¤åˆ¶å›¾ç‰‡-è§†é¢‘çš„äºŒè¿›åˆ¶å®ç°"><a href="#äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šå¤åˆ¶å›¾ç‰‡-è§†é¢‘çš„äºŒè¿›åˆ¶å®ç°" class="headerlink" title="äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šå¤åˆ¶å›¾ç‰‡&#x2F;è§†é¢‘çš„äºŒè¿›åˆ¶å®ç°"></a>äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šå¤åˆ¶å›¾ç‰‡&#x2F;è§†é¢‘çš„äºŒè¿›åˆ¶å®ç°</h2><p>å¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ï¼‰æ—¶ï¼Œå¿…é¡»ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Œå¹¶ç¡®ä¿ç¼“å†²åŒºè¶³å¤Ÿå¤§ä»¥å‡å°‘IOæ¬¡æ•°ã€‚ä»¥ä¸‹æ˜¯è°ƒç”¨<code>binary_file_cpy</code>å¤åˆ¶å›¾ç‰‡çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main(void) &#123;</span><br><span class="line">    const char *src_img = &quot;photo.jpg&quot;;</span><br><span class="line">    const char *dest_img = &quot;photo_copy.jpg&quot;;</span><br><span class="line"></span><br><span class="line">    // å¤åˆ¶å›¾ç‰‡ï¼ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰</span><br><span class="line">    binary_file_cpy(src_img, dest_img);</span><br><span class="line"></span><br><span class="line">    printf(&quot;å›¾ç‰‡å¤åˆ¶å®Œæˆï¼&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li><strong>é¿å…æ–‡æœ¬æ¨¡å¼</strong>ï¼šè‹¥ç”¨æ–‡æœ¬æ¨¡å¼ï¼ˆ&quot;r&quot;&#x2F;&quot;w&quot;ï¼‰å¤åˆ¶å›¾ç‰‡ï¼Œæ¢è¡Œç¬¦è½¬æ¢ä¼šç ´åäºŒè¿›åˆ¶æ•°æ®ï¼Œå¯¼è‡´å›¾ç‰‡æ— æ³•æ‰“å¼€ã€‚</li>
<li><strong>ç¼“å†²åŒºå¤§å°</strong>ï¼šäºŒè¿›åˆ¶å¤åˆ¶å»ºè®®ä½¿ç”¨4KBæˆ–æ›´å¤§çš„ç¼“å†²åŒºï¼ˆå¦‚8KBï¼‰ï¼Œå¹³è¡¡IOæ•ˆç‡ä¸å†…å­˜å ç”¨ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¿…é¡»æ£€æŸ¥<code>fopen</code>è¿”å›å€¼ï¼Œé¿å…ç©ºæŒ‡é’ˆæ“ä½œï¼›å¤åˆ¶å®Œæˆåæ£€æŸ¥<code>fclose</code>æ˜¯å¦æˆåŠŸï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡è¯¦ç»†è§£æäº†Cè¯­è¨€ä¸­ä¸‰ç§æ–‡ä»¶æµå¤åˆ¶æ–¹å¼çš„åŸç†ä¸é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li><strong>å­—ç¬¦å¤åˆ¶</strong>ï¼ˆ<code>fgetc</code>&#x2F;<code>fputc</code>ï¼‰ï¼šç®€å•ä½†ä½æ•ˆï¼Œé€‚åˆå°æ–‡æœ¬æ–‡ä»¶ã€‚</li>
<li><strong>æŒ‰è¡Œå¤åˆ¶</strong>ï¼ˆ<code>fgets</code>&#x2F;<code>fputs</code>ï¼‰ï¼šå¹³è¡¡IOä¸å†…å­˜ï¼Œé€‚åˆéœ€ä¿ç•™æ¢è¡Œç¬¦çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li>
<li><strong>äºŒè¿›åˆ¶å¤åˆ¶</strong>ï¼ˆ<code>fread</code>&#x2F;<code>fwrite</code>ï¼‰ï¼šé«˜æ•ˆä¸”å®‰å…¨ï¼Œé€‚åˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€è§†é¢‘ï¼‰ã€‚</li>
</ul>
<p>å®é™…å¼€å‘ä¸­ï¼Œåº”æ ¹æ®æ–‡ä»¶ç±»å‹ï¼ˆæ–‡æœ¬&#x2F;äºŒè¿›åˆ¶ï¼‰å’Œå¤§å°ï¼ˆå°&#x2F;å¤§ï¼‰é€‰æ‹©åˆé€‚çš„å¤åˆ¶æ–¹å¼ã€‚å¯¹äºå¤§æ–‡ä»¶æˆ–æ€§èƒ½æ•æ„Ÿåœºæ™¯ï¼Œæ¨èä½¿ç”¨äºŒè¿›åˆ¶å¤åˆ¶ï¼Œå¹¶å¯ç»“åˆåˆ†å—æˆ–å¤šçº¿ç¨‹è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Foundational Syntax and Core Concepts</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ–‡ä»¶æµ</tag>
        <tag>äºŒè¿›åˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€å“ˆå¸Œè¡¨ï¼šä»0åˆ°1è§£æCè¯­è¨€åŠ¨æ€æ•°ç»„+é“¾è¡¨å†²çªè§£å†³æ–¹æ¡ˆ</title>
    <url>/posts/a57786d7/</url>
    <content><![CDATA[<img src="/img/PageCode/17.png" alt="åŠ¨æ€å“ˆå¸Œè¡¨ï¼šä»0åˆ°1è§£æCè¯­è¨€åŠ¨æ€æ•°ç»„+é“¾è¡¨å†²çªè§£å†³æ–¹æ¡ˆ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å“ˆå¸Œè¡¨ï¼ˆHash Mapï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°æ•°ç»„ç´¢å¼•ï¼Œå®ç°O(1)æ—¶é—´å¤æ‚åº¦çš„æ’å…¥ã€æŸ¥è¯¢å’Œåˆ é™¤æ“ä½œã€‚ä½†ä¼ ç»Ÿé™æ€å“ˆå¸Œè¡¨ï¼ˆå›ºå®šå®¹é‡æ•°ç»„ï¼‰å­˜åœ¨<strong>ç©ºé—´æµªè´¹</strong>ï¼ˆæ•°æ®å°‘æ—¶æ•°ç»„ç©ºç½®ï¼‰å’Œ<strong>å†²çªé¢‘å‘</strong>ï¼ˆæ•°æ®å¤šæ—¶å“ˆå¸Œç¢°æ’æ¦‚ç‡æ¿€å¢ï¼‰çš„ç—›ç‚¹ã€‚æœ¬æ–‡å°†åŸºäºCè¯­è¨€ï¼Œæ‰‹æŠŠæ‰‹å®ç°ä¸€ä¸ª<strong>åŠ¨æ€å“ˆå¸Œè¡¨</strong>ï¼Œé€šè¿‡ã€ŒåŠ¨æ€æ•°ç»„+é“¾è¡¨ã€çš„ç»„åˆæ–¹æ¡ˆè§£å†³è¿™äº›é—®é¢˜ï¼Œå¹¶æ·±å…¥è§£ææ ¸å¿ƒè®¾è®¡ä¸å®ç°ç»†èŠ‚ã€‚</p>
<hr>
<h2 id="ä¸€ã€è®¾è®¡èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆé€‰æ‹©ã€ŒåŠ¨æ€æ•°ç»„-é“¾è¡¨ã€ï¼Ÿ"><a href="#ä¸€ã€è®¾è®¡èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆé€‰æ‹©ã€ŒåŠ¨æ€æ•°ç»„-é“¾è¡¨ã€ï¼Ÿ" class="headerlink" title="ä¸€ã€è®¾è®¡èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆé€‰æ‹©ã€ŒåŠ¨æ€æ•°ç»„+é“¾è¡¨ã€ï¼Ÿ"></a>ä¸€ã€è®¾è®¡èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆé€‰æ‹©ã€ŒåŠ¨æ€æ•°ç»„+é“¾è¡¨ã€ï¼Ÿ</h2><h3 id="1-1-ä¼ ç»Ÿé™æ€å“ˆå¸Œè¡¨çš„ç—›ç‚¹"><a href="#1-1-ä¼ ç»Ÿé™æ€å“ˆå¸Œè¡¨çš„ç—›ç‚¹" class="headerlink" title="1.1 ä¼ ç»Ÿé™æ€å“ˆå¸Œè¡¨çš„ç—›ç‚¹"></a>1.1 ä¼ ç»Ÿé™æ€å“ˆå¸Œè¡¨çš„ç—›ç‚¹</h3><p>ä¼ ç»Ÿå“ˆå¸Œè¡¨é€šå¸¸ä½¿ç”¨<strong>å›ºå®šå¤§å°çš„æ•°ç»„</strong>å­˜å‚¨é”®å€¼å¯¹ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—ç´¢å¼•ã€‚ä½†è¿™ç§è®¾è®¡å­˜åœ¨ä¸¤å¤§ç¼ºé™·ï¼š</p>
<ul>
<li><strong>ç©ºé—´æµªè´¹</strong>ï¼šè‹¥åˆå§‹å®¹é‡è¿‡å¤§ï¼Œæ•°æ®ç¨€ç–æ—¶å¤§é‡æ•°ç»„ç©ºé—´é—²ç½®ï¼›è‹¥åˆå§‹å®¹é‡è¿‡å°ï¼Œæ•°æ®å¢å¤šæ—¶é¢‘ç¹æ‰©å®¹ï¼ˆéœ€é‡æ–°å“ˆå¸Œæ‰€æœ‰æ•°æ®ï¼‰ï¼Œæ•ˆç‡ä½ä¸‹ã€‚</li>
<li><strong>å†²çªé¢‘å‘</strong>ï¼šå½“æ•°æ®é‡è¶…è¿‡æ•°ç»„å®¹é‡æ—¶ï¼Œå“ˆå¸Œç¢°æ’æ¦‚ç‡æ¿€å¢ï¼Œé“¾è¡¨æ³•ï¼ˆæ‹‰é“¾æ³•ï¼‰è™½èƒ½è§£å†³å†²çªï¼Œä½†é“¾è¡¨è¿‡é•¿ä¼šå¯¼è‡´æŸ¥è¯¢æ—¶é—´é€€åŒ–ä¸ºO(n)ã€‚</li>
</ul>
<h3 id="1-2-åŠ¨æ€æ•°ç»„-é“¾è¡¨çš„ç»„åˆä¼˜åŠ¿"><a href="#1-2-åŠ¨æ€æ•°ç»„-é“¾è¡¨çš„ç»„åˆä¼˜åŠ¿" class="headerlink" title="1.2 åŠ¨æ€æ•°ç»„+é“¾è¡¨çš„ç»„åˆä¼˜åŠ¿"></a>1.2 åŠ¨æ€æ•°ç»„+é“¾è¡¨çš„ç»„åˆä¼˜åŠ¿</h3><p>åŠ¨æ€å“ˆå¸Œè¡¨é€šè¿‡ã€ŒåŠ¨æ€æ•°ç»„ã€å’Œã€Œé“¾è¡¨ã€çš„ç»„åˆï¼Œå®Œç¾è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼š</p>
<ul>
<li><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼šå½“è´Ÿè½½å› å­ï¼ˆé”®å€¼å¯¹æ•°é‡&#x2F;æ¡¶æ•°é‡ï¼‰è¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚0.75ï¼‰æ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹ï¼ˆé€šå¸¸ç¿»å€ï¼‰ï¼Œä¿æŒå“ˆå¸Œåˆ†å¸ƒå‡åŒ€ï¼Œå‡å°‘å†²çªã€‚</li>
<li><strong>é“¾è¡¨å¤„ç†å†²çª</strong>ï¼šæ¯ä¸ªæ¡¶å¯¹åº”ä¸€ä¸ªé“¾è¡¨ï¼Œå†²çªçš„é”®å€¼å¯¹å­˜å‚¨åœ¨åŒä¸€é“¾è¡¨ä¸­ï¼Œæ’å…¥ã€æŸ¥è¯¢æ—¶éå†é“¾è¡¨å³å¯ï¼Œæ— éœ€ç§»åŠ¨å…¶ä»–æ•°æ®ã€‚</li>
<li><strong>ç©ºé—´é«˜æ•ˆ</strong>ï¼šæ¡¶çš„æ•°é‡éšæ•°æ®é‡åŠ¨æ€è°ƒæ•´ï¼Œé¿å…å›ºå®šæ•°ç»„çš„ç©ºé—´æµªè´¹ã€‚</li>
</ul>
<hr>
<h2 id="äºŒã€æ ¸å¿ƒç»“æ„ä½“è§£æï¼šDynamicHashMapä¸KeyValueNode"><a href="#äºŒã€æ ¸å¿ƒç»“æ„ä½“è§£æï¼šDynamicHashMapä¸KeyValueNode" class="headerlink" title="äºŒã€æ ¸å¿ƒç»“æ„ä½“è§£æï¼šDynamicHashMapä¸KeyValueNode"></a>äºŒã€æ ¸å¿ƒç»“æ„ä½“è§£æï¼šDynamicHashMapä¸KeyValueNode</h2><h3 id="2-1-KeyValueNodeï¼šé“¾è¡¨èŠ‚ç‚¹"><a href="#2-1-KeyValueNodeï¼šé“¾è¡¨èŠ‚ç‚¹" class="headerlink" title="2.1 KeyValueNodeï¼šé“¾è¡¨èŠ‚ç‚¹"></a>2.1 KeyValueNodeï¼šé“¾è¡¨èŠ‚ç‚¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct node_s &#123;</span><br><span class="line">    KeyType key;          // é”®ï¼ˆå­—ç¬¦ä¸²æŒ‡é’ˆï¼‰</span><br><span class="line">    ValueType val;        // å€¼ï¼ˆå­—ç¬¦ä¸²æŒ‡é’ˆï¼‰</span><br><span class="line">    struct node_s *next;  // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆè§£å†³å†²çªï¼‰</span><br><span class="line">&#125; KeyValueNode;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>key</strong>ï¼šå­˜å‚¨é”®çš„å­—ç¬¦ä¸²æŒ‡é’ˆï¼ˆå¦‚&quot;age&quot;ï¼‰ã€‚</li>
<li><strong>val</strong>ï¼šå­˜å‚¨å€¼çš„å­—ç¬¦ä¸²æŒ‡é’ˆï¼ˆå¦‚&quot;25&quot;ï¼‰ã€‚</li>
<li><strong>next</strong>ï¼šé“¾è¡¨æŒ‡é’ˆï¼Œç”¨äºè¿æ¥åŒä¸€æ¡¶ä¸­å†²çªçš„å…¶ä»–é”®å€¼å¯¹ã€‚</li>
</ul>
<h3 id="2-2-DynamicHashMapï¼šå“ˆå¸Œè¡¨ä¸»ä½“"><a href="#2-2-DynamicHashMapï¼šå“ˆå¸Œè¡¨ä¸»ä½“" class="headerlink" title="2.2 DynamicHashMapï¼šå“ˆå¸Œè¡¨ä¸»ä½“"></a>2.2 DynamicHashMapï¼šå“ˆå¸Œè¡¨ä¸»ä½“</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">    KeyValueNode **buckets;  // åŠ¨æ€æ•°ç»„ï¼ˆå­˜å‚¨é“¾è¡¨å¤´èŠ‚ç‚¹ï¼‰</span><br><span class="line">    int size;                // å½“å‰é”®å€¼å¯¹æ•°é‡</span><br><span class="line">    int capacity;            // æ¡¶æ•°ç»„çš„å½“å‰å®¹é‡ï¼ˆæ¡¶çš„æ•°é‡ï¼‰</span><br><span class="line">    uint32_t hash_seed;      // å“ˆå¸Œç§å­ï¼ˆç”¨äºç”Ÿæˆéšæœºå“ˆå¸Œå€¼ï¼Œé˜²ç¢°æ’ï¼‰</span><br><span class="line">&#125; DynamicHashMap;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>buckets</strong>ï¼šåŠ¨æ€æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé“¾è¡¨å¤´èŠ‚ç‚¹ï¼ˆ<code>KeyValueNode*</code>ï¼‰ã€‚æ¡¶çš„æ•°é‡ç”±<code>capacity</code>å†³å®šã€‚</li>
<li><strong>size</strong>ï¼šå½“å‰å­˜å‚¨çš„é”®å€¼å¯¹æ€»æ•°ï¼Œç”¨äºè®¡ç®—è´Ÿè½½å› å­ï¼ˆ<code>size/capacity</code>ï¼‰ã€‚</li>
<li><strong>capacity</strong>ï¼šæ¡¶æ•°ç»„çš„å®¹é‡ï¼ˆå³æœ€å¤šæœ‰å¤šå°‘ä¸ªæ¡¶ï¼‰ã€‚åˆå§‹é€šå¸¸è®¾ä¸º16ï¼Œæ‰©å®¹æ—¶ç¿»å€ã€‚</li>
<li><strong>hash_seed</strong>ï¼šå“ˆå¸Œå‡½æ•°çš„ç§å­ï¼Œé€šè¿‡<code>time(NULL)</code>éšæœºç”Ÿæˆï¼Œé¿å…ç›¸åŒè¾“å…¥ç”Ÿæˆç›¸åŒå“ˆå¸Œå€¼ï¼ˆé˜²ç¢°æ’æ”»å‡»ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="ä¸‰ã€å…³é”®å‡½æ•°å®ç°é€»è¾‘ï¼šä»åˆ›å»ºåˆ°åˆ é™¤"><a href="#ä¸‰ã€å…³é”®å‡½æ•°å®ç°é€»è¾‘ï¼šä»åˆ›å»ºåˆ°åˆ é™¤" class="headerlink" title="ä¸‰ã€å…³é”®å‡½æ•°å®ç°é€»è¾‘ï¼šä»åˆ›å»ºåˆ°åˆ é™¤"></a>ä¸‰ã€å…³é”®å‡½æ•°å®ç°é€»è¾‘ï¼šä»åˆ›å»ºåˆ°åˆ é™¤</h2><h3 id="3-1-hashmap-create-ï¼šåˆå§‹åŒ–åŠ¨æ€å“ˆå¸Œè¡¨"><a href="#3-1-hashmap-create-ï¼šåˆå§‹åŒ–åŠ¨æ€å“ˆå¸Œè¡¨" class="headerlink" title="3.1 hashmap_create()ï¼šåˆå§‹åŒ–åŠ¨æ€å“ˆå¸Œè¡¨"></a>3.1 hashmap_create()ï¼šåˆå§‹åŒ–åŠ¨æ€å“ˆå¸Œè¡¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DynamicHashMap *hashmap_create() &#123;</span><br><span class="line">    DynamicHashMap *map = (DynamicHashMap *)calloc(1, sizeof(DynamicHashMap));</span><br><span class="line">    if (map == NULL) &#123; perror(&quot;map create&quot;); exit(EXIT_FAILURE); &#125;</span><br><span class="line"></span><br><span class="line">    map-&gt;capacity = 16;         // åˆå§‹å®¹é‡ï¼ˆå›ºå®šä¸º16ï¼‰</span><br><span class="line">    map-&gt;size = 0;              // åˆå§‹æ— é”®å€¼å¯¹</span><br><span class="line">    map-&gt;hash_seed = (uint32_t)time(NULL); // éšæœºå“ˆå¸Œç§å­</span><br><span class="line"></span><br><span class="line">    // åˆå§‹åŒ–æ¡¶æ•°ç»„ï¼ˆåŠ¨æ€åˆ†é…å†…å­˜ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯é“¾è¡¨å¤´èŠ‚ç‚¹ï¼‰</span><br><span class="line">    map-&gt;buckets = (KeyValueNode **)calloc(map-&gt;capacity, sizeof(KeyValueNode *));</span><br><span class="line">    if (!map-&gt;buckets) &#123; perror(&quot;map-&gt;buckets creat&quot;); free(map); exit(EXIT_FAILURE); &#125;</span><br><span class="line"></span><br><span class="line">    return map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>å†…å­˜åˆ†é…</strong>ï¼šä½¿ç”¨<code>calloc</code>åˆå§‹åŒ–<code>DynamicHashMap</code>å’Œ<code>buckets</code>æ•°ç»„ï¼Œç¡®ä¿å†…å­˜æ¸…é›¶ï¼Œé¿å…é‡æŒ‡é’ˆã€‚</li>
<li><strong>åˆå§‹å®¹é‡</strong>ï¼šä»£ç ä¸­å›ºå®šä¸º16ï¼Œå®é™…é¡¹ç›®ä¸­å¯æ ¹æ®éœ€æ±‚è°ƒæ•´ã€‚</li>
<li><strong>å“ˆå¸Œç§å­</strong>ï¼šé€šè¿‡<code>time(NULL)</code>ç”Ÿæˆéšæœºç§å­ï¼Œç¡®ä¿ä¸åŒè¿è¡Œå®ä¾‹çš„å“ˆå¸Œå€¼åˆ†å¸ƒä¸åŒï¼Œå‡å°‘ç¢°æ’ã€‚</li>
</ul>
<h3 id="3-2-hashmap-put-ï¼šæ’å…¥é”®å€¼å¯¹ï¼ˆå«æ‰©å®¹é€»è¾‘ï¼‰"><a href="#3-2-hashmap-put-ï¼šæ’å…¥é”®å€¼å¯¹ï¼ˆå«æ‰©å®¹é€»è¾‘ï¼‰" class="headerlink" title="3.2 hashmap_put()ï¼šæ’å…¥é”®å€¼å¯¹ï¼ˆå«æ‰©å®¹é€»è¾‘ï¼‰"></a>3.2 hashmap_put()ï¼šæ’å…¥é”®å€¼å¯¹ï¼ˆå«æ‰©å®¹é€»è¾‘ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ValueType hashmap_put(DynamicHashMap *map, KeyType key, ValueType val) &#123;</span><br><span class="line">    if (!map || !key || !val) return NULL; // å‚æ•°æ ¡éªŒ</span><br><span class="line"></span><br><span class="line">    int index = hash_function(map, key); // è®¡ç®—å“ˆå¸Œå€¼å¯¹åº”çš„æ¡¶ç´¢å¼•</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index]; // è·å–æ¡¶çš„é“¾è¡¨å¤´</span><br><span class="line"></span><br><span class="line">    // 1. æŸ¥æ‰¾æ˜¯å¦å·²å­˜åœ¨ç›¸åŒé”®</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            // é”®å·²å­˜åœ¨ï¼šæ›´æ–°å€¼ï¼ˆé‡Šæ”¾æ—§å€¼ï¼Œå­˜å‚¨æ–°å€¼å‰¯æœ¬ï¼‰</span><br><span class="line">            free(current-&gt;val);</span><br><span class="line">            current-&gt;val = strdupp(val); // strduppæ˜¯æ–°å®ç°çš„å­—ç¬¦ä¸²å¤åˆ¶å‡½æ•°ï¼ˆé˜²å†…å­˜æ³„æ¼ï¼‰</span><br><span class="line">            return current-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next; // éå†é“¾è¡¨</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 2. é”®ä¸å­˜åœ¨ï¼šæ–°å»ºèŠ‚ç‚¹å¹¶æ’å…¥é“¾è¡¨å¤´éƒ¨</span><br><span class="line">    KeyValueNode *new_node = (KeyValueNode *)calloc(1, sizeof(KeyValueNode));</span><br><span class="line">    if (!new_node) return NULL; // å†…å­˜åˆ†é…å¤±è´¥</span><br><span class="line"></span><br><span class="line">    new_node-&gt;key = strdupp(key);   // å¤åˆ¶é”®ï¼ˆé˜²å¤–éƒ¨ä¿®æ”¹ï¼‰</span><br><span class="line">    new_node-&gt;val = strdupp(val);   // å¤åˆ¶å€¼ï¼ˆé˜²å¤–éƒ¨ä¿®æ”¹ï¼‰</span><br><span class="line">    new_node-&gt;next = map-&gt;buckets[index]; // æ–°èŠ‚ç‚¹æ’å…¥é“¾è¡¨å¤´éƒ¨</span><br><span class="line">    map-&gt;buckets[index] = new_node;       // æ›´æ–°é“¾è¡¨å¤´</span><br><span class="line">    map-&gt;size++;                        // é”®å€¼å¯¹æ•°é‡+1</span><br><span class="line"></span><br><span class="line">    // 3. æ£€æŸ¥è´Ÿè½½å› å­ï¼Œè§¦å‘æ‰©å®¹ï¼ˆè´Ÿè½½å› å­&gt;0.75æ—¶æ‰©å®¹ï¼‰</span><br><span class="line">    float load_factor = (float)map-&gt;size / map-&gt;capacity;</span><br><span class="line">    if (load_factor &gt; 0.75) &#123;</span><br><span class="line">        if (!hashmap_resize(map)) &#123;       // æ‰©å®¹å¤±è´¥ï¼ˆå¦‚å†…å­˜ä¸è¶³ï¼‰</span><br><span class="line">            hashmap_remove(map, key);     // å›æ»šï¼šåˆ é™¤åˆšæ’å…¥çš„èŠ‚ç‚¹</span><br><span class="line">            return NULL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return new_node-&gt;val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®é€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>å“ˆå¸Œå†²çªå¤„ç†</strong>ï¼šé€šè¿‡é“¾è¡¨å­˜å‚¨åŒä¸€æ¡¶ä¸­çš„å†²çªé”®å€¼å¯¹ï¼Œæ’å…¥æ—¶éå†é“¾è¡¨æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ç›¸åŒé”®ã€‚</li>
<li><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼šå½“è´Ÿè½½å› å­è¶…è¿‡0.75æ—¶ï¼Œè°ƒç”¨<code>hashmap_resize</code>å°†æ¡¶æ•°é‡ç¿»å€ï¼Œé‡æ–°å“ˆå¸Œæ‰€æœ‰ç°æœ‰é”®å€¼å¯¹ï¼Œç¡®ä¿å“ˆå¸Œåˆ†å¸ƒå‡åŒ€ã€‚</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šä½¿ç”¨<code>strdupp</code>å¤åˆ¶é”®å’Œå€¼ï¼ˆé¿å…å¤–éƒ¨ä¿®æ”¹å½±å“å“ˆå¸Œè¡¨å†…éƒ¨æ•°æ®ï¼‰ï¼Œæ’å…¥å¤±è´¥æ—¶å›æ»šåˆ é™¤èŠ‚ç‚¹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<h3 id="3-3-hashmap-get-ï¼šæŸ¥è¯¢é”®å€¼å¯¹"><a href="#3-3-hashmap-get-ï¼šæŸ¥è¯¢é”®å€¼å¯¹" class="headerlink" title="3.3 hashmap_get()ï¼šæŸ¥è¯¢é”®å€¼å¯¹"></a>3.3 hashmap_get()ï¼šæŸ¥è¯¢é”®å€¼å¯¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ValueType hashmap_get(DynamicHashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) &#123; printf(&quot;å‚æ•°é”™è¯¯&quot;); return NULL; &#125;</span><br><span class="line"></span><br><span class="line">    int index = hash_function(map, key); // è®¡ç®—æ¡¶ç´¢å¼•</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index]; // è·å–é“¾è¡¨å¤´</span><br><span class="line"></span><br><span class="line">    // éå†é“¾è¡¨æŸ¥æ‰¾é”®</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            return current-&gt;val; // æ‰¾åˆ°é”®ï¼Œè¿”å›å¯¹åº”å€¼</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next; // æœªæ‰¾åˆ°ï¼Œç»§ç»­éå†</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(&quot;é”®æœªæ‰¾åˆ°&quot;); // éå†å®Œé“¾è¡¨æœªæ‰¾åˆ°</span><br><span class="line">    return NULL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>å“ˆå¸Œå®šä½</strong>ï¼šé€šè¿‡<code>hash_function</code>è®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œå–æ¨¡å¾—åˆ°æ¡¶ç´¢å¼•ï¼ˆ<code>index = hash % capacity</code>ï¼‰ã€‚</li>
<li><strong>é“¾è¡¨éå†</strong>ï¼šä»æ¡¶çš„é“¾è¡¨å¤´å¼€å§‹éå†ï¼Œé€ä¸ªæ¯”è¾ƒé”®ï¼Œæ‰¾åˆ°åè¿”å›å¯¹åº”å€¼ï¼›éå†å®Œé“¾è¡¨æœªæ‰¾åˆ°åˆ™è¿”å›<code>NULL</code>ã€‚</li>
</ul>
<h3 id="3-4-hashmap-remove-ï¼šåˆ é™¤é”®å€¼å¯¹"><a href="#3-4-hashmap-remove-ï¼šåˆ é™¤é”®å€¼å¯¹" class="headerlink" title="3.4 hashmap_remove()ï¼šåˆ é™¤é”®å€¼å¯¹"></a>3.4 hashmap_remove()ï¼šåˆ é™¤é”®å€¼å¯¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bool hashmap_remove(DynamicHashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) &#123; printf(&quot;å‚æ•°é”™è¯¯&quot;); return false; &#125;</span><br><span class="line"></span><br><span class="line">    int index = hash_function(map, key); // è®¡ç®—æ¡¶ç´¢å¼•</span><br><span class="line">    KeyValueNode *prev = NULL;           // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç”¨äºä¿®å¤é“¾è¡¨ï¼‰</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index]; // å½“å‰èŠ‚ç‚¹</span><br><span class="line"></span><br><span class="line">    // éå†é“¾è¡¨æŸ¥æ‰¾é”®</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            // æ‰¾åˆ°é”®ï¼šåˆ é™¤èŠ‚ç‚¹</span><br><span class="line">            if (prev) &#123;</span><br><span class="line">                prev-&gt;next = current-&gt;next; // å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                map-&gt;buckets[index] = current-&gt;next; // å¤´èŠ‚ç‚¹åˆ é™¤ï¼ˆæ›´æ–°é“¾è¡¨å¤´ï¼‰</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // é‡Šæ”¾å†…å­˜</span><br><span class="line">            free(current-&gt;key);</span><br><span class="line">            free(current-&gt;val);</span><br><span class="line">            free(current);</span><br><span class="line">            map-&gt;size--; // é”®å€¼å¯¹æ•°é‡-1</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;   // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">        current = current-&gt;next; // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false; // æœªæ‰¾åˆ°é”®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³é”®ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li><strong>é“¾è¡¨æŒ‡é’ˆä¿®å¤</strong>ï¼šåˆ é™¤èŠ‚ç‚¹æ—¶ï¼Œè‹¥èŠ‚ç‚¹æ˜¯é“¾è¡¨å¤´ï¼ˆ<code>prev</code>ä¸º<code>NULL</code>ï¼‰ï¼Œåˆ™ç›´æ¥æ›´æ–°æ¡¶çš„é“¾è¡¨å¤´ä¸º<code>current-&gt;next</code>ï¼›å¦åˆ™ï¼Œå°†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„<code>next</code>æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¡®ä¿é“¾è¡¨ä¸æ–­è£‚ã€‚</li>
<li><strong>å†…å­˜é‡Šæ”¾</strong>ï¼šåˆ é™¤èŠ‚ç‚¹åï¼Œå¿…é¡»é‡Šæ”¾å…¶<code>key</code>ã€<code>val</code>å’ŒèŠ‚ç‚¹æœ¬èº«çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<hr>
<h2 id="å››ã€æ€§èƒ½ä¼˜åŒ–ç‚¹ï¼šå½“å‰ç“¶é¢ˆä¸æ”¹è¿›æ–¹å‘"><a href="#å››ã€æ€§èƒ½ä¼˜åŒ–ç‚¹ï¼šå½“å‰ç“¶é¢ˆä¸æ”¹è¿›æ–¹å‘" class="headerlink" title="å››ã€æ€§èƒ½ä¼˜åŒ–ç‚¹ï¼šå½“å‰ç“¶é¢ˆä¸æ”¹è¿›æ–¹å‘"></a>å››ã€æ€§èƒ½ä¼˜åŒ–ç‚¹ï¼šå½“å‰ç“¶é¢ˆä¸æ”¹è¿›æ–¹å‘</h2><h3 id="4-1-å½“å‰å®ç°çš„æ½œåœ¨ç“¶é¢ˆ"><a href="#4-1-å½“å‰å®ç°çš„æ½œåœ¨ç“¶é¢ˆ" class="headerlink" title="4.1 å½“å‰å®ç°çš„æ½œåœ¨ç“¶é¢ˆ"></a>4.1 å½“å‰å®ç°çš„æ½œåœ¨ç“¶é¢ˆ</h3><ul>
<li><strong>é“¾è¡¨è¿‡é•¿å¯¼è‡´æŸ¥è¯¢å˜æ…¢</strong>ï¼šå½“è´Ÿè½½å› å­è¿‡é«˜ï¼ˆå¦‚æ¥è¿‘1ï¼‰æ—¶ï¼Œé“¾è¡¨é•¿åº¦å¢åŠ ï¼ŒæŸ¥è¯¢æ—¶é—´é€€åŒ–ä¸ºO(n)ï¼ˆæœ€åæƒ…å†µéå†æ•´ä¸ªé“¾è¡¨ï¼‰ã€‚</li>
<li><strong>å“ˆå¸Œå‡½æ•°åˆ†å¸ƒä¸å‡</strong>ï¼šè‹¥å“ˆå¸Œå‡½æ•°è®¾è®¡ä¸ä½³ï¼ˆå¦‚ç§å­å›ºå®šï¼‰ï¼Œå¯èƒ½å¯¼è‡´é”®å€¼å¯¹é›†ä¸­åœ¨å°‘æ•°æ¡¶ä¸­ï¼ŒåŠ å‰§é“¾è¡¨å†²çªã€‚</li>
<li><strong>æ‰©å®¹å¼€é”€</strong>ï¼šæ‰©å®¹æ—¶éœ€è¦é‡æ–°å“ˆå¸Œæ‰€æœ‰ç°æœ‰é”®å€¼å¯¹ï¼ˆæ—¶é—´å¤æ‚åº¦O(n)ï¼‰ï¼Œé¢‘ç¹æ‰©å®¹ä¼šå½±å“æ€§èƒ½ã€‚</li>
</ul>
<h3 id="4-2-ä¼˜åŒ–æ–¹å‘"><a href="#4-2-ä¼˜åŒ–æ–¹å‘" class="headerlink" title="4.2 ä¼˜åŒ–æ–¹å‘"></a>4.2 ä¼˜åŒ–æ–¹å‘</h3><ul>
<li><strong>åŠ¨æ€è°ƒæ•´æ‰©å®¹é˜ˆå€¼</strong>ï¼šæ ¹æ®å®é™…åœºæ™¯è°ƒæ•´è´Ÿè½½å› å­é˜ˆå€¼ï¼ˆå¦‚0.75â†’0.8ï¼‰ï¼Œå¹³è¡¡ç©ºé—´ä¸æ—¶é—´æ•ˆç‡ã€‚</li>
<li><strong>ä¼˜åŒ–å†²çªç»“æ„</strong>ï¼šå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼ˆæ—¶é—´å¤æ‚åº¦O(log n)ï¼‰ï¼Œæå‡é•¿é“¾è¡¨çš„æŸ¥è¯¢æ•ˆç‡ï¼ˆJava 8çš„HashMapå³é‡‡ç”¨æ­¤ç­–ç•¥ï¼‰ã€‚</li>
<li><strong>å“ˆå¸Œå‡½æ•°ä¼˜åŒ–</strong>ï¼šä½¿ç”¨æ›´å¤æ‚çš„å“ˆå¸Œå‡½æ•°ï¼ˆå¦‚MurmurHashï¼‰ï¼Œå‡å°‘å“ˆå¸Œç¢°æ’æ¦‚ç‡ï¼Œç¡®ä¿é”®å€¼å¯¹å‡åŒ€åˆ†å¸ƒåœ¨å„ä¸ªæ¡¶ä¸­ã€‚</li>
<li><strong>æƒ°æ€§åˆ é™¤</strong>ï¼šå¯¹äºåˆ é™¤æ“ä½œï¼Œæ ‡è®°èŠ‚ç‚¹ä¸ºâ€œå·²åˆ é™¤â€è€Œéç«‹å³é‡Šæ”¾å†…å­˜ï¼Œå‡å°‘é¢‘ç¹å†…å­˜åˆ†é…&#x2F;é‡Šæ”¾çš„å¼€é”€ï¼ˆé€‚ç”¨äºé«˜é¢‘åˆ é™¤åœºæ™¯ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šæ’å…¥ã€æŸ¥è¯¢ã€åˆ é™¤æ“ä½œ"><a href="#äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šæ’å…¥ã€æŸ¥è¯¢ã€åˆ é™¤æ“ä½œ" class="headerlink" title="äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šæ’å…¥ã€æŸ¥è¯¢ã€åˆ é™¤æ“ä½œ"></a>äº”ã€ä½¿ç”¨ç¤ºä¾‹ï¼šæ’å…¥ã€æŸ¥è¯¢ã€åˆ é™¤æ“ä½œ</h2><h3 id="5-1-æµ‹è¯•ä»£ç è¯´æ˜"><a href="#5-1-æµ‹è¯•ä»£ç è¯´æ˜" class="headerlink" title="5.1 æµ‹è¯•ä»£ç è¯´æ˜"></a>5.1 æµ‹è¯•ä»£ç è¯´æ˜</h3><p>ä»¥ä¸‹æ˜¯ç”¨æˆ·æä¾›çš„æµ‹è¯•ä»£ç ï¼Œæ¼”ç¤ºäº†å“ˆå¸Œè¡¨çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main() &#123;</span><br><span class="line">    DynamicHashMap *map = hashmap_create(); // åˆ›å»ºå“ˆå¸Œè¡¨</span><br><span class="line">    if (!map) &#123; /* é”™è¯¯å¤„ç† */ &#125;</span><br><span class="line"></span><br><span class="line">    // æ’å…¥é”®å€¼å¯¹</span><br><span class="line">    hashmap_put(map, &quot;name&quot;, &quot;Alice&quot;);    // æ’å…¥æˆåŠŸ</span><br><span class="line">    hashmap_put(map, &quot;age&quot;, &quot;25&quot;);        // æ’å…¥æˆåŠŸ</span><br><span class="line"></span><br><span class="line">    // æ›´æ–°é”®å€¼å¯¹</span><br><span class="line">    hashmap_put(map, &quot;name&quot;, &quot;Bob&quot;);      // æ›´æ–°æˆåŠŸï¼ˆåŸ&quot;Alice&quot;è¢«æ›¿æ¢ä¸º&quot;Bob&quot;ï¼‰</span><br><span class="line"></span><br><span class="line">    // æŸ¥è¯¢é”®å€¼å¯¹</span><br><span class="line">    ValueType name = hashmap_get(map, &quot;name&quot;); // è¿”å›&quot;Bob&quot;</span><br><span class="line">    ValueType age = hashmap_get(map, &quot;age&quot;);   // è¿”å›&quot;25&quot;</span><br><span class="line"></span><br><span class="line">    // åˆ é™¤é”®å€¼å¯¹</span><br><span class="line">    hashmap_remove(map, &quot;age&quot;);           // åˆ é™¤æˆåŠŸ</span><br><span class="line">    hashmap_get(map, &quot;age&quot;);              // è¿”å›NULLï¼ˆé”®å·²åˆ é™¤ï¼‰</span><br><span class="line"></span><br><span class="line">    hashmap_destroy(map);                 // é”€æ¯å“ˆå¸Œè¡¨ï¼ˆé‡Šæ”¾æ‰€æœ‰å†…å­˜ï¼‰</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-æ³¨æ„äº‹é¡¹"><a href="#5-2-æ³¨æ„äº‹é¡¹" class="headerlink" title="5.2 æ³¨æ„äº‹é¡¹"></a>5.2 æ³¨æ„äº‹é¡¹</h3><ul>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæ’å…¥æ—¶<code>strdupp</code>ä¼šå¤åˆ¶é”®å’Œå€¼çš„å†…å­˜ï¼Œåˆ é™¤æ—¶éœ€æ‰‹åŠ¨é‡Šæ”¾ï¼ˆå“ˆå¸Œè¡¨å†…éƒ¨å·²å¤„ç†ï¼‰ï¼Œé¿å…å¤–éƒ¨é‡å¤é‡Šæ”¾ã€‚</li>
<li><strong>å“ˆå¸Œç§å­é€‰æ‹©</strong>ï¼š<code>hash_seed</code>ä½¿ç”¨<code>time(NULL)</code>éšæœºç”Ÿæˆï¼Œç¡®ä¿ä¸åŒè¿è¡Œå®ä¾‹çš„å“ˆå¸Œåˆ†å¸ƒä¸åŒï¼Œé˜²æ­¢æ¶æ„æ„é€ ç¢°æ’æ”»å‡»ã€‚</li>
<li><strong>è´Ÿè½½å› å­ç›‘æ§</strong>ï¼šæ’å…¥æ—¶æ£€æŸ¥è´Ÿè½½å› å­ï¼Œè§¦å‘æ‰©å®¹åéœ€ç¡®ä¿æ–°æ¡¶æ•°ç»„çš„å†…å­˜åˆ†é…æˆåŠŸï¼ˆå¦åˆ™å›æ»šåˆ é™¤æ–°æ’å…¥çš„èŠ‚ç‚¹ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡æ‰‹æŠŠæ‰‹å®ç°äº†åŸºäºã€ŒåŠ¨æ€æ•°ç»„+é“¾è¡¨ã€çš„Cè¯­è¨€å“ˆå¸Œè¡¨ï¼Œè¯¦ç»†è§£æäº†æ ¸å¿ƒç»“æ„ä½“è®¾è®¡ã€å…³é”®å‡½æ•°é€»è¾‘åŠæ€§èƒ½ä¼˜åŒ–æ–¹å‘ã€‚åŠ¨æ€å“ˆå¸Œè¡¨é€šè¿‡åŠ¨æ€æ‰©å®¹å’Œé“¾è¡¨å†²çªè§£å†³ï¼Œå…¼é¡¾äº†ç©ºé—´æ•ˆç‡ä¸æ—¶é—´æ•ˆç‡ï¼Œæ˜¯å¤„ç†åŠ¨æ€æ•°æ®å­˜å‚¨çš„ç†æƒ³é€‰æ‹©ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå¯æ ¹æ®éœ€æ±‚è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ˆå¦‚çº¢é»‘æ ‘æ›¿ä»£é•¿é“¾è¡¨ï¼‰ï¼Œä»¥åº”å¯¹æ›´å¤æ‚çš„åœºæ™¯ã€‚</p>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">å¤´æ–‡ä»¶.h</button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef DYNAMIC_HASHMAP_H</span><br><span class="line">#define DYNAMIC_HASHMAP_H</span><br><span class="line"></span><br><span class="line">#include &lt;stdint.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;errno.h&gt;</span><br><span class="line"></span><br><span class="line">typedef char *KeyType;</span><br><span class="line">typedef char *ValueType;</span><br><span class="line"></span><br><span class="line">typedef struct node_s &#123;</span><br><span class="line">    KeyType key;          // é”®</span><br><span class="line">    ValueType val;        // å€¼</span><br><span class="line">    struct node_s *next;  // é“¾è¡¨æŒ‡é’ˆ</span><br><span class="line">&#125; KeyValueNode;</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    KeyValueNode **buckets;  // åŠ¨æ€æ•°ç»„ï¼ˆå“ˆå¸Œæ¡¶ï¼‰</span><br><span class="line">    int size;                // é”®å€¼å¯¹æ•°é‡</span><br><span class="line">    int capacity;            // æ¡¶æ•°ç»„å®¹é‡</span><br><span class="line">    uint32_t hash_seed;      // å“ˆå¸Œç§å­ï¼ˆé˜²ç¢°æ’ï¼‰</span><br><span class="line">&#125; DynamicHashMap;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºä¸€ä¸ªå›ºå®šå®¹é‡çš„å“ˆå¸Œè¡¨</span><br><span class="line">DynamicHashMap *hashmap_create();</span><br><span class="line">// é”€æ¯ä¸€ä¸ªå“ˆå¸Œè¡¨</span><br><span class="line">void hashmap_destroy(DynamicHashMap *map);</span><br><span class="line">// æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹</span><br><span class="line">ValueType hashmap_put(DynamicHashMap *map, KeyType key, ValueType val);</span><br><span class="line">// æŸ¥è¯¢ä¸€ä¸ªé”®å€¼å¯¹</span><br><span class="line">ValueType hashmap_get(DynamicHashMap *map, KeyType key);</span><br><span class="line">// åˆ é™¤æŸä¸ªé”®å€¼å¯¹</span><br><span class="line">bool hashmap_remove(DynamicHashMap *map, KeyType key);</span><br><span class="line"></span><br><span class="line">#endif // DYNAMIC_HASHMAP_H</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &quot;hash.h&quot;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // åˆ›å»ºå“ˆå¸Œè¡¨</span><br><span class="line">    DynamicHashMap *map = hashmap_create();</span><br><span class="line">    if (!map) &#123;</span><br><span class="line">        fprintf(stderr, &quot;Failed to create hashmap.\n&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æ’å…¥æ“ä½œ</span><br><span class="line">    printf(&quot;Testing hashmap_put...\n&quot;);</span><br><span class="line">    const char *key1 = &quot;name&quot;;</span><br><span class="line">    const char *val1 = &quot;Alice&quot;;</span><br><span class="line">    ValueType result1 = hashmap_put(map, (KeyType)key1, (ValueType)val1);</span><br><span class="line">    if (result1) &#123;</span><br><span class="line">        printf(&quot;Inserted key: %s, value: %s\n&quot;, key1, result1);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Failed to insert key: %s\n&quot;, key1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const char *key2 = &quot;age&quot;;</span><br><span class="line">    const char *val2 = &quot;25&quot;;</span><br><span class="line">    ValueType result2 = hashmap_put(map, (KeyType)key2, (ValueType)val2);</span><br><span class="line">    if (result2) &#123;</span><br><span class="line">        printf(&quot;Inserted key: %s, value: %s\n&quot;, key2, result2);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Failed to insert key: %s\n&quot;, key2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æ›´æ–°æ“ä½œ</span><br><span class="line">    printf(&quot;\nTesting update...\n&quot;);</span><br><span class="line">    const char *new_val1 = &quot;Bob&quot;;</span><br><span class="line">    ValueType update_result = hashmap_put(map, (KeyType)key1, (ValueType)new_val1);</span><br><span class="line">    if (update_result) &#123;</span><br><span class="line">        printf(&quot;Updated key: %s, new value: %s\n&quot;, key1, update_result);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Failed to update key: %s\n&quot;, key1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æŸ¥è¯¢æ“ä½œ</span><br><span class="line">    printf(&quot;\nTesting hashmap_get...\n&quot;);</span><br><span class="line">    ValueType get_result1 = hashmap_get(map, (KeyType)key1);</span><br><span class="line">    if (get_result1) &#123;</span><br><span class="line">        printf(&quot;Got key: %s, value: %s\n&quot;, key1, get_result1);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Key %s not found.\n&quot;, key1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ValueType get_result2 = hashmap_get(map, (KeyType)key2);</span><br><span class="line">    if (get_result2) &#123;</span><br><span class="line">        printf(&quot;Got key: %s, value: %s\n&quot;, key2, get_result2);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Key %s not found.\n&quot;, key2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•åˆ é™¤æ“ä½œ</span><br><span class="line">    printf(&quot;\nTesting hashmap_remove...\n&quot;);</span><br><span class="line">    bool remove_result = hashmap_remove(map, (KeyType)key2);</span><br><span class="line">    if (remove_result) &#123;</span><br><span class="line">        printf(&quot;Removed key: %s successfully.\n&quot;, key2);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Failed to remove key: %s\n&quot;, key2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // å†æ¬¡æŸ¥è¯¢å·²åˆ é™¤çš„é”®</span><br><span class="line">    ValueType get_after_remove = hashmap_get(map, (KeyType)key2);</span><br><span class="line">    if (get_after_remove) &#123;</span><br><span class="line">        printf(&quot;Got key: %s, value: %s\n&quot;, key2, get_after_remove);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        printf(&quot;Key %s not found after removal (expected).\n&quot;, key2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é”€æ¯å“ˆå¸Œè¡¨</span><br><span class="line">    printf(&quot;\nDestroying hashmap...\n&quot;);</span><br><span class="line">    hashmap_destroy(map);</span><br><span class="line">    printf(&quot;Hashmap destroyed.\n&quot;);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include&quot;hash.h&quot;</span><br><span class="line">#include &lt;time.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">// è¾…åŠ©å“ˆå¸Œå‡½æ•°ï¼ˆBKDRHashå˜ç§ï¼‰</span><br><span class="line">static uint32_t hash_function(DynamicHashMap *map, const char *key) &#123;</span><br><span class="line">    uint32_t hash = 0;</span><br><span class="line">    while (*key) &#123;</span><br><span class="line">        hash = hash * map-&gt;hash_seed + (uint8_t)(*key++);</span><br><span class="line">    &#125;</span><br><span class="line">    return hash % map-&gt;capacity;</span><br><span class="line">&#125;</span><br><span class="line">// åˆ›å»ºä¸€ä¸ªå›ºå®šå®¹é‡çš„å“ˆå¸Œè¡¨</span><br><span class="line">DynamicHashMap *hashmap_create() &#123;</span><br><span class="line">    DynamicHashMap *map = (DynamicHashMap *)calloc(1, sizeof(DynamicHashMap));</span><br><span class="line">    if (map == NULL) &#123;</span><br><span class="line">        perror(&quot;map create&quot;);</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    // åˆå§‹åŒ–å‚æ•°</span><br><span class="line">    map-&gt;capacity = 16;         // åˆå§‹å®¹é‡</span><br><span class="line">    map-&gt;size = 0;              // åˆå§‹é”®å€¼å¯¹æ•°é‡</span><br><span class="line">    uint32_t hash_seed = (uint32_t)time(NULL); //ç§å­å€¼éšæœºï¼Œå‡å°‘å“ˆå¸Œå†²çª</span><br><span class="line">    map-&gt;buckets = (KeyValueNode **)calloc(map-&gt;capacity, sizeof(KeyValueNode *)); //ç»™äºŒé‡æ•°ç»„è®¾ç½®åˆå§‹åŒ–æ¡¶</span><br><span class="line">    if (!map-&gt;buckets) &#123;</span><br><span class="line">        perror(&quot;map-&gt;buckets creat&quot;);</span><br><span class="line">        free(map);</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    return map;</span><br><span class="line">&#125;</span><br><span class="line">// é”€æ¯ä¸€ä¸ªå“ˆå¸Œè¡¨</span><br><span class="line">void hashmap_destroy(DynamicHashMap *map) &#123;</span><br><span class="line">    if (map == NULL) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    for(int i=0;i&lt;map-&gt;capacity;i++) &#123;</span><br><span class="line">        KeyValueNode *p = map-&gt;buckets[i];</span><br><span class="line">        while (p != NULL) &#123;</span><br><span class="line">            KeyValueNode *next = p-&gt;next;</span><br><span class="line">            free(p-&gt;key);</span><br><span class="line">            free(p-&gt;val);</span><br><span class="line">            free(p);</span><br><span class="line">            p = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(map-&gt;buckets);  // é‡Šæ”¾æ¡¶æ•°ç»„</span><br><span class="line">    free(map);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ‰©å®¹å‡½æ•°ï¼Œæ›´æ–°æ¡¶å®¹é‡ï¼Œæ‰€ä»¥ä¸€ä¸ªæ˜¯capacityæ›´æ–°ï¼Œä¸€ä¸ªæ˜¯bucketsæ›´æ–°</span><br><span class="line">static bool hashmap_resize(DynamicHashMap *map) &#123;</span><br><span class="line">    KeyValueNode **new_buckets = (KeyValueNode **)calloc((2 * map-&gt;capacity), sizeof(KeyValueNode *));</span><br><span class="line">    if (!new_buckets) &#123;</span><br><span class="line">        perror(&quot;new_buckets create&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    //ä¿å­˜æ—§æ•°æ®</span><br><span class="line">    KeyValueNode **old_buckets = map-&gt;buckets;</span><br><span class="line">    int old_capacity = map-&gt;capacity;</span><br><span class="line"></span><br><span class="line">    //æ›´æ–°å“ˆå¸Œè¡¨å‚æ•°</span><br><span class="line">    map-&gt;capacity *= 2;</span><br><span class="line">    map-&gt;buckets = new_buckets;</span><br><span class="line">    //æ›´æ–°èŠ‚ç‚¹</span><br><span class="line">    for (int i = 0; i &lt; old_capacity; i++) &#123;</span><br><span class="line">        KeyValueNode *current = old_buckets[i];</span><br><span class="line">        while (current) &#123;</span><br><span class="line">            KeyValueNode *next = current-&gt;next;</span><br><span class="line">            int index= hash_function(map, current-&gt;key);</span><br><span class="line"></span><br><span class="line">            current-&gt;next = map-&gt;buckets[index];</span><br><span class="line">            map-&gt;buckets[index] = current;  //æ­¤å¤„çœ‹åšæŒ‡é’ˆå¯èƒ½æ›´å¥½ç†è§£</span><br><span class="line">            current = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(old_buckets);  // é‡Šæ”¾æ—§æ¡¶æ•°ç»„</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line">// å¤åˆ¶å­—ç¬¦ä¸² strdupè¢«ç¦ç”¨</span><br><span class="line">static ValueType strdupp(const ValueType val) &#123;</span><br><span class="line">    size_t len = strlen(val) + 1;</span><br><span class="line">    ValueType p = (ValueType)malloc(len);</span><br><span class="line">    if (!p) &#123;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    if (strcpy_s(p, len, val) != 0) &#123;</span><br><span class="line">        free(p);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br><span class="line">// æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹</span><br><span class="line">ValueType hashmap_put(DynamicHashMap *map, KeyType key, ValueType val) &#123;</span><br><span class="line">    if (!map || !key || !val) return NULL; //ä¿è¯è¾“å‡ºæ²¡é—®é¢˜</span><br><span class="line">    int index = hash_function(map,key);</span><br><span class="line">    //æŸ¥æ‰¾ç°æœ‰é”®å€¼ï¼Œæ²¡æœ‰å°±æ–°å»ºï¼Œæœ‰å°±é¡ºåºæ’å…¥</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            // æ‰¾åˆ°é‡å¤é”®ï¼Œæ›´æ–°å€¼</span><br><span class="line">            free(current-&gt;val);       // é‡Šæ”¾æ—§å€¼</span><br><span class="line">            current-&gt;val = strdupp(val); // å­˜å‚¨æ–°å€¼å‰¯æœ¬,æ­¤å¤„éœ€è¦æ–°å‡½æ•°ï¼Œè®©æ—§å€¼æ›´æ–°</span><br><span class="line">            if (!current-&gt;val) return NULL; // å†…å­˜åˆ†é…å¤±è´¥å¤„ç†</span><br><span class="line">            return current-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    //æ²¡æœ‰è¿™ä¸ªå€¼ï¼Œé‚£å°±æ–°å»º</span><br><span class="line">    KeyValueNode *new_node = (KeyValueNode *)calloc(1,sizeof(KeyValueNode));</span><br><span class="line">    if (!new_node) return NULL;</span><br><span class="line">    new_node-&gt;key = strdupp(key);</span><br><span class="line">    new_node-&gt;val = strdupp(val);</span><br><span class="line">    if (!new_node-&gt;key || !new_node-&gt;val) &#123; // å†…å­˜åˆ†é…å¤±è´¥å¤„ç†</span><br><span class="line">        free(new_node-&gt;key);</span><br><span class="line">        free(new_node-&gt;val);</span><br><span class="line">        free(new_node);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    // æ’å…¥é“¾è¡¨å¤´éƒ¨</span><br><span class="line">    new_node-&gt;next = map-&gt;buckets[index];</span><br><span class="line">    map-&gt;buckets[index] = new_node;</span><br><span class="line">    map-&gt;size++;</span><br><span class="line"></span><br><span class="line">    //æ£€æŸ¥è´Ÿè½½å› å­</span><br><span class="line">    float load_factor = (float)map-&gt;size / map-&gt;capacity;</span><br><span class="line">    if (load_factor &gt; 0.75) &#123;</span><br><span class="line">        if (!hashmap_resize(map)) &#123;</span><br><span class="line">            // æ‰©å®¹å¤±è´¥æ—¶åˆ é™¤åˆšæ’å…¥çš„èŠ‚ç‚¹ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">            hashmap_remove(map, key);</span><br><span class="line">            return NULL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return new_node-&gt;val;</span><br><span class="line">&#125;</span><br><span class="line">// æŸ¥è¯¢ä¸€ä¸ªé”®å€¼å¯¹ï¼Œæ­¤å¤„è·Ÿæ­£å¸¸æ•°ç»„ä¸€æ ·äº†</span><br><span class="line">ValueType hashmap_get(DynamicHashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) &#123;</span><br><span class="line">        printf(&quot;æ²¡æœ‰è¿™ä¸ªå€¼&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int index = hash_function(map, key);</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            return current-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        current=current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;æ²¡æœ‰è¿™ä¸ªå€¼&quot;);</span><br><span class="line">    return NULL;</span><br><span class="line">&#125;</span><br><span class="line">// åˆ é™¤æŸä¸ªé”®å€¼å¯¹</span><br><span class="line">bool hashmap_remove(DynamicHashMap *map, KeyType key) &#123;</span><br><span class="line">    if (!map || !key) &#123;</span><br><span class="line">        printf(&quot;æ²¡æœ‰è¿™ä¸ªå€¼&quot;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int index = hash_function(map, key);</span><br><span class="line">    KeyValueNode *prev = NULL;</span><br><span class="line">    KeyValueNode *current = map-&gt;buckets[index];</span><br><span class="line">    while (current) &#123;</span><br><span class="line">        if (strcmp(current-&gt;key, key) == 0) &#123;</span><br><span class="line">            if (prev) &#123;</span><br><span class="line">                prev-&gt;next = current-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                map-&gt;buckets[index] = current-&gt;next;  // å¤´èŠ‚ç‚¹åˆ é™¤</span><br><span class="line">            &#125;</span><br><span class="line">            // é‡Šæ”¾å†…å­˜</span><br><span class="line">            free(current-&gt;key);</span><br><span class="line">            free(current-&gt;val);</span><br><span class="line">            free(current);</span><br><span class="line">            map-&gt;size--;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;  // æœªæ‰¾åˆ°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>Data-Structures</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€æ•°ç»„</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨Cè¯­è¨€æ–‡ä»¶æµå®ç°è½»é‡çº§å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼šä»0åˆ°1çš„å®æˆ˜è§£æ</title>
    <url>/posts/834f76ba/</url>
    <content><![CDATA[<img src="/img/PageCode/15.png" alt="ç”¨Cè¯­è¨€æ–‡ä»¶æµå®ç°è½»é‡çº§å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼šä»0åˆ°1çš„å®æˆ˜è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨Cè¯­è¨€çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶æ“ä½œæ˜¯ä¸€ä¸ªç»•ä¸å¼€çš„æ ¸å¿ƒæŠ€èƒ½ã€‚æ— è®ºæ˜¯ä¿å­˜ç”¨æˆ·æ•°æ®ã€è®°å½•æ—¥å¿—ï¼Œè¿˜æ˜¯å®ç°å°å‹ç³»ç»Ÿï¼Œâ€œå¦‚ä½•å°†æ•°æ®æŒä¹…åŒ–åˆ°æœ¬åœ°â€éƒ½æ˜¯å¿…é¡»è§£å†³çš„é—®é¢˜ã€‚ä»Šå¤©ï¼ŒåŸºäºä¹‹å‰å†™çš„<a href="/posts/12989e68"><strong>è½»é‡çº§å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ</strong></a>ï¼Œé€šè¿‡æ–‡ä»¶æµå¤ç°ï¼Œå¸¦ä½ æ·±å…¥ç†è§£Cè¯­è¨€æ–‡ä»¶æµçš„æ ¸å¿ƒæ¦‚å¿µï¼ˆå¦‚æ–‡ä»¶æŒ‡é’ˆã€æ–‡æœ¬&#x2F;äºŒè¿›åˆ¶æ¨¡å¼ã€æ–‡ä»¶è¯»å†™é€»è¾‘ï¼‰ï¼Œå¹¶å±•ç¤ºå¦‚ä½•ç”¨æ–‡ä»¶æµæ›¿ä»£å†…å­˜å­˜å‚¨ï¼Œè§£å†³å°å‹ç³»ç»Ÿçš„å®é™…éœ€æ±‚ã€‚</p>
<hr>
<h2 id="ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©æ–‡ä»¶æµï¼Ÿâ€”â€”å¯¹æ¯”å†…å­˜å­˜å‚¨çš„å±€é™æ€§"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©æ–‡ä»¶æµï¼Ÿâ€”â€”å¯¹æ¯”å†…å­˜å­˜å‚¨çš„å±€é™æ€§" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©æ–‡ä»¶æµï¼Ÿâ€”â€”å¯¹æ¯”å†…å­˜å­˜å‚¨çš„å±€é™æ€§"></a>ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©æ–‡ä»¶æµï¼Ÿâ€”â€”å¯¹æ¯”å†…å­˜å­˜å‚¨çš„å±€é™æ€§</h2><p>åœ¨å¼€å‘å°å‹ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå…ˆç”¨æ•°ç»„æˆ–é“¾è¡¨åœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®ã€‚ä½†å†…å­˜å­˜å‚¨å­˜åœ¨ä¸¤ä¸ªè‡´å‘½é—®é¢˜ï¼š</p>
<ol>
<li><strong>ä¸´æ—¶æ€§</strong>ï¼šç¨‹åºé€€å‡ºåï¼Œå†…å­˜æ•°æ®ä¼šè¢«æ“ä½œç³»ç»Ÿå›æ”¶ï¼Œæ— æ³•é•¿æœŸä¿å­˜ã€‚</li>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼šå†…å­˜å¤§å°æœ‰é™ï¼ˆå¦‚32ä½ç³»ç»Ÿçº¦4GBï¼‰ï¼Œæ— æ³•å¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚</li>
</ol>
<p>è€Œæ–‡ä»¶æµï¼ˆFile Streamï¼‰æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„â€œæŒä¹…åŒ–å­˜å‚¨æ¥å£â€ï¼Œé€šè¿‡å°†æ•°æ®å†™å…¥ç£ç›˜æ–‡ä»¶ï¼Œå¯ä»¥å®ç°ï¼š</p>
<ul>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šç¨‹åºé€€å‡ºåï¼Œæ•°æ®ä»ä¿ç•™åœ¨æ–‡ä»¶ä¸­ï¼Œä¸‹æ¬¡å¯åŠ¨å¯é‡æ–°åŠ è½½ã€‚</li>
<li><strong>è·¨ç¨‹åºå…±äº«</strong>ï¼šæ–‡ä»¶æ˜¯æ“ä½œç³»ç»Ÿçº§åˆ«çš„èµ„æºï¼Œå…¶ä»–ç¨‹åºä¹Ÿèƒ½è®¿é—®ã€‚</li>
<li><strong>çµæ´»æ‰©å±•</strong>ï¼šé€šè¿‡è°ƒæ•´æ–‡ä»¶è¯»å†™é€»è¾‘ï¼Œå¯è½»æ¾æ”¯æŒæ–°å¢å­—æ®µæˆ–åŠŸèƒ½ã€‚</li>
</ul>
<p>æœ¬æ–‡çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿå°†ä½¿ç”¨<strong>äºŒè¿›åˆ¶æ–‡ä»¶æµ</strong>å­˜å‚¨å›¾ä¹¦æ•°æ®ï¼ˆç»“æ„ä½“ç›´æ¥å†™å…¥æ–‡ä»¶ï¼‰ï¼Œå…¼é¡¾æ•ˆç‡ä¸æ˜“ç”¨æ€§ã€‚</p>
<hr>
<h2 id="äºŒã€æ ¸å¿ƒè®¾è®¡ï¼šæ–‡ä»¶å¦‚ä½•å­˜å‚¨å›¾ä¹¦æ•°æ®ï¼Ÿ"><a href="#äºŒã€æ ¸å¿ƒè®¾è®¡ï¼šæ–‡ä»¶å¦‚ä½•å­˜å‚¨å›¾ä¹¦æ•°æ®ï¼Ÿ" class="headerlink" title="äºŒã€æ ¸å¿ƒè®¾è®¡ï¼šæ–‡ä»¶å¦‚ä½•å­˜å‚¨å›¾ä¹¦æ•°æ®ï¼Ÿ"></a>äºŒã€æ ¸å¿ƒè®¾è®¡ï¼šæ–‡ä»¶å¦‚ä½•å­˜å‚¨å›¾ä¹¦æ•°æ®ï¼Ÿ</h2><h3 id="2-1-æ–‡ä»¶æ¨¡å¼çš„é€‰æ‹©ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼"><a href="#2-1-æ–‡ä»¶æ¨¡å¼çš„é€‰æ‹©ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼" class="headerlink" title="2.1 æ–‡ä»¶æ¨¡å¼çš„é€‰æ‹©ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼"></a>2.1 æ–‡ä»¶æ¨¡å¼çš„é€‰æ‹©ï¼šæ–‡æœ¬æ¨¡å¼vsäºŒè¿›åˆ¶æ¨¡å¼</h3><p>Cè¯­è¨€ä¸­ï¼Œæ–‡ä»¶æ“ä½œé€šè¿‡<code>fopen</code>å‡½æ•°æŒ‡å®šæ¨¡å¼ï¼Œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li><strong>æ–‡æœ¬æ¨¡å¼ï¼ˆå¦‚&quot;r&quot;&#x2F;&quot;w&quot;ï¼‰</strong>ï¼šä»¥å­—ç¬¦å½¢å¼è¯»å†™ï¼Œè‡ªåŠ¨è½¬æ¢æ¢è¡Œç¬¦ï¼ˆå¦‚Windowsçš„<code>\r </code>è½¬Unixçš„<code> </code>ï¼‰ã€‚</li>
<li><strong>äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆå¦‚&quot;rb&quot;&#x2F;&quot;wb&quot;ï¼‰</strong>ï¼šä»¥å­—èŠ‚å½¢å¼ç›´æ¥è¯»å†™ï¼Œä¸è¿›è¡Œä»»ä½•è½¬æ¢ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©äºŒè¿›åˆ¶æ¨¡å¼ï¼Ÿ</strong><br> å›¾ä¹¦ç®¡ç†ç³»ç»Ÿéœ€è¦å­˜å‚¨ç»“æ„ä½“<code>Book</code>ï¼ˆåŒ…å«<code>int num</code>ã€<code>char name[15]</code>ç­‰å­—æ®µï¼‰ã€‚è‹¥ç”¨æ–‡æœ¬æ¨¡å¼ï¼Œéœ€æ‰‹åŠ¨å°†ç»“æ„ä½“åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ˆå¦‚ç”¨<code>|</code>åˆ†éš”å­—æ®µï¼‰ï¼Œè¯»å–æ—¶å†è§£æã€‚è¿™ç§æ–¹å¼ä¸ä»…ä»£ç å¤æ‚ï¼Œè¿˜å¯èƒ½å› æ ¼å¼é”™è¯¯ï¼ˆå¦‚å­—æ®µç¼ºå¤±ï¼‰å¯¼è‡´æ•°æ®æŸåã€‚è€ŒäºŒè¿›åˆ¶æ¨¡å¼ç›´æ¥å†™å…¥ç»“æ„ä½“çš„å†…å­˜å­—èŠ‚ï¼Œè¯»å†™é€»è¾‘æ›´ç®€å•ï¼Œæ•ˆç‡æ›´é«˜ï¼ˆæ— éœ€å­—ç¬¦ä¸²è½¬æ¢ï¼‰ã€‚</p>
<h3 id="2-2-ç»“æ„ä½“ä¸æ–‡ä»¶çš„äº¤äº’ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#2-2-ç»“æ„ä½“ä¸æ–‡ä»¶çš„äº¤äº’ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="2.2 ç»“æ„ä½“ä¸æ–‡ä»¶çš„äº¤äº’ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>2.2 ç»“æ„ä½“ä¸æ–‡ä»¶çš„äº¤äº’ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h3><p>åœ¨Cè¯­è¨€ä¸­ï¼Œç»“æ„ä½“æ˜¯å†…å­˜ä¸­çš„ä¸€æ®µè¿ç»­å­—èŠ‚ã€‚é€šè¿‡<code>fwrite</code>å’Œ<code>fread</code>å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥å°†ç»“æ„ä½“å¯¹è±¡å†™å…¥æ–‡ä»¶ï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œæˆ–ä»æ–‡ä»¶è¯»å–å­—èŠ‚å¹¶è¿˜åŸä¸ºç»“æ„ä½“å¯¹è±¡ï¼ˆååºåˆ—åŒ–ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå†™å…¥ä¸€ä¸ª<code>Book</code>ç»“æ„ä½“çš„ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book book = &#123;.num=1, .name=&quot;ä¸‰ä½“&quot;, .author=&quot;åˆ˜æ…ˆæ¬£&quot;, .genre=SCIENCE_FICTION&#125;;</span><br><span class="line">FILE *fp = fopen(&quot;book.dat&quot;, &quot;wb&quot;); // äºŒè¿›åˆ¶å†™æ¨¡å¼</span><br><span class="line">fwrite(&amp;book, sizeof(Book), 1, fp); // å†™å…¥1ä¸ªBookç»“æ„ä½“çš„å­—èŠ‚</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>

<p>è¯»å–æ—¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book book;</span><br><span class="line">FILE *fp = fopen(&quot;book.dat&quot;, &quot;rb&quot;); // äºŒè¿›åˆ¶è¯»æ¨¡å¼</span><br><span class="line">fread(&amp;book, sizeof(Book), 1, fp); // ä»æ–‡ä»¶è¯»å–1ä¸ªBookç»“æ„ä½“çš„å­—èŠ‚</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šäºŒè¿›åˆ¶æ¨¡å¼è¦æ±‚ç»“æ„ä½“åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼ˆæ— å¡«å……æˆ–å¯¹é½é—®é¢˜ï¼‰ã€‚Cè¯­è¨€é»˜è®¤ä¼šå¯¹ç»“æ„ä½“è¿›è¡Œå†…å­˜å¯¹é½ï¼ˆå¦‚<code>char</code>åå¡«å……3å­—èŠ‚ä½¿<code>int</code>å¯¹é½åˆ°4å­—èŠ‚è¾¹ç•Œï¼‰ï¼Œä½†<code>fwrite</code>å’Œ<code>fread</code>ä¼šæŒ‰å®é™…å†…å­˜å¸ƒå±€è¯»å†™ï¼Œå› æ­¤åªè¦è¯»å†™æ—¶çš„ç»“æ„ä½“å®šä¹‰ä¸€è‡´ï¼Œæ•°æ®ä¸ä¼šå‡ºé”™ã€‚</p>
<hr>
<h2 id="ä¸‰ã€å…³é”®ä»£ç è§£æï¼šæ–‡ä»¶æµçš„æ ¸å¿ƒæ“ä½œ"><a href="#ä¸‰ã€å…³é”®ä»£ç è§£æï¼šæ–‡ä»¶æµçš„æ ¸å¿ƒæ“ä½œ" class="headerlink" title="ä¸‰ã€å…³é”®ä»£ç è§£æï¼šæ–‡ä»¶æµçš„æ ¸å¿ƒæ“ä½œ"></a>ä¸‰ã€å…³é”®ä»£ç è§£æï¼šæ–‡ä»¶æµçš„æ ¸å¿ƒæ“ä½œ</h2><h3 id="3-1-æ–‡ä»¶æ‰“å¼€ä¸å…³é—­ï¼šfopenä¸fclose"><a href="#3-1-æ–‡ä»¶æ‰“å¼€ä¸å…³é—­ï¼šfopenä¸fclose" class="headerlink" title="3.1 æ–‡ä»¶æ‰“å¼€ä¸å…³é—­ï¼šfopenä¸fclose"></a>3.1 æ–‡ä»¶æ‰“å¼€ä¸å…³é—­ï¼š<code>fopen</code>ä¸<code>fclose</code></h3><p><code>fopen</code>å‡½æ•°çš„åŸå‹æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FILE *fopen(const char *filename, const char *mode);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>filename</code>ï¼šæ–‡ä»¶è·¯å¾„ï¼ˆå¦‚<code>&quot;book.dat&quot;</code>ï¼‰ã€‚</li>
<li><code>mode</code>ï¼šæ‰“å¼€æ¨¡å¼ï¼ˆå¦‚<code>&quot;rb&quot;</code>è¡¨ç¤ºäºŒè¿›åˆ¶è¯»ï¼Œ<code>&quot;wb&quot;</code>è¡¨ç¤ºäºŒè¿›åˆ¶å†™ï¼‰ã€‚</li>
</ul>
<p><strong>å…³é”®æ¨¡å¼è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>&quot;rb&quot;</code>ï¼šåªè¯»äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆæ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™è¿”å›<code>NULL</code>ï¼‰ã€‚</li>
<li><code>&quot;wb&quot;</code>ï¼šåªå†™äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™æ¸…ç©ºå†…å®¹ï¼‰ã€‚</li>
<li><code>&quot;ab+&quot;</code>ï¼šè¯»å†™äºŒè¿›åˆ¶æ¨¡å¼ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¿½åŠ å†…å®¹åˆ°æœ«å°¾ï¼‰ã€‚</li>
</ul>
<p><code>fclose</code>å‡½æ•°ç”¨äºå…³é—­æ–‡ä»¶ï¼Œé‡Šæ”¾ç³»ç»Ÿèµ„æºã€‚<strong>å¿…é¡»ç¡®ä¿æ¯æ¬¡<code>fopen</code>éƒ½æœ‰å¯¹åº”çš„<code>fclose</code></strong>ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ–‡ä»¶æŸåæˆ–æ•°æ®ä¸¢å¤±ã€‚</p>
<h3 id="3-2-å†™å…¥æ–‡ä»¶ï¼šfwriteçš„ç”¨æ³•"><a href="#3-2-å†™å…¥æ–‡ä»¶ï¼šfwriteçš„ç”¨æ³•" class="headerlink" title="3.2 å†™å…¥æ–‡ä»¶ï¼šfwriteçš„ç”¨æ³•"></a>3.2 å†™å…¥æ–‡ä»¶ï¼š<code>fwrite</code>çš„ç”¨æ³•</h3><p><code>fwrite</code>çš„åŸå‹æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>ptr</code>ï¼šæŒ‡å‘è¦å†™å…¥æ•°æ®çš„å†…å­˜æŒ‡é’ˆï¼ˆå¦‚<code>&amp;book</code>ï¼‰ã€‚</li>
<li><code>size</code>ï¼šå•ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆå¦‚<code>sizeof(Book)</code>ï¼‰ã€‚</li>
<li><code>nmemb</code>ï¼šè¦å†™å…¥çš„å…ƒç´ ä¸ªæ•°ï¼ˆå¦‚<code>1</code>è¡¨ç¤ºå†™å…¥1ä¸ª<code>Book</code>ç»“æ„ä½“ï¼‰ã€‚</li>
<li><code>stream</code>ï¼šæ–‡ä»¶æŒ‡é’ˆï¼ˆç”±<code>fopen</code>è¿”å›ï¼‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼šå°†1ä¸ª<code>Book</code>ç»“æ„ä½“å†™å…¥æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book new_book = &#123;.num=10, .name=&quot;C Primer Plus&quot;, .author=&quot;Stephen Prata&quot;, .genre=TECHNOLOGY&#125;;</span><br><span class="line">FILE *fp = fopen(&quot;book.dat&quot;, &quot;ab+&quot;); // è¿½åŠ æ¨¡å¼ï¼ˆé¿å…è¦†ç›–åŸæœ‰æ•°æ®ï¼‰</span><br><span class="line">if (fp == NULL) &#123;</span><br><span class="line">    perror(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;); // è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼ˆå¦‚â€œæƒé™ä¸è¶³â€ï¼‰</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br><span class="line">fwrite(&amp;new_book, sizeof(Book), 1, fp); // å†™å…¥1ä¸ªBookç»“æ„ä½“</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>

<h3 id="3-3-è¯»å–æ–‡ä»¶ï¼šfreadçš„ç”¨æ³•"><a href="#3-3-è¯»å–æ–‡ä»¶ï¼šfreadçš„ç”¨æ³•" class="headerlink" title="3.3 è¯»å–æ–‡ä»¶ï¼šfreadçš„ç”¨æ³•"></a>3.3 è¯»å–æ–‡ä»¶ï¼š<code>fread</code>çš„ç”¨æ³•</h3><p><code>fread</code>çš„åŸå‹æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>ptr</code>ï¼šæŒ‡å‘å­˜å‚¨è¯»å–æ•°æ®çš„å†…å­˜æŒ‡é’ˆï¼ˆå¦‚<code>&amp;books</code>æ•°ç»„ï¼‰ã€‚</li>
<li><code>size</code>ï¼šå•ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆå¦‚<code>sizeof(Book)</code>ï¼‰ã€‚</li>
<li><code>nmemb</code>ï¼šè¦è¯»å–çš„å…ƒç´ ä¸ªæ•°ï¼ˆå¦‚<code>MAX_BOOKS</code>è¡¨ç¤ºæœ€å¤šè¯»å–100æœ¬ï¼‰ã€‚</li>
<li><code>stream</code>ï¼šæ–‡ä»¶æŒ‡é’ˆã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼šä»æ–‡ä»¶è¯»å–æ‰€æœ‰å›¾ä¹¦æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book books[MAX_BOOKS];</span><br><span class="line">FILE *fp = fopen(&quot;book.dat&quot;, &quot;rb&quot;);</span><br><span class="line">if (fp == NULL) &#123;</span><br><span class="line">    printf(&quot;æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°†ä½¿ç”¨é»˜è®¤æ•°æ®ã€‚\n&quot;);</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br><span class="line">int cnt = fread(books, sizeof(Book), MAX_BOOKS, fp); // è¯»å–æœ€å¤š100æœ¬</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>

<h3 id="3-4-é”™è¯¯å¤„ç†ï¼šé¿å…ç¨‹åºå´©æºƒ"><a href="#3-4-é”™è¯¯å¤„ç†ï¼šé¿å…ç¨‹åºå´©æºƒ" class="headerlink" title="3.4 é”™è¯¯å¤„ç†ï¼šé¿å…ç¨‹åºå´©æºƒ"></a>3.4 é”™è¯¯å¤„ç†ï¼šé¿å…ç¨‹åºå´©æºƒ</h3><p>æ–‡ä»¶æ“ä½œå¯èƒ½é‡åˆ°å¤šç§é”™è¯¯ï¼ˆå¦‚æ–‡ä»¶ä¸å­˜åœ¨ã€ç£ç›˜ç©ºé—´ä¸è¶³ï¼‰ï¼Œå¿…é¡»è¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼š</p>
<ul>
<li><strong><code>fopen</code>è¿”å›<code>NULL</code></strong>ï¼šè¯´æ˜æ–‡ä»¶æ— æ³•æ‰“å¼€ï¼ˆå¦‚è·¯å¾„é”™è¯¯ã€æƒé™ä¸è¶³ï¼‰ã€‚æ­¤æ—¶åº”è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼ˆç”¨<code>perror</code>å‡½æ•°ï¼‰å¹¶ç»ˆæ­¢ç›¸å…³æ“ä½œã€‚</li>
<li><strong><code>fread</code>&#x2F;<code>fwrite</code>è¿”å›å€¼å¼‚å¸¸</strong>ï¼šè¿™ä¸¤ä¸ªå‡½æ•°è¿”å›å®é™…è¯»å†™çš„å…ƒç´ ä¸ªæ•°ã€‚è‹¥è¿”å›å€¼å°äºé¢„æœŸï¼ˆå¦‚<code>fread</code>è¿”å›0ä½†æ–‡ä»¶æœªç»“æŸï¼‰ï¼Œå¯èƒ½æ˜¯æ–‡ä»¶æŸåæˆ–ç£ç›˜é”™è¯¯ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šå®‰å…¨çš„æ–‡ä»¶è¯»å–é€»è¾‘</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FILE *fp = fopen(&quot;book.dat&quot;, &quot;rb&quot;);</span><br><span class="line">if (fp == NULL) &#123;</span><br><span class="line">    perror(&quot;é”™è¯¯ï¼šæ— æ³•æ‰“å¼€æ–‡ä»¶&quot;);</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br><span class="line">int cnt = fread(books, sizeof(Book), MAX_BOOKS, fp);</span><br><span class="line">if (cnt == 0 &amp;&amp; ferror(fp)) &#123; // æ£€æŸ¥æ˜¯å¦å› é”™è¯¯å¯¼è‡´è¯»å–å¤±è´¥</span><br><span class="line">    perror(&quot;é”™è¯¯ï¼šè¯»å–æ–‡ä»¶å¤±è´¥&quot;);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    return 1;</span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨æˆ·æ“ä½œä¸æ–‡ä»¶äº¤äº’"><a href="#å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨æˆ·æ“ä½œä¸æ–‡ä»¶äº¤äº’" class="headerlink" title="å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨æˆ·æ“ä½œä¸æ–‡ä»¶äº¤äº’"></a>å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨æˆ·æ“ä½œä¸æ–‡ä»¶äº¤äº’</h2><h3 id="4-1-æ·»åŠ ä¸€æœ¬ã€ŠC-Primer-Plusã€‹"><a href="#4-1-æ·»åŠ ä¸€æœ¬ã€ŠC-Primer-Plusã€‹" class="headerlink" title="4.1 æ·»åŠ ä¸€æœ¬ã€ŠC Primer Plusã€‹"></a>4.1 æ·»åŠ ä¸€æœ¬ã€ŠC Primer Plusã€‹</h3><p>å‡è®¾å½“å‰æ–‡ä»¶<code>book.dat</code>ä¸­å·²æœ‰10æœ¬ä¹¦ï¼Œç°åœ¨æ·»åŠ ç¬¬11æœ¬ã€ŠC Primer Plusã€‹ï¼š</p>
<ol>
<li>ç”¨æˆ·é€‰æ‹©â€œè¾“å…¥æ–°çš„ä¹¦ç±ä¿¡æ¯â€ï¼ˆé€‰é¡¹2ï¼‰ã€‚</li>
<li>ç¨‹åºè°ƒç”¨<code>find_empty_num</code>æŸ¥æ‰¾æœ€å°ç©ºç¼ºåºå·ï¼ˆå‡è®¾å½“å‰æœ€å¤§åºå·æ˜¯10ï¼Œè¿”å›11ï¼‰ã€‚</li>
<li>ç”¨æˆ·è¾“å…¥ä¹¦åã€ä½œè€…ã€ç±»åˆ«ï¼ˆå‡è®¾é€‰3:ç§‘æŠ€ï¼‰ã€‚</li>
<li>ç¨‹åºåˆ›å»º<code>Book</code>ç»“æ„ä½“å¹¶å†™å…¥æ–‡ä»¶ï¼ˆ<code>fwrite</code>ï¼‰ã€‚</li>
<li>æœ€åè°ƒç”¨<code>write_to_file</code>å°†æ•´ä¸ªæ•°ç»„é‡æ–°å†™å…¥æ–‡ä»¶ï¼ˆè¦†ç›–åŸå†…å®¹ï¼‰ã€‚</li>
</ol>
<p><strong>å…³é”®ä»£ç é€»è¾‘ï¼ˆ<code>input_book</code>å‡½æ•°ï¼‰</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int input_book(Book *books, int cnt) &#123;</span><br><span class="line">    if (cnt &gt;= MAX_BOOKS) &#123;</span><br><span class="line">        puts(&quot;ä¹¦ç±æ•°é‡å·²è¾¾ä¸Šé™ï¼ˆ100æœ¬ï¼‰ï¼Œæ— æ³•ç»§ç»­æ·»åŠ ã€‚\n&quot;);</span><br><span class="line">        return cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    Book new_book;</span><br><span class="line">    new_book.num = find_empty_num(books, cnt); // æŸ¥æ‰¾ç©ºç¼ºåºå·</span><br><span class="line">    printf(&quot;è¯·è¾“å…¥ä¹¦ç±åç§°: &quot;);</span><br><span class="line">    scanf(&quot;%s&quot;, new_book.name);</span><br><span class="line">    printf(&quot;è¯·è¾“å…¥ä¹¦ç±ä½œè€…: &quot;);</span><br><span class="line">    scanf(&quot;%s&quot;, new_book.author);</span><br><span class="line">    int g;</span><br><span class="line">    do &#123;</span><br><span class="line">        printf(&quot;è¯·è¾“å…¥ç±»åˆ«ç¼–å·ï¼ˆ0:ç§‘å¹» 1:æ–‡å­¦ 2:å†å² 3:ç§‘æŠ€ 4:å…¶ä»–ï¼‰: &quot;);</span><br><span class="line">        scanf(&quot;%d&quot;, &amp;g);</span><br><span class="line">    &#125; while (g &lt; 0 || g &gt; 4);</span><br><span class="line">    new_book.genre = g;</span><br><span class="line">    books[cnt] = new_book; // æ·»åŠ åˆ°æ•°ç»„æœ«å°¾</span><br><span class="line">    return cnt + 1; // æ•°é‡åŠ 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-åˆ é™¤ä¸€æœ¬ã€ŠC-Primer-Plusã€‹"><a href="#4-2-åˆ é™¤ä¸€æœ¬ã€ŠC-Primer-Plusã€‹" class="headerlink" title="4.2 åˆ é™¤ä¸€æœ¬ã€ŠC Primer Plusã€‹"></a>4.2 åˆ é™¤ä¸€æœ¬ã€ŠC Primer Plusã€‹</h3><p>åˆ é™¤æ“ä½œçš„æ ¸å¿ƒæ˜¯<strong>å®šä½ç›®æ ‡ä¹¦ç±å¹¶è¦†ç›–åç»­æ•°æ®</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·é€‰æ‹©â€œæŒ‰åºå·åˆ é™¤ä¹¦ç±â€ï¼ˆé€‰é¡¹3ï¼‰ï¼Œè¾“å…¥è¦åˆ é™¤çš„åºå·ï¼ˆå¦‚11ï¼‰ã€‚</li>
<li>ç¨‹åºéå†æ•°ç»„æ‰¾åˆ°è¯¥ä¹¦ç±çš„ä½ç½®ï¼ˆå‡è®¾ç´¢å¼•ä¸º10ï¼‰ã€‚</li>
<li>å°†è¯¥ä½ç½®ä¹‹åçš„æ‰€æœ‰ä¹¦ç±å‘å‰ç§»åŠ¨ä¸€ä½ï¼ˆè¦†ç›–è¢«åˆ é™¤çš„ä¹¦ç±ï¼‰ã€‚</li>
<li>æœ€åè°ƒç”¨<code>write_to_file</code>å°†æ›´æ–°åçš„æ•°ç»„å†™å…¥æ–‡ä»¶ã€‚</li>
</ol>
<p><strong>å…³é”®ä»£ç é€»è¾‘ï¼ˆ<code>delete_by_num</code>å‡½æ•°ï¼‰</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int delete_by_num(Book *books, int cnt, int num) &#123;</span><br><span class="line">    for (int i = 0; i &lt; cnt; i++) &#123;</span><br><span class="line">        if (books[i].num == num) &#123;</span><br><span class="line">            // åç»­ä¹¦ç±å‰ç§»ï¼Œè¦†ç›–è¢«åˆ é™¤çš„ä½ç½®</span><br><span class="line">            for (int j = i; j &lt; cnt - 1; j++) &#123;</span><br><span class="line">                books[j] = books[j + 1];</span><br><span class="line">            &#125;</span><br><span class="line">            printf(&quot;ç¼–å·ä¸º %d çš„ä¹¦ç±å·²åˆ é™¤ã€‚\n&quot;, num);</span><br><span class="line">            return cnt - 1; // æ•°é‡å‡1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(&quot;æœªæ‰¾åˆ°ç¼–å·ä¸º %d çš„ä¹¦ç±ï¼Œæ— æ³•åˆ é™¤ã€‚\n&quot;, num);</span><br><span class="line">    return cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰"><a href="#4-3-ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰" class="headerlink" title="4.3 ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰"></a>4.3 ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</h3><p>è™½ç„¶äºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨é˜…è¯»ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>hexdump</code>ï¼ˆLinuxï¼‰æˆ–<code>HxD</code>ï¼ˆWindowsï¼‰å·¥å…·æŸ¥çœ‹å…¶å­—èŠ‚ç»“æ„ï¼ŒéªŒè¯æ•°æ®æ˜¯å¦æ­£ç¡®å­˜å‚¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª<code>Book</code>ç»“æ„ä½“çš„äºŒè¿›åˆ¶å­˜å‚¨å¯èƒ½å¦‚ä¸‹ï¼ˆå‡è®¾<code>num=11</code>ï¼Œ<code>name=&quot;C Primer Plus&quot;</code>ï¼Œ<code>author=&quot;Stephen Prata&quot;</code>ï¼Œ<code>genre=3</code>ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">00000000: 0000000b 43205072 696d657220 506c7573  ....C Primer Plu</span><br><span class="line">00000010: 73005374 65706865 6e205072 61746100  s.Stephen Prata.</span><br><span class="line">00000020: 03000000                                ....</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li>å‰4å­—èŠ‚æ˜¯<code>num=11</code>ï¼ˆåå…­è¿›åˆ¶<code>0b</code>ï¼‰ã€‚</li>
<li>æ¥ä¸‹æ¥15å­—èŠ‚æ˜¯<code>name</code>ï¼ˆ<code>&quot;C Primer Plus&quot;</code>ï¼Œä¸è¶³15å­—èŠ‚è¡¥<code>\0</code>ï¼‰ã€‚</li>
<li>æ¥ä¸‹æ¥20å­—èŠ‚æ˜¯<code>author</code>ï¼ˆ<code>&quot;Stephen Prata&quot;</code>ï¼Œä¸è¶³20å­—èŠ‚è¡¥<code>\0</code>ï¼‰ã€‚</li>
<li>æœ€å4å­—èŠ‚æ˜¯<code>genre=3</code>ï¼ˆåå…­è¿›åˆ¶<code>03</code>ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äº”ã€æ€»ç»“ä¸æ‰©å±•"><a href="#äº”ã€æ€»ç»“ä¸æ‰©å±•" class="headerlink" title="äº”ã€æ€»ç»“ä¸æ‰©å±•"></a>äº”ã€æ€»ç»“ä¸æ‰©å±•</h2><h3 id="5-1-æ–‡ä»¶æµçš„ä¼˜ç¼ºç‚¹"><a href="#5-1-æ–‡ä»¶æµçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="5.1 æ–‡ä»¶æµçš„ä¼˜ç¼ºç‚¹"></a>5.1 æ–‡ä»¶æµçš„ä¼˜ç¼ºç‚¹</h3><table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>å®ç°ç®€å•ï¼ˆæ— éœ€æ•°æ®åº“ï¼‰</td>
<td>è¯»å†™æ•ˆç‡è¾ƒä½ï¼ˆé€‚åˆå°æ•°æ®é‡ï¼‰</td>
</tr>
<tr>
<td>æ•°æ®æŒä¹…åŒ–ï¼ˆç¨‹åºé€€å‡ºåä¿ç•™ï¼‰</td>
<td>æ— ç´¢å¼•åŠŸèƒ½ï¼ˆæŸ¥è¯¢æ•ˆç‡éšæ•°æ®é‡å¢åŠ ä¸‹é™ï¼‰</td>
</tr>
<tr>
<td>è·¨å¹³å°å…¼å®¹ï¼ˆæ–‡ä»¶æ˜¯é€šç”¨èµ„æºï¼‰</td>
<td>éœ€æ‰‹åŠ¨å¤„ç†æ•°æ®æ ¼å¼ï¼ˆå¦‚ç»“æ„ä½“å¯¹é½ï¼‰</td>
</tr>
</tbody></table>
<h3 id="5-2-æœªæ¥ä¼˜åŒ–æ–¹å‘"><a href="#5-2-æœªæ¥ä¼˜åŒ–æ–¹å‘" class="headerlink" title="5.2 æœªæ¥ä¼˜åŒ–æ–¹å‘"></a>5.2 æœªæ¥ä¼˜åŒ–æ–¹å‘</h3><ul>
<li><strong>æ”¹ç”¨äºŒè¿›åˆ¶æ¨¡å¼æå‡é€Ÿåº¦</strong>ï¼šå½“å‰ä»£ç å·²ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼ï¼Œè‹¥æ•°æ®é‡æå¤§ï¼ˆå¦‚10ä¸‡æœ¬ï¼‰ï¼Œå¯è¿›ä¸€æ­¥ä¼˜åŒ–è¯»å†™é€»è¾‘ï¼ˆå¦‚æ‰¹é‡è¯»å†™ï¼‰ã€‚</li>
<li><strong>å¢åŠ ç´¢å¼•åŠŸèƒ½</strong>ï¼šä¸º<code>num</code>æˆ–<code>name</code>å­—æ®µå»ºç«‹ç´¢å¼•ï¼ˆå¦‚ç”¨æ•°ç»„è®°å½•åºå·å¯¹åº”çš„æ–‡ä»¶åç§»é‡ï¼‰ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡ã€‚</li>
<li><strong>æ•°æ®æ ¡éªŒ</strong>ï¼šåœ¨å†™å…¥æ–‡ä»¶æ—¶æ·»åŠ æ ¡éªŒç ï¼ˆå¦‚CRCæ ¡éªŒï¼‰ï¼Œé˜²æ­¢æ–‡ä»¶æŸåå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</li>
<li><strong>æ”¯æŒæ›´å¤šå­—æ®µ</strong>ï¼šæ‰©å±•<code>Book</code>ç»“æ„ä½“ï¼ˆå¦‚æ·»åŠ å‡ºç‰ˆæ—¶é—´ã€ä»·æ ¼ï¼‰ï¼Œå¹¶è°ƒæ•´æ–‡ä»¶è¯»å†™é€»è¾‘ã€‚</li>
</ul>
<hr>
<h2 id="é™„å½•ï¼šå®Œæ•´ä»£ç ç‰‡æ®µï¼ˆå…³é”®å‡½æ•°ï¼‰"><a href="#é™„å½•ï¼šå®Œæ•´ä»£ç ç‰‡æ®µï¼ˆå…³é”®å‡½æ•°ï¼‰" class="headerlink" title="é™„å½•ï¼šå®Œæ•´ä»£ç ç‰‡æ®µï¼ˆå…³é”®å‡½æ•°ï¼‰"></a>é™„å½•ï¼šå®Œæ•´ä»£ç ç‰‡æ®µï¼ˆå…³é”®å‡½æ•°ï¼‰</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">`write_to_file`</button><button type="button" class="tab">`read_from_file`</button><button type="button" class="tab">`main.c`</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void write_to_file(Book *books, int cnt) &#123;</span><br><span class="line">    FILE *fp = fopen(&quot;book.dat&quot;, &quot;wb&quot;); // äºŒè¿›åˆ¶å†™æ¨¡å¼ï¼ˆæ¸…ç©ºåŸå†…å®¹ï¼‰</span><br><span class="line">    if (fp == NULL) &#123;</span><br><span class="line">        perror(&quot;é”™è¯¯ï¼šæ— æ³•æ‰“å¼€æ–‡ä»¶å†™å…¥&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    fwrite(books, sizeof(Book), cnt, fp); // å†™å…¥æ‰€æœ‰ä¹¦ç±æ•°æ®</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int read_from_file(Book *books) &#123;</span><br><span class="line">    FILE *fp = fopen(&quot;book.dat&quot;, &quot;rb&quot;); // äºŒè¿›åˆ¶è¯»æ¨¡å¼ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨è¿”å›NULLï¼‰</span><br><span class="line">    if (fp == NULL) &#123;</span><br><span class="line">        return 0; // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›0æœ¬</span><br><span class="line">    &#125;</span><br><span class="line">    int cnt = fread(books, sizeof(Book), MAX_BOOKS, fp); // è¯»å–æœ€å¤š100æœ¬</span><br><span class="line">    fclose(fp);</span><br><span class="line">    return cnt; // è¿”å›å®é™…è¯»å–çš„æ•°é‡</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line"></span><br><span class="line">#define MAX_BOOKS 100</span><br><span class="line"></span><br><span class="line">typedef enum Genre &#123;</span><br><span class="line">	SCIENCE_FICTION, LITERATURE, HISTORY, TECHNOLOGY, OTHER</span><br><span class="line">&#125; Genre;</span><br><span class="line"></span><br><span class="line">typedef struct Book &#123;</span><br><span class="line">	int num;</span><br><span class="line">	char name[15];</span><br><span class="line">	char author[20];</span><br><span class="line">	Genre genre;</span><br><span class="line">&#125; Book;</span><br><span class="line"></span><br><span class="line">const char *Genre_Zn(Genre g) &#123;</span><br><span class="line">	const char *genres[] = &#123; &quot;ç§‘å¹»&quot;, &quot;æ–‡å­¦&quot;, &quot;å†å²&quot;, &quot;ç§‘æŠ€&quot;, &quot;å…¶ä»–&quot; &#125;;</span><br><span class="line">	return g &gt;= 0 &amp;&amp; g &lt; 5 ? genres[g] : &quot;æœªçŸ¥&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŒ‰åºå·æ’åºä¹¦ç±ï¼ˆå†’æ³¡æ’åºï¼‰</span><br><span class="line">void sort_books(Book *books, int cnt) &#123;</span><br><span class="line">	for (int i = 0; i &lt; cnt - 1; i++)</span><br><span class="line">		for (int j = 0; j &lt; cnt - i - 1; j++)</span><br><span class="line">			if (books[j].num &gt; books[j + 1].num) &#123;</span><br><span class="line">				Book tmp = books[j];</span><br><span class="line">				books[j] = books[j + 1];</span><br><span class="line">				books[j + 1] = tmp;</span><br><span class="line">			&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ‰“å°ä¹¦ç±ä¿¡æ¯</span><br><span class="line">void print_books(Book *books, int cnt) &#123;</span><br><span class="line">	sort_books(books, cnt);</span><br><span class="line">	puts(&quot;--------------------- æ‰€æœ‰çš„ä¹¦ç±ä¿¡æ¯ ---------------------&quot;);</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;,</span><br><span class="line">			books[i].num, books[i].name, books[i].author, Genre_Zn(books[i].genre));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŒ‰ç±»åˆ«æŸ¥æ‰¾ä¹¦ç±</span><br><span class="line">void find_by_genre(Book *books, int cnt, Genre g) &#123;</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		if (books[i].genre == g)</span><br><span class="line">			printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;,</span><br><span class="line">				books[i].num, books[i].name, books[i].author, Genre_Zn(books[i].genre));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŒ‰åºå·æŸ¥æ‰¾ä¹¦ç±</span><br><span class="line">void find_by_num(Book *books, int cnt, int num) &#123;</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		if (books[i].num == num) &#123;</span><br><span class="line">			printf(&quot;ç¼–å·:%-2d  ä¹¦å:%-12s  ä½œè€…:%-13s   ç±»åˆ«:%-8s\n&quot;,</span><br><span class="line">				books[i].num, books[i].name, books[i].author, Genre_Zn(books[i].genre));</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">	printf(&quot;æœªæ‰¾åˆ°ç¼–å·ä¸º %d çš„ä¹¦ç±ã€‚\n&quot;, num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŒ‰åºå·åˆ é™¤ä¹¦ç±</span><br><span class="line">int delete_by_num(Book *books, int cnt, int num) &#123;</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		if (books[i].num == num) &#123;</span><br><span class="line">			for (int j = i; j &lt; cnt - 1; j++)</span><br><span class="line">				books[j] = books[j + 1];</span><br><span class="line">			printf(&quot;ç¼–å·ä¸º %d çš„ä¹¦ç±å·²åˆ é™¤ã€‚\n&quot;, num);</span><br><span class="line">			return cnt - 1;</span><br><span class="line">		&#125;</span><br><span class="line">	printf(&quot;æœªæ‰¾åˆ°ç¼–å·ä¸º %d çš„ä¹¦ç±ï¼Œæ— æ³•åˆ é™¤ã€‚\n&quot;, num);</span><br><span class="line">	return cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å†™å…¥æ–‡ä»¶</span><br><span class="line">void write_to_file(Book *books, int cnt) &#123;</span><br><span class="line">	FILE *fp = fopen(&quot;book.txt&quot;, &quot;wb&quot;);</span><br><span class="line">	if (fp) &#123;</span><br><span class="line">		fwrite(books, sizeof(Book), cnt, fp);</span><br><span class="line">		fclose(fp);</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		perror(&quot;book.txt open&quot;);</span><br><span class="line">		return 0;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¯»å–æ–‡ä»¶</span><br><span class="line">int read_from_file(Book *books) &#123;</span><br><span class="line">	FILE *fp = fopen(&quot;book.txt&quot;, &quot;rb&quot;);</span><br><span class="line">	if (!fp) &#123;</span><br><span class="line">		perror(&quot;book.txt open&quot;);</span><br><span class="line">		return 0;</span><br><span class="line">	&#125;</span><br><span class="line">	int cnt = fread(books, sizeof(Book), MAX_BOOKS, fp);</span><br><span class="line">	fclose(fp);</span><br><span class="line">	return cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŸ¥æ‰¾æœ€å°ç©ºç¼ºåºå·</span><br><span class="line">int find_empty_num(Book *books, int cnt) &#123;</span><br><span class="line">	bool used[MAX_BOOKS + 1] = &#123; false &#125;;</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		if (books[i].num &lt;= MAX_BOOKS) used[books[i].num] = true;</span><br><span class="line">	for (int i = 1; i &lt;= MAX_BOOKS; i++)</span><br><span class="line">		if (!used[i]) return i;</span><br><span class="line">	// è‹¥æ²¡æœ‰ç©ºç¼ºï¼Œè¿”å›æœ€å¤§åºå· + 1</span><br><span class="line">	int max = 0;</span><br><span class="line">	for (int i = 0; i &lt; cnt; i++)</span><br><span class="line">		if (books[i].num &gt; max) max = books[i].num;</span><br><span class="line">	return max + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾“å…¥æ–°ä¹¦ç±ä¿¡æ¯</span><br><span class="line">int input_book(Book *books, int cnt) &#123;</span><br><span class="line">	if (cnt &gt;= MAX_BOOKS) &#123;</span><br><span class="line">		puts(&quot;ä¹¦ç±æ•°é‡å·²è¾¾ä¸Šé™ï¼Œæ— æ³•ç»§ç»­æ·»åŠ ã€‚&quot;);</span><br><span class="line">		return cnt;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Book new_book = &#123; .num = find_empty_num(books, cnt) &#125;;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥ä¹¦ç±åç§°: &quot;);</span><br><span class="line">	scanf(&quot;%s&quot;, new_book.name);</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥ä¹¦ç±ä½œè€…: &quot;);</span><br><span class="line">	scanf(&quot;%s&quot;, new_book.author);</span><br><span class="line"></span><br><span class="line">	int g;</span><br><span class="line">	do &#123;</span><br><span class="line">		printf(&quot;è¯·è¾“å…¥ä¹¦ç±ç±»åˆ«ç¼–å·ï¼ˆ0:ç§‘å¹» 1:æ–‡å­¦ 2:å†å² 3:ç§‘æŠ€ 4:å…¶ä»–ï¼‰: &quot;);</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;g);</span><br><span class="line">	&#125; while (g &lt; 0 || g &gt; 4);</span><br><span class="line">	new_book.genre = g;</span><br><span class="line"></span><br><span class="line">	books[cnt] = new_book;</span><br><span class="line">	return cnt + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	Book books[MAX_BOOKS];</span><br><span class="line">	int cnt = read_from_file(books);</span><br><span class="line"></span><br><span class="line">	if (!cnt) &#123;</span><br><span class="line">		Book init_books[] = &#123;</span><br><span class="line">			&#123;1, &quot;ä¸‰ä½“&quot;, &quot;åˆ˜æ…ˆæ¬£&quot;, SCIENCE_FICTION&#125;,</span><br><span class="line">			&#123;2, &quot;çº¢æ¥¼æ¢¦&quot;, &quot;æ›¹é›ªèŠ¹&quot;, LITERATURE&#125;,</span><br><span class="line">			&#123;3, &quot;ä¸­å›½é€šå²&quot;, &quot;å•æ€å‹‰&quot;, HISTORY&#125;,</span><br><span class="line">			&#123;4, &quot;æ—¶é—´ç®€å²&quot;, &quot;å²è’‚èŠ¬_éœé‡‘&quot;, TECHNOLOGY&#125;,</span><br><span class="line">			&#123;5, &quot;å›´åŸ&quot;, &quot;é’±é’Ÿä¹¦&quot;, LITERATURE&#125;,</span><br><span class="line">			&#123;6, &quot;å‚²æ…¢ä¸åè§&quot;, &quot;ç®€_å¥¥æ–¯æ±€&quot;, LITERATURE&#125;,</span><br><span class="line">			&#123;7, &quot;å‘¼å•¸å±±åº„&quot;, &quot;è‰¾ç±³è‰_å‹ƒæœ—ç‰¹&quot;, LITERATURE&#125;,</span><br><span class="line">			&#123;8, &quot;æ´»ç€&quot;, &quot;ä½™å&quot;, LITERATURE&#125;,</span><br><span class="line">			&#123;9, &quot;æ˜æœé‚£äº›äº‹å„¿&quot;, &quot;å½“å¹´æ˜æœˆ&quot;, HISTORY&#125;,</span><br><span class="line">			&#123;10, &quot;ä¹Œåˆä¹‹ä¼—&quot;, &quot;å¤æ–¯å¡”å¤«_å‹’åº&quot;, OTHER&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		cnt = sizeof(init_books) / sizeof(Book);</span><br><span class="line">		for (int i = 0; i &lt; cnt; i++) books[i] = init_books[i];</span><br><span class="line">		write_to_file(books, cnt);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	int choice;</span><br><span class="line">	do &#123;</span><br><span class="line">		print_books(books, cnt);</span><br><span class="line">		puts(&quot;\nè¯·é€‰æ‹©æ“ä½œï¼š&quot;);</span><br><span class="line">		puts(&quot;0: æŒ‰ç±»åˆ«æŸ¥æ‰¾ä¹¦ç±&quot;);</span><br><span class="line">		puts(&quot;1: æŒ‰åºå·æŸ¥æ‰¾ä¹¦ç±&quot;);</span><br><span class="line">		puts(&quot;2: è¾“å…¥æ–°çš„ä¹¦ç±ä¿¡æ¯&quot;);</span><br><span class="line">		puts(&quot;3: æŒ‰åºå·åˆ é™¤ä¹¦ç±&quot;);</span><br><span class="line">		puts(&quot;4: é€€å‡º&quot;);</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;choice);</span><br><span class="line"></span><br><span class="line">		switch (choice) &#123;</span><br><span class="line">		case 0: &#123;</span><br><span class="line">			int g;</span><br><span class="line">			do &#123;</span><br><span class="line">				puts(&quot;\nè¯·è¾“å…¥ä¹¦ç±ç±»åˆ«ç¼–å·ï¼ˆ0:ç§‘å¹» 1:æ–‡å­¦ 2:å†å² 3:ç§‘æŠ€ 4:å…¶ä»– 5:è¿”å›ä¸Šä¸€çº§ï¼‰&quot;);</span><br><span class="line">				scanf(&quot;%d&quot;, &amp;g);</span><br><span class="line">				if (g != 5) find_by_genre(books, cnt, g);</span><br><span class="line">			&#125; while (g != 5);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		case 1: &#123;</span><br><span class="line">			int num;</span><br><span class="line">			printf(&quot;è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„ä¹¦ç±åºå·: &quot;);</span><br><span class="line">			scanf(&quot;%d&quot;, &amp;num);</span><br><span class="line">			find_by_num(books, cnt, num);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		case 2:</span><br><span class="line">			cnt = input_book(books, cnt);</span><br><span class="line">			write_to_file(books, cnt);</span><br><span class="line">			break;</span><br><span class="line">		case 3: &#123;</span><br><span class="line">			int num;</span><br><span class="line">			printf(&quot;è¯·è¾“å…¥è¦åˆ é™¤çš„ä¹¦ç±åºå·: &quot;);</span><br><span class="line">			scanf(&quot;%d&quot;, &amp;num);</span><br><span class="line">			cnt = delete_by_num(books, cnt, num);</span><br><span class="line">			write_to_file(books, cnt);</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		case 4:</span><br><span class="line">			puts(&quot;é€€å‡ºç¨‹åºã€‚&quot;);</span><br><span class="line">			break;</span><br><span class="line">		default:</span><br><span class="line">			puts(&quot;æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; while (choice != 4);</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>

<p>é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†å›¾ä¹¦ç®¡ç†çš„åŸºæœ¬åŠŸèƒ½ï¼Œæ›´æ·±å…¥ç†è§£äº†Cè¯­è¨€æ–‡ä»¶æµçš„æ ¸å¿ƒæœºåˆ¶ã€‚æ–‡ä»¶æµæ˜¯Cè¯­è¨€ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„é‡è¦æ¡¥æ¢ï¼ŒæŒæ¡å®ƒåï¼Œä½ å¯ä»¥è½»æ¾å®ç°æ—¥å¿—è®°å½•ã€é…ç½®ä¿å­˜ã€æ•°æ®å¯¼å‡ºç­‰åŠŸèƒ½ã€‚ä¸‹æ¬¡é‡åˆ°éœ€è¦æŒä¹…åŒ–å­˜å‚¨çš„éœ€æ±‚æ—¶ï¼Œä¸å¦¨è¯•è¯•æ–‡ä»¶æµï¼</p>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Practical System Development</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç¨‹åº</tag>
        <tag>å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å®ç°äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ï¼šä»å¢åˆ æ”¹æŸ¥åˆ°ä¸‰ç§éå†çš„å®Œæ•´è§£æ</title>
    <url>/posts/6f84ed1e/</url>
    <content><![CDATA[<img src="/img/PageCode/19.png" alt="Cè¯­è¨€å®ç°äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ï¼šä»å¢åˆ æ”¹æŸ¥åˆ°ä¸‰ç§éå†çš„å®Œæ•´è§£æ" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Tree, BSTï¼‰æ˜¯ä¸€ç§ç»å…¸çš„åŠ¨æ€æ•°æ®ç»“æ„ï¼Œå› å…¶é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œï¼ˆå¹³å‡æ—¶é—´å¤æ‚åº¦O(logn)ï¼‰ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®åº“ç´¢å¼•ã€ç¼“å­˜ç³»ç»Ÿã€æ’åºç®—æ³•ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†åŸºäºCè¯­è¨€å®ç°ä¸€ä¸ªå®Œæ•´çš„BSTï¼Œè¯¦ç»†è§£æå…¶æ ¸å¿ƒåŸç†ã€å…³é”®æ“ä½œåŠä¸‰ç§éå†æ–¹å¼ï¼Œå¹¶é€šè¿‡æµ‹è¯•ç”¨ä¾‹éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§ã€‚</p>
<hr>
<h2 id="ä¸€ã€BSTåŸºç¡€æ¦‚å¿µï¼šå®šä¹‰ä¸æ ¸å¿ƒæ€§è´¨"><a href="#ä¸€ã€BSTåŸºç¡€æ¦‚å¿µï¼šå®šä¹‰ä¸æ ¸å¿ƒæ€§è´¨" class="headerlink" title="ä¸€ã€BSTåŸºç¡€æ¦‚å¿µï¼šå®šä¹‰ä¸æ ¸å¿ƒæ€§è´¨"></a>ä¸€ã€BSTåŸºç¡€æ¦‚å¿µï¼šå®šä¹‰ä¸æ ¸å¿ƒæ€§è´¨</h2><h3 id="1-1-BSTçš„å®šä¹‰"><a href="#1-1-BSTçš„å®šä¹‰" class="headerlink" title="1.1 BSTçš„å®šä¹‰"></a>1.1 BSTçš„å®šä¹‰</h3><p>äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ul>
<li><strong>å·¦å­æ ‘æ€§è´¨</strong>ï¼šå¯¹äºä»»æ„èŠ‚ç‚¹ï¼Œå…¶å·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼å‡å°äºè¯¥èŠ‚ç‚¹çš„é”®å€¼ã€‚</li>
<li><strong>å³å­æ ‘æ€§è´¨</strong>ï¼šå¯¹äºä»»æ„èŠ‚ç‚¹ï¼Œå…¶å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼å‡å¤§äºæˆ–ç­‰äºè¯¥èŠ‚ç‚¹çš„é”®å€¼ï¼ˆæ³¨ï¼šéƒ¨åˆ†å®šä¹‰è¦æ±‚ä¸¥æ ¼å¤§äºï¼Œæœ¬æ–‡é‡‡ç”¨â€œå¤§äºç­‰äºâ€ä»¥æ”¯æŒé‡å¤å€¼å¤„ç†ï¼‰ã€‚</li>
<li><strong>é€’å½’ç»“æ„</strong>ï¼šå·¦å­æ ‘å’Œå³å­æ ‘æœ¬èº«ä¹Ÿæ˜¯BSTã€‚</li>
</ul>
<h3 id="1-2-BSTä¸æ™®é€šäºŒå‰æ ‘çš„åŒºåˆ«"><a href="#1-2-BSTä¸æ™®é€šäºŒå‰æ ‘çš„åŒºåˆ«" class="headerlink" title="1.2 BSTä¸æ™®é€šäºŒå‰æ ‘çš„åŒºåˆ«"></a>1.2 BSTä¸æ™®é€šäºŒå‰æ ‘çš„åŒºåˆ«</h3><p>æ™®é€šäºŒå‰æ ‘ä»…è¦æ±‚èŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè€ŒBSTé€šè¿‡é”®å€¼çš„æœ‰åºæ€§èµ‹äºˆäº†æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>é«˜æ•ˆæŸ¥æ‰¾</strong>ï¼šåˆ©ç”¨æœ‰åºæ€§ï¼Œå¯é€šè¿‡æ¯”è¾ƒé”®å€¼å¿«é€Ÿç¼©å°æœç´¢èŒƒå›´ã€‚</li>
<li><strong>åŠ¨æ€æ’åº</strong>ï¼šæ’å…¥å’Œåˆ é™¤æ“ä½œè‡ªåŠ¨ç»´æŠ¤æœ‰åºæ€§ï¼Œæ— éœ€é¢å¤–æ’åºæ­¥éª¤ã€‚</li>
<li><strong>èŒƒå›´æŸ¥è¯¢</strong>ï¼šå¯é«˜æ•ˆæŸ¥è¯¢æŸä¸ªåŒºé—´å†…çš„æ‰€æœ‰é”®å€¼ï¼ˆå¦‚â€œæŸ¥æ‰¾æ‰€æœ‰å¤§äº10ä¸”å°äº50çš„é”®â€ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äºŒã€èŠ‚ç‚¹ç»“æ„è®¾è®¡ï¼šä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ"><a href="#äºŒã€èŠ‚ç‚¹ç»“æ„è®¾è®¡ï¼šä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ" class="headerlink" title="äºŒã€èŠ‚ç‚¹ç»“æ„è®¾è®¡ï¼šä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ"></a>äºŒã€èŠ‚ç‚¹ç»“æ„è®¾è®¡ï¼šä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ</h2><h3 id="2-1-TreeNodeç»“æ„ä½“è§£æ"><a href="#2-1-TreeNodeç»“æ„ä½“è§£æ" class="headerlink" title="2.1 TreeNodeç»“æ„ä½“è§£æ"></a>2.1 TreeNodeç»“æ„ä½“è§£æ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef int KeyType;  // é”®ç±»å‹ä¸ºæ•´æ•°</span><br><span class="line"></span><br><span class="line">typedef struct node &#123;</span><br><span class="line">    KeyType key;          // èŠ‚ç‚¹é”®å€¼ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span><br><span class="line">    struct node *left;    // å·¦å­æ ‘æŒ‡é’ˆï¼ˆæŒ‡å‘æ›´å°é”®å€¼çš„å­æ ‘ï¼‰</span><br><span class="line">    struct node *right;   // å³å­æ ‘æŒ‡é’ˆï¼ˆæŒ‡å‘æ›´å¤§æˆ–ç›¸ç­‰çš„å­æ ‘ï¼‰</span><br><span class="line">&#125; TreeNode;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>key</strong>ï¼šå­˜å‚¨èŠ‚ç‚¹çš„å”¯ä¸€é”®å€¼ï¼Œæ˜¯BSTæœ‰åºæ€§çš„æ ¸å¿ƒä¾æ®ã€‚</li>
<li><strong>left&#x2F;right</strong>ï¼šåˆ†åˆ«æŒ‡å‘å·¦å­æ ‘å’Œå³å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ„æˆé€’å½’ç»“æ„ã€‚</li>
</ul>
<h3 id="2-2-ä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ"><a href="#2-2-ä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ" class="headerlink" title="2.2 ä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ"></a>2.2 ä¸ºä»€ä¹ˆé€‰æ‹©intç±»å‹ï¼Ÿ</h3><p>å½“å‰ä»£ç ä¸­<code>KeyType</code>è¢«å®šä¹‰ä¸º<code>int</code>ï¼Œè¿™æ˜¯ä¸ºäº†ç®€åŒ–å®ç°å¹¶æ»¡è¶³å¤§å¤šæ•°åŸºç¡€åœºæ™¯çš„éœ€æ±‚ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰©å±•ä¸ºæ³›å‹ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>void*</code>ç±»å‹å­˜å‚¨ä»»æ„ç±»å‹çš„é”®å€¼ã€‚</li>
<li>æ·»åŠ ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æŒ‡é’ˆï¼ˆå¦‚<code>int (*compare)(const void*, const void*)</code>ï¼‰ï¼Œç”¨äºè‡ªå®šä¹‰é”®å€¼çš„æ¯”è¾ƒé€»è¾‘ï¼ˆå¦‚å­—ç¬¦ä¸²ã€ç»“æ„ä½“ç­‰ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="ä¸‰ã€å¢åˆ æ”¹æŸ¥å®ç°ï¼šæ ¸å¿ƒæ“ä½œçš„é€»è¾‘ä¸ç»†èŠ‚"><a href="#ä¸‰ã€å¢åˆ æ”¹æŸ¥å®ç°ï¼šæ ¸å¿ƒæ“ä½œçš„é€»è¾‘ä¸ç»†èŠ‚" class="headerlink" title="ä¸‰ã€å¢åˆ æ”¹æŸ¥å®ç°ï¼šæ ¸å¿ƒæ“ä½œçš„é€»è¾‘ä¸ç»†èŠ‚"></a>ä¸‰ã€å¢åˆ æ”¹æŸ¥å®ç°ï¼šæ ¸å¿ƒæ“ä½œçš„é€»è¾‘ä¸ç»†èŠ‚</h2><h3 id="3-1-æ’å…¥æ“ä½œï¼ˆInsertï¼‰ï¼šä¿æŒBSTæ€§è´¨çš„å…³é”®"><a href="#3-1-æ’å…¥æ“ä½œï¼ˆInsertï¼‰ï¼šä¿æŒBSTæ€§è´¨çš„å…³é”®" class="headerlink" title="3.1 æ’å…¥æ“ä½œï¼ˆInsertï¼‰ï¼šä¿æŒBSTæ€§è´¨çš„å…³é”®"></a>3.1 æ’å…¥æ“ä½œï¼ˆInsertï¼‰ï¼šä¿æŒBSTæ€§è´¨çš„å…³é”®</h3><p>æ’å…¥æ“ä½œçš„ç›®æ ‡æ˜¯å°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°æ­£ç¡®ä½ç½®ï¼ŒåŒæ—¶ç»´æŒBSTçš„æœ‰åºæ€§ã€‚å½“å‰ä»£ç é‡‡ç”¨<strong>é€’å½’å®ç°</strong>ï¼Œé€»è¾‘å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’æ’å…¥èŠ‚ç‚¹ï¼ˆè¿”å›æ’å…¥åçš„å­æ ‘æ ¹ï¼‰</span><br><span class="line">static TreeNode *bst_insert_helper(TreeNode *node, KeyType key, bool *inserted) &#123;</span><br><span class="line">    if (!node) &#123;  // ç©ºä½ç½®æ’å…¥æ–°èŠ‚ç‚¹</span><br><span class="line">        TreeNode *new_node = (TreeNode *)malloc(sizeof(TreeNode));</span><br><span class="line">        new_node-&gt;key = key;</span><br><span class="line">        new_node-&gt;left = new_node-&gt;right = NULL;</span><br><span class="line">        *inserted = true;  // æ ‡è®°æ’å…¥æˆåŠŸ</span><br><span class="line">        return new_node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (key == node-&gt;key) &#123;  // é”®å·²å­˜åœ¨ï¼Œæ’å…¥å¤±è´¥</span><br><span class="line">        *inserted = false;</span><br><span class="line">        return node;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &lt; node-&gt;key) &#123;  // æ’å…¥å·¦å­æ ‘</span><br><span class="line">        node-&gt;left = bst_insert_helper(node-&gt;left, key, inserted);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;  // æ’å…¥å³å­æ ‘ï¼ˆå…è®¸ç­‰äºï¼Œå–å†³äºéœ€æ±‚ï¼‰</span><br><span class="line">        node-&gt;right = bst_insert_helper(node-&gt;right, key, inserted);</span><br><span class="line">    &#125;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å…³é”®é€»è¾‘ï¼š"><a href="#å…³é”®é€»è¾‘ï¼š" class="headerlink" title="å…³é”®é€»è¾‘ï¼š"></a>å…³é”®é€»è¾‘ï¼š</h4><ul>
<li><strong>ç»ˆæ­¢æ¡ä»¶</strong>ï¼šå½“å½“å‰èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹å¹¶æ’å…¥ã€‚</li>
<li><strong>é”®å€¼æ¯”è¾ƒ</strong>ï¼šè‹¥é”®å·²å­˜åœ¨ï¼ˆ<code>key == node-&gt;key</code>ï¼‰ï¼Œæ ‡è®°æ’å…¥å¤±è´¥ï¼ˆå½“å‰ä»£ç å¿½ç•¥é‡å¤é”®ï¼‰ï¼›è‹¥é”®æ›´å°ï¼Œé€’å½’æ’å…¥å·¦å­æ ‘ï¼›å¦åˆ™é€’å½’æ’å…¥å³å­æ ‘ã€‚</li>
<li><strong>ä¿æŒæœ‰åºæ€§</strong>ï¼šé€šè¿‡é€’å½’è·¯å¾„ç¡®ä¿æ–°èŠ‚ç‚¹æœ€ç»ˆä½äºæ­£ç¡®ä½ç½®ï¼Œç»´æŒBSTçš„å·¦å°å³å¤§æ€§è´¨ã€‚</li>
</ul>
<h4 id="æµ‹è¯•éªŒè¯ï¼š"><a href="#æµ‹è¯•éªŒè¯ï¼š" class="headerlink" title="æµ‹è¯•éªŒè¯ï¼š"></a>æµ‹è¯•éªŒè¯ï¼š</h4><p>æ’å…¥åºåˆ—<code>&#123;50, 30, 20, 40, 70, 60, 80&#125;</code>åï¼ŒBSTçš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">     50</span><br><span class="line">   /    \</span><br><span class="line">  30     70</span><br><span class="line"> /  \   /  \</span><br><span class="line">20  40 60   80</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æŸ¥æ‰¾æ“ä½œï¼ˆSearchï¼‰ï¼šåˆ©ç”¨æœ‰åºæ€§å¿«é€Ÿå®šä½"><a href="#3-2-æŸ¥æ‰¾æ“ä½œï¼ˆSearchï¼‰ï¼šåˆ©ç”¨æœ‰åºæ€§å¿«é€Ÿå®šä½" class="headerlink" title="3.2 æŸ¥æ‰¾æ“ä½œï¼ˆSearchï¼‰ï¼šåˆ©ç”¨æœ‰åºæ€§å¿«é€Ÿå®šä½"></a>3.2 æŸ¥æ‰¾æ“ä½œï¼ˆSearchï¼‰ï¼šåˆ©ç”¨æœ‰åºæ€§å¿«é€Ÿå®šä½</h3><p>æŸ¥æ‰¾æ“ä½œé€šè¿‡æ¯”è¾ƒé”®å€¼ä¸å½“å‰èŠ‚ç‚¹çš„é”®å€¼ï¼Œé€æ­¥ç¼©å°æœç´¢èŒƒå›´ã€‚å½“å‰ä»£ç æä¾›é€’å½’å®ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’æœç´¢èŠ‚ç‚¹</span><br><span class="line">static TreeNode *bst_search_helper(TreeNode *node, KeyType key) &#123;</span><br><span class="line">    if (!node) return NULL;  // ç©ºæ ‘æˆ–æœªæ‰¾åˆ°</span><br><span class="line">    if (key == node-&gt;key) &#123;</span><br><span class="line">        return node;  // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &lt; node-&gt;key) &#123;</span><br><span class="line">        return bst_search_helper(node-&gt;left, key);  // æœç´¢å·¦å­æ ‘</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        return bst_search_helper(node-&gt;right, key);  // æœç´¢å³å­æ ‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æï¼š"></a>æ—¶é—´å¤æ‚åº¦åˆ†æï¼š</h4><ul>
<li><strong>å¹³å‡æƒ…å†µ</strong>ï¼šO(logn)ï¼ˆæ ‘é«˜ä¸ºlognï¼Œæ¯æ¬¡æ¯”è¾ƒç¼©å°ä¸€åŠèŒƒå›´ï¼‰ã€‚</li>
<li><strong>æœ€åæƒ…å†µ</strong>ï¼šO(n)ï¼ˆæ ‘é€€åŒ–ä¸ºé“¾è¡¨ï¼Œå¦‚æ’å…¥åºåˆ—ä¸º<code>&#123;1,2,3,4,...&#125;</code>ï¼‰ã€‚</li>
</ul>
<h3 id="3-3-åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰ï¼šç»´æŒæ ‘ç»“æ„çš„æ ¸å¿ƒæŒ‘æˆ˜"><a href="#3-3-åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰ï¼šç»´æŒæ ‘ç»“æ„çš„æ ¸å¿ƒæŒ‘æˆ˜" class="headerlink" title="3.3 åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰ï¼šç»´æŒæ ‘ç»“æ„çš„æ ¸å¿ƒæŒ‘æˆ˜"></a>3.3 åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰ï¼šç»´æŒæ ‘ç»“æ„çš„æ ¸å¿ƒæŒ‘æˆ˜</h3><p>åˆ é™¤æ“ä½œéœ€å¤„ç†ä¸‰ç§æƒ…å†µï¼Œå¹¶ç¡®ä¿åˆ é™¤åæ ‘ä»æ»¡è¶³BSTæ€§è´¨ï¼š</p>
<h4 id="æƒ…å†µ1ï¼šèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰"><a href="#æƒ…å†µ1ï¼šèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰" class="headerlink" title="æƒ…å†µ1ï¼šèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰"></a>æƒ…å†µ1ï¼šèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼ˆå¶å­èŠ‚ç‚¹ï¼‰</h4><p>ç›´æ¥åˆ é™¤èŠ‚ç‚¹ï¼Œçˆ¶èŠ‚ç‚¹å¯¹åº”æŒ‡é’ˆç½®ç©ºã€‚</p>
<h4 id="æƒ…å†µ2ï¼šèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹"><a href="#æƒ…å†µ2ï¼šèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹" class="headerlink" title="æƒ…å†µ2ï¼šèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹"></a>æƒ…å†µ2ï¼šèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹</h4><p>ç”¨å­èŠ‚ç‚¹æ›¿æ¢å½“å‰èŠ‚ç‚¹ï¼Œçˆ¶èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘å­èŠ‚ç‚¹ã€‚</p>
<h4 id="æƒ…å†µ3ï¼šèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹"><a href="#æƒ…å†µ3ï¼šèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹" class="headerlink" title="æƒ…å†µ3ï¼šèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹"></a>æƒ…å†µ3ï¼šèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</h4><p>æ‰¾åˆ°å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼ˆåç»§èŠ‚ç‚¹ï¼‰ï¼Œç”¨å…¶é”®å€¼æ›¿æ¢å½“å‰èŠ‚ç‚¹çš„é”®å€¼ï¼Œç„¶ååˆ é™¤å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼ˆé¿å…ç ´åBSTæ€§è´¨ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’åˆ é™¤èŠ‚ç‚¹ï¼ˆè¿”å›åˆ é™¤åçš„å­æ ‘æ ¹ï¼‰</span><br><span class="line">static TreeNode *bst_delete_helper(TreeNode *node, KeyType key, bool *deleted) &#123;</span><br><span class="line">    if (!node) &#123;  // æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">        *deleted = false;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (key &lt; node-&gt;key) &#123;  // ç›®æ ‡åœ¨å·¦å­æ ‘</span><br><span class="line">        node-&gt;left = bst_delete_helper(node-&gt;left, key, deleted);</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &gt; node-&gt;key) &#123;  // ç›®æ ‡åœ¨å³å­æ ‘</span><br><span class="line">        node-&gt;right = bst_delete_helper(node-&gt;right, key, deleted);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;  // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">        *deleted = true;</span><br><span class="line"></span><br><span class="line">        // æƒ…å†µ1ï¼šæ— å·¦å­æ ‘ï¼ˆåªæœ‰å³å­æ ‘æˆ–æ— å­æ ‘ï¼‰</span><br><span class="line">        if (!node-&gt;left) &#123;</span><br><span class="line">            TreeNode *temp = node-&gt;right;</span><br><span class="line">            free(node);</span><br><span class="line">            return temp;</span><br><span class="line">        &#125;</span><br><span class="line">        // æƒ…å†µ2ï¼šæ— å³å­æ ‘ï¼ˆåªæœ‰å·¦å­æ ‘ï¼‰</span><br><span class="line">        else if (!node-&gt;right) &#123;</span><br><span class="line">            TreeNode *temp = node-&gt;left;</span><br><span class="line">            free(node);</span><br><span class="line">            return temp;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // æƒ…å†µ3ï¼šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼ˆæ‰¾å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹æ›¿æ¢ï¼‰</span><br><span class="line">        TreeNode *min_node = bst_min(node-&gt;right);  // æ‰¾å³å­æ ‘æœ€å°èŠ‚ç‚¹</span><br><span class="line">        node-&gt;key = min_node-&gt;key;  // æ›¿æ¢å½“å‰èŠ‚ç‚¹çš„é”®</span><br><span class="line">        node-&gt;right = bst_delete_helper(node-&gt;right, min_node-&gt;key, deleted);  // åˆ é™¤å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å…³é”®ç»†èŠ‚ï¼š"><a href="#å…³é”®ç»†èŠ‚ï¼š" class="headerlink" title="å…³é”®ç»†èŠ‚ï¼š"></a>å…³é”®ç»†èŠ‚ï¼š</h4><ul>
<li><strong>åç»§èŠ‚ç‚¹</strong>ï¼šå³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼ˆæœ€å·¦èŠ‚ç‚¹ï¼‰æ˜¯åˆ é™¤åŒå­èŠ‚ç‚¹æ—¶çš„æœ€ä½³æ›¿æ¢å€™é€‰ï¼Œå› ä¸ºå®ƒä¸ä¼šç ´åå·¦å­æ ‘çš„æœ‰åºæ€§ã€‚</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šåˆ é™¤èŠ‚ç‚¹åéœ€é‡Šæ”¾å…¶å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<h3 id="3-4-ä¿®æ”¹æ“ä½œï¼ˆUpdateï¼‰ï¼šå…ˆæŸ¥æ‰¾åæ›´æ–°çš„å®Œæ•´æµç¨‹"><a href="#3-4-ä¿®æ”¹æ“ä½œï¼ˆUpdateï¼‰ï¼šå…ˆæŸ¥æ‰¾åæ›´æ–°çš„å®Œæ•´æµç¨‹" class="headerlink" title="3.4 ä¿®æ”¹æ“ä½œï¼ˆUpdateï¼‰ï¼šå…ˆæŸ¥æ‰¾åæ›´æ–°çš„å®Œæ•´æµç¨‹"></a>3.4 ä¿®æ”¹æ“ä½œï¼ˆUpdateï¼‰ï¼šå…ˆæŸ¥æ‰¾åæ›´æ–°çš„å®Œæ•´æµç¨‹</h3><p>ä¿®æ”¹æ“ä½œéœ€å…ˆæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå†æ›´æ–°å…¶é”®å€¼ã€‚éœ€æ³¨æ„ï¼šä¿®æ”¹é”®å€¼åå¯èƒ½ç ´åBSTæ€§è´¨ï¼Œå› æ­¤éœ€é‡æ–°è°ƒæ•´æ ‘ç»“æ„ï¼ˆæˆ–ç›´æ¥åˆ é™¤æ—§èŠ‚ç‚¹å¹¶æ’å…¥æ–°èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>å½“å‰ä»£ç æœªç›´æ¥æä¾›ä¿®æ”¹å‡½æ•°ï¼Œä½†å¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bool bst_update(BST *tree, KeyType old_key, KeyType new_key) &#123;</span><br><span class="line">    TreeNode *node = bst_search(tree, old_key);</span><br><span class="line">    if (!node) return false;  // æ—§é”®ä¸å­˜åœ¨</span><br><span class="line"></span><br><span class="line">    // æ–¹æ³•1ï¼šåˆ é™¤æ—§èŠ‚ç‚¹ï¼Œæ’å…¥æ–°èŠ‚ç‚¹ï¼ˆç®€å•ä½†å¯èƒ½å½±å“æ€§èƒ½ï¼‰</span><br><span class="line">    bst_delete(tree, old_key);</span><br><span class="line">    return bst_insert(tree, new_key);</span><br><span class="line"></span><br><span class="line">    // æ–¹æ³•2ï¼šç›´æ¥ä¿®æ”¹é”®å€¼ï¼ˆéœ€è°ƒæ•´æ ‘ç»“æ„ï¼Œå¤æ‚åº¦è¾ƒé«˜ï¼‰</span><br><span class="line">    // æ³¨æ„ï¼šä¿®æ”¹åéœ€ç¡®ä¿å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ &lt; new_keyï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ &gt;= new_key</span><br><span class="line">    // è‹¥new_key &lt; node-&gt;keyï¼Œéœ€å°†åŸå·¦å­æ ‘ä¸­ &gt;= new_keyçš„èŠ‚ç‚¹ç§»åˆ°å³å­æ ‘ï¼Œåä¹‹äº¦ç„¶ï¼ˆä¸æ¨èï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å››ã€ä¸‰ç§éå†æ–¹å¼ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„åº”ç”¨"><a href="#å››ã€ä¸‰ç§éå†æ–¹å¼ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„åº”ç”¨" class="headerlink" title="å››ã€ä¸‰ç§éå†æ–¹å¼ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„åº”ç”¨"></a>å››ã€ä¸‰ç§éå†æ–¹å¼ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰çš„åº”ç”¨</h2><p>éå†æ˜¯è®¿é—®æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼ŒBSTçš„ä¸‰ç§ç»å…¸éå†æ–¹å¼ï¼ˆå‰åºã€ä¸­åºã€ååºï¼‰å‡åŸºäºæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ï¼ŒåŒºåˆ«åœ¨äºè®¿é—®èŠ‚ç‚¹çš„æ—¶æœºã€‚</p>
<h3 id="4-1-å‰åºéå†ï¼ˆæ ¹â†’å·¦â†’å³ï¼‰"><a href="#4-1-å‰åºéå†ï¼ˆæ ¹â†’å·¦â†’å³ï¼‰" class="headerlink" title="4.1 å‰åºéå†ï¼ˆæ ¹â†’å·¦â†’å³ï¼‰"></a>4.1 å‰åºéå†ï¼ˆæ ¹â†’å·¦â†’å³ï¼‰</h3><p><strong>é€»è¾‘</strong>ï¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œå†é€’å½’éå†å·¦å­æ ‘ï¼Œæœ€åé€’å½’éå†å³å­æ ‘ã€‚<br> â€‹<strong>â€‹åº”ç”¨åœºæ™¯â€‹</strong>â€‹ï¼šå¤åˆ¶æ ‘ç»“æ„ã€åºåˆ—åŒ–ï¼ˆå¦‚JSONæ ¼å¼ï¼‰ã€‚<br> â€‹<strong>â€‹é€’å½’å®ç°â€‹</strong>â€‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">static void bst_preorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®æ ¹èŠ‚ç‚¹</span><br><span class="line">    bst_preorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    bst_preorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰"><a href="#4-2-ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰" class="headerlink" title="4.2 ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰"></a>4.2 ä¸­åºéå†ï¼ˆå·¦â†’æ ¹â†’å³ï¼‰</h3><p><strong>é€»è¾‘</strong>ï¼šå…ˆé€’å½’éå†å·¦å­æ ‘ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åé€’å½’éå†å³å­æ ‘ã€‚<br> â€‹<strong>â€‹ç‰¹æ€§â€‹</strong>â€‹ï¼šBSTçš„ä¸­åºéå†ç»“æœæ˜¯æœ‰åºåºåˆ—ï¼ˆå‡åºï¼‰ã€‚<br> â€‹<strong>â€‹åº”ç”¨åœºæ™¯â€‹</strong>â€‹ï¼šæ’åºã€éªŒè¯BSTæ€§è´¨ã€‚<br> â€‹<strong>â€‹é€’å½’å®ç°â€‹</strong>â€‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">static void bst_inorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    bst_inorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®æ ¹èŠ‚ç‚¹</span><br><span class="line">    bst_inorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-ååºéå†ï¼ˆå·¦â†’å³â†’æ ¹ï¼‰"><a href="#4-3-ååºéå†ï¼ˆå·¦â†’å³â†’æ ¹ï¼‰" class="headerlink" title="4.3 ååºéå†ï¼ˆå·¦â†’å³â†’æ ¹ï¼‰"></a>4.3 ååºéå†ï¼ˆå·¦â†’å³â†’æ ¹ï¼‰</h3><p><strong>é€»è¾‘</strong>ï¼šå…ˆé€’å½’éå†å·¦å­æ ‘ï¼Œå†é€’å½’éå†å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚<br> â€‹<strong>â€‹åº”ç”¨åœºæ™¯â€‹</strong>â€‹ï¼šé‡Šæ”¾å†…å­˜ï¼ˆç¡®ä¿å­èŠ‚ç‚¹å…ˆè¢«é‡Šæ”¾ï¼‰ã€ååºè¡¨è¾¾å¼æ±‚å€¼ã€‚<br> â€‹<strong>â€‹é€’å½’å®ç°â€‹</strong>â€‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">static void bst_postorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    bst_postorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    bst_postorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®æ ¹èŠ‚ç‚¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="äº”ã€å®Œæ•´ç¤ºä¾‹ä¸æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§"><a href="#äº”ã€å®Œæ•´ç¤ºä¾‹ä¸æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§" class="headerlink" title="äº”ã€å®Œæ•´ç¤ºä¾‹ä¸æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§"></a>äº”ã€å®Œæ•´ç¤ºä¾‹ä¸æµ‹è¯•ï¼šéªŒè¯åŠŸèƒ½æ­£ç¡®æ€§</h2><h3 id="5-1-æµ‹è¯•ä»£ç è¯´æ˜"><a href="#5-1-æµ‹è¯•ä»£ç è¯´æ˜" class="headerlink" title="5.1 æµ‹è¯•ä»£ç è¯´æ˜"></a>5.1 æµ‹è¯•ä»£ç è¯´æ˜</h3><p>ä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ’å…¥ã€é‡å¤æ’å…¥ã€æœç´¢ã€åˆ é™¤å’Œéå†æ“ä½œï¼ŒéªŒè¯BSTçš„æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void test_bst() &#123;</span><br><span class="line">    BST *bst = bst_create();</span><br><span class="line">    if (!bst) &#123;</span><br><span class="line">        printf(&quot;åˆ›å»ºBSTå¤±è´¥\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æ’å…¥æ“ä½œ</span><br><span class="line">    int keys_to_insert[] = &#123;50, 30, 20, 40, 70, 60, 80&#125;;</span><br><span class="line">    for (int i = 0; i &lt; sizeof(keys_to_insert)/sizeof(keys_to_insert[0]); i++) &#123;</span><br><span class="line">        if (bst_insert(bst, keys_to_insert[i])) &#123;</span><br><span class="line">            printf(&quot;æ’å…¥é”® %d æˆåŠŸ\n&quot;, keys_to_insert[i]);</span><br><span class="line">            bst_inorder(bst);  // ä¸­åºéå†åº”è¾“å‡ºæœ‰åºåºåˆ—</span><br><span class="line">            printf(&quot;</span><br><span class="line">&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            printf(&quot;æ’å…¥é”® %d å¤±è´¥ï¼ˆå·²å­˜åœ¨ï¼‰\n&quot;, keys_to_insert[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•é‡å¤æ’å…¥</span><br><span class="line">    bst_insert(bst, 50);  // åº”å¤±è´¥</span><br><span class="line">    bst_inorder(bst);     // åºåˆ—ä¸å˜</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æœç´¢æ“ä½œ</span><br><span class="line">    int keys_to_search[] = &#123;40, 90&#125;;</span><br><span class="line">    for (int i = 0; i &lt; sizeof(keys_to_search)/sizeof(keys_to_search[0]); i++) &#123;</span><br><span class="line">        TreeNode *result = bst_search(bst, keys_to_search[i]);</span><br><span class="line">        if (result) &#123;</span><br><span class="line">            printf(&quot;æ‰¾åˆ°é”® %d\n&quot;, keys_to_search[i]);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            printf(&quot;æœªæ‰¾åˆ°é”® %d\n&quot;, keys_to_search[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•åˆ é™¤æ“ä½œ</span><br><span class="line">    int keys_to_delete[] = &#123;20, 50, 100&#125;;</span><br><span class="line">    for (int i = 0; i &lt; sizeof(keys_to_delete)/sizeof(keys_to_delete[0]); i++) &#123;</span><br><span class="line">        if (bst_delete(bst, keys_to_delete[i])) &#123;</span><br><span class="line">            printf(&quot;åˆ é™¤é”® %d æˆåŠŸ\n&quot;, keys_to_delete[i]);</span><br><span class="line">            bst_inorder(bst);  // ä¸­åºéå†åº”ä¿æŒæœ‰åº</span><br><span class="line">            printf(&quot;\n&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            printf(&quot;åˆ é™¤é”® %d å¤±è´¥ï¼ˆä¸å­˜åœ¨ï¼‰\n&quot;, keys_to_delete[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    bst_destroy(bst);</span><br><span class="line">    printf(&quot;BSTé”€æ¯æˆåŠŸ\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-æµ‹è¯•ç»“æœéªŒè¯"><a href="#5-2-æµ‹è¯•ç»“æœéªŒè¯" class="headerlink" title="5.2 æµ‹è¯•ç»“æœéªŒè¯"></a>5.2 æµ‹è¯•ç»“æœéªŒè¯</h3><p>è¿è¡Œæµ‹è¯•ä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼ˆå…³é”®æ­¥éª¤ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ’å…¥é”® 50 æˆåŠŸ</span><br><span class="line">50 </span><br><span class="line">æ’å…¥é”® 30 æˆåŠŸ</span><br><span class="line">30 50 </span><br><span class="line">æ’å…¥é”® 20 æˆåŠŸ</span><br><span class="line">20 30 50 </span><br><span class="line">æ’å…¥é”® 40 æˆåŠŸ</span><br><span class="line">20 30 40 50 </span><br><span class="line">æ’å…¥é”® 70 æˆåŠŸ</span><br><span class="line">20 30 40 50 70 </span><br><span class="line">æ’å…¥é”® 60 æˆåŠŸ</span><br><span class="line">20 30 40 50 60 70 </span><br><span class="line">æ’å…¥é”® 80 æˆåŠŸ</span><br><span class="line">20 30 40 50 60 70 80 </span><br><span class="line">æ’å…¥é”® 50 å¤±è´¥ï¼ˆå·²å­˜åœ¨ï¼‰</span><br><span class="line">20 30 40 50 60 70 80 </span><br><span class="line"></span><br><span class="line">æ‰¾åˆ°é”® 40</span><br><span class="line">æœªæ‰¾åˆ°é”® 90</span><br><span class="line"></span><br><span class="line">åˆ é™¤é”® 20 æˆåŠŸ</span><br><span class="line">30 40 50 60 70 80 </span><br><span class="line">åˆ é™¤é”® 50 æˆåŠŸ</span><br><span class="line">30 40 60 70 80 </span><br><span class="line">åˆ é™¤é”® 100 å¤±è´¥ï¼ˆä¸å­˜åœ¨ï¼‰</span><br><span class="line">30 40 60 70 80 </span><br><span class="line"></span><br><span class="line">BSTé”€æ¯æˆåŠŸ</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="å…­ã€æ€»ç»“ä¸æ‰©å±•"><a href="#å…­ã€æ€»ç»“ä¸æ‰©å±•" class="headerlink" title="å…­ã€æ€»ç»“ä¸æ‰©å±•"></a>å…­ã€æ€»ç»“ä¸æ‰©å±•</h2><h3 id="6-1-BSTçš„ä¼˜åŠ¿ä¸å±€é™"><a href="#6-1-BSTçš„ä¼˜åŠ¿ä¸å±€é™" class="headerlink" title="6.1 BSTçš„ä¼˜åŠ¿ä¸å±€é™"></a>6.1 BSTçš„ä¼˜åŠ¿ä¸å±€é™</h3><ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šé«˜æ•ˆçš„åŠ¨æ€æ’åºï¼ˆæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾å¹³å‡O(logn)ï¼‰ã€æ”¯æŒèŒƒå›´æŸ¥è¯¢ã€‚</li>
<li><strong>å±€é™</strong>ï¼šæœ€åæƒ…å†µä¸‹æ ‘é«˜ä¸ºnï¼ˆé€€åŒ–ä¸ºé“¾è¡¨ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦é€€åŒ–ä¸ºO(n)ï¼ˆå¯é€šè¿‡å¹³è¡¡BSTå¦‚AVLæ ‘ã€çº¢é»‘æ ‘ä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<h3 id="6-2-æ‰©å±•æ–¹å‘"><a href="#6-2-æ‰©å±•æ–¹å‘" class="headerlink" title="6.2 æ‰©å±•æ–¹å‘"></a>6.2 æ‰©å±•æ–¹å‘</h3><ul>
<li><strong>æ³›å‹æ”¯æŒ</strong>ï¼šä½¿ç”¨<code>void*</code>å’Œæ¯”è¾ƒå‡½æ•°æŒ‡é’ˆï¼Œæ”¯æŒä»»æ„ç±»å‹çš„é”®å€¼ã€‚</li>
<li><strong>å¹³è¡¡BST</strong>ï¼šå®ç°AVLæ ‘æˆ–çº¢é»‘æ ‘ï¼Œç¡®ä¿æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚</li>
<li><strong>è¿­ä»£å®ç°</strong>ï¼šå°†é€’å½’æ“ä½œæ”¹ä¸ºè¿­ä»£ï¼ˆä½¿ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’ï¼‰ï¼Œé¿å…æ ˆæº¢å‡ºï¼ˆé€‚ç”¨äºå¤§æ·±åº¦æ ‘ï¼‰ã€‚</li>
</ul>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†è§£æï¼Œè¯»è€…å·²æŒæ¡BSTçš„æ ¸å¿ƒåŸç†ä¸å®ç°ç»†èŠ‚ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©é€’å½’æˆ–è¿­ä»£å®ç°ï¼Œå¹¶æ ¹æ®æ•°æ®è§„æ¨¡é€‰æ‹©æ™®é€šBSTæˆ–å¹³è¡¡BSTã€‚</p>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">å¤´æ–‡ä»¶.h</button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ifndef BST_H</span><br><span class="line">#define BST_H</span><br><span class="line"></span><br><span class="line">#include &lt;stdbool.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;errno.h&gt;</span><br><span class="line"></span><br><span class="line">typedef int KeyType;  // é”®ç±»å‹ä¸ºæ•´æ•°</span><br><span class="line"></span><br><span class="line">// äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹ç»“æ„ä½“</span><br><span class="line">typedef struct node &#123;</span><br><span class="line">    KeyType key;          // èŠ‚ç‚¹é”®å€¼ï¼ˆå”¯ä¸€ï¼‰</span><br><span class="line">    struct node *left;    // å·¦å­æ ‘æŒ‡é’ˆ</span><br><span class="line">    struct node *right;   // å³å­æ ‘æŒ‡é’ˆ</span><br><span class="line">&#125; TreeNode;</span><br><span class="line"></span><br><span class="line">// äºŒå‰æœç´¢æ ‘ç»“æ„ä½“ï¼ˆå°è£…æ ¹èŠ‚ç‚¹ï¼‰</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    TreeNode *root;       // æ ¹èŠ‚ç‚¹æŒ‡é’ˆ</span><br><span class="line">&#125; BST;</span><br><span class="line"></span><br><span class="line">// åŸºç¡€æ“ä½œå‡½æ•°å£°æ˜</span><br><span class="line">BST *bst_create();                  // åˆ›å»ºç©ºBST</span><br><span class="line">bool bst_insert(BST *tree, KeyType key);  // æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆé”®å”¯ä¸€ï¼‰</span><br><span class="line">TreeNode *bst_search(BST *tree, KeyType key);  // æœç´¢èŠ‚ç‚¹ï¼ˆè¿”å›èŠ‚ç‚¹æŒ‡é’ˆï¼‰</span><br><span class="line">bool bst_delete(BST *tree, KeyType key);  // åˆ é™¤èŠ‚ç‚¹ï¼ˆé”®å­˜åœ¨æ—¶æˆåŠŸï¼‰</span><br><span class="line">void bst_destroy(BST *tree);          // é”€æ¯BSTï¼ˆé‡Šæ”¾æ‰€æœ‰å†…å­˜ï¼‰</span><br><span class="line"></span><br><span class="line">void bst_preorder(BST *tree);</span><br><span class="line">void bst_inorder(BST *tree);</span><br><span class="line">void bst_postorder(BST *tree);</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;bst.h&quot;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">// æ‰“å°ä¸‰ç§éå†ç»“æœçš„è¾…åŠ©å‡½æ•°</span><br><span class="line">void print_traversals(BST *bst) &#123;</span><br><span class="line">    printf(&quot;å…ˆåºéå†ç»“æœ: &quot;);</span><br><span class="line">    bst_preorder(bst);</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    printf(&quot;ä¸­åºéå†ç»“æœ: &quot;);</span><br><span class="line">    bst_inorder(bst);</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">    printf(&quot;ååºéå†ç»“æœ: &quot;);</span><br><span class="line">    bst_postorder(bst);</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æµ‹è¯•å‡½æ•°</span><br><span class="line">void test_bst() &#123;</span><br><span class="line">    // åˆ›å»ºç©ºBST</span><br><span class="line">    BST *bst = bst_create();</span><br><span class="line">    if (!bst) &#123;</span><br><span class="line">        printf(&quot;åˆ›å»ºBSTå¤±è´¥\n&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æ’å…¥æ“ä½œ</span><br><span class="line">    int keys_to_insert[] = &#123; 50, 30, 20, 40, 70, 60, 80 &#125;;</span><br><span class="line">    int num_keys = sizeof(keys_to_insert) / sizeof(keys_to_insert[0]);</span><br><span class="line">    for (int i = 0; i &lt; num_keys; i++) &#123;</span><br><span class="line">        if (bst_insert(bst, keys_to_insert[i])) &#123;</span><br><span class="line">            printf(&quot;æˆåŠŸæ’å…¥é”®: %d\n&quot;, keys_to_insert[i]);</span><br><span class="line">            print_traversals(bst);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            printf(&quot;æ’å…¥é”® %d å¤±è´¥ï¼Œé”®å·²å­˜åœ¨\n&quot;, keys_to_insert[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•é‡å¤æ’å…¥</span><br><span class="line">    if (!bst_insert(bst, 50)) &#123;</span><br><span class="line">        printf(&quot;æˆåŠŸæ£€æµ‹åˆ°é‡å¤é”® 50ï¼Œæ’å…¥å¤±è´¥\n&quot;);</span><br><span class="line">        print_traversals(bst);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•æœç´¢æ“ä½œ</span><br><span class="line">    int keys_to_search[] = &#123; 40, 90 &#125;;</span><br><span class="line">    int num_search_keys = sizeof(keys_to_search) / sizeof(keys_to_search[0]);</span><br><span class="line">    for (int i = 0; i &lt; num_search_keys; i++) &#123;</span><br><span class="line">        TreeNode *result = bst_search(bst, keys_to_search[i]);</span><br><span class="line">        if (result) &#123;</span><br><span class="line">            printf(&quot;æ‰¾åˆ°é”®: %d\n&quot;, keys_to_search[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            printf(&quot;æœªæ‰¾åˆ°é”®: %d\n&quot;, keys_to_search[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æµ‹è¯•åˆ é™¤æ“ä½œ</span><br><span class="line">    int keys_to_delete[] = &#123; 20, 50, 100 &#125;;</span><br><span class="line">    int num_delete_keys = sizeof(keys_to_delete) / sizeof(keys_to_delete[0]);</span><br><span class="line">    for (int i = 0; i &lt; num_delete_keys; i++) &#123;</span><br><span class="line">        if (bst_delete(bst, keys_to_delete[i])) &#123;</span><br><span class="line">            printf(&quot;æˆåŠŸåˆ é™¤é”®: %d\n&quot;, keys_to_delete[i]);</span><br><span class="line">            print_traversals(bst);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            printf(&quot;åˆ é™¤é”® %d å¤±è´¥ï¼Œé”®ä¸å­˜åœ¨\n&quot;, keys_to_delete[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // é”€æ¯BST</span><br><span class="line">    bst_destroy(bst);</span><br><span class="line">    printf(&quot;BSTå·²æˆåŠŸé”€æ¯\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    test_bst();</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;bst.h&quot;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºç©ºBST</span><br><span class="line">BST *bst_create() &#123;</span><br><span class="line">    BST *bst = (BST *)malloc(sizeof(BST));</span><br><span class="line">    if (!bst) &#123;</span><br><span class="line">        perror(&quot;BSTå†…å­˜åˆ†é…å¤±è´¥&quot;);</span><br><span class="line">        exit(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    bst-&gt;root = NULL;  // åˆå§‹æ ¹èŠ‚ç‚¹ä¸ºç©º</span><br><span class="line">    return bst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’æ’å…¥èŠ‚ç‚¹ï¼ˆè¿”å›æ’å…¥åçš„å­æ ‘æ ¹ï¼‰</span><br><span class="line">static TreeNode *bst_insert_helper(TreeNode *node, KeyType key, bool *inserted) &#123;</span><br><span class="line">    if (!node) &#123;  // ç©ºä½ç½®æ’å…¥æ–°èŠ‚ç‚¹</span><br><span class="line">        TreeNode *new_node = (TreeNode *)malloc(sizeof(TreeNode));</span><br><span class="line">        if (!new_node) &#123;</span><br><span class="line">            perror(&quot;æ–°èŠ‚ç‚¹å†…å­˜åˆ†é…å¤±è´¥&quot;);</span><br><span class="line">            exit(EXIT_FAILURE);</span><br><span class="line">        &#125;</span><br><span class="line">        new_node-&gt;key = key;</span><br><span class="line">        new_node-&gt;left = new_node-&gt;right = NULL;</span><br><span class="line">        *inserted = true;  // æ ‡è®°æ’å…¥æˆåŠŸ</span><br><span class="line">        return new_node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (key == node-&gt;key) &#123;  // é”®å·²å­˜åœ¨ï¼Œæ’å…¥å¤±è´¥</span><br><span class="line">        *inserted = false;</span><br><span class="line">        return node;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &lt; node-&gt;key) &#123;  // æ’å…¥å·¦å­æ ‘</span><br><span class="line">        node-&gt;left = bst_insert_helper(node-&gt;left, key, inserted);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;  // æ’å…¥å³å­æ ‘</span><br><span class="line">        node-&gt;right = bst_insert_helper(node-&gt;right, key, inserted);</span><br><span class="line">    &#125;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆé”®å”¯ä¸€ï¼Œå­˜åœ¨åˆ™å¤±è´¥ï¼‰</span><br><span class="line">bool bst_insert(BST *tree, KeyType key) &#123;</span><br><span class="line">    if (!tree) return false;</span><br><span class="line">    bool inserted = false;</span><br><span class="line">    tree-&gt;root = bst_insert_helper(tree-&gt;root, key, &amp;inserted);</span><br><span class="line">    return inserted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’æœç´¢èŠ‚ç‚¹</span><br><span class="line">static TreeNode *bst_search_helper(TreeNode *node, KeyType key) &#123;</span><br><span class="line">    if (!node) return NULL;  // ç©ºæ ‘æˆ–æœªæ‰¾åˆ°</span><br><span class="line">    if (key == node-&gt;key) &#123;</span><br><span class="line">        return node;  // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &lt; node-&gt;key) &#123;</span><br><span class="line">        return bst_search_helper(node-&gt;left, key);  // æœç´¢å·¦å­æ ‘</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        return bst_search_helper(node-&gt;right, key);  // æœç´¢å³å­æ ‘</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æœç´¢èŠ‚ç‚¹ï¼ˆè¿”å›èŠ‚ç‚¹æŒ‡é’ˆï¼Œä¸å­˜åœ¨è¿”å›NULLï¼‰</span><br><span class="line">TreeNode *bst_search(BST *tree, KeyType key) &#123;</span><br><span class="line">    if (!tree) return NULL;</span><br><span class="line">    return bst_search_helper(tree-&gt;root, key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾…åŠ©å‡½æ•°ï¼šæ‰¾ä»¥nodeä¸ºæ ¹çš„æœ€å°èŠ‚ç‚¹ï¼ˆæœ€å·¦èŠ‚ç‚¹ï¼‰</span><br><span class="line">static TreeNode *bst_min(TreeNode *node) &#123;</span><br><span class="line">    while (node &amp;&amp; node-&gt;left) &#123;</span><br><span class="line">        node = node-&gt;left;</span><br><span class="line">    &#125;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’åˆ é™¤èŠ‚ç‚¹ï¼ˆè¿”å›åˆ é™¤åçš„å­æ ‘æ ¹ï¼‰</span><br><span class="line">static TreeNode *bst_delete_helper(TreeNode *node, KeyType key, bool *deleted) &#123;</span><br><span class="line">    if (!node) &#123;  // æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">        *deleted = false;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (key &lt; node-&gt;key) &#123;  // ç›®æ ‡åœ¨å·¦å­æ ‘</span><br><span class="line">        node-&gt;left = bst_delete_helper(node-&gt;left, key, deleted);</span><br><span class="line">    &#125;</span><br><span class="line">    else if (key &gt; node-&gt;key) &#123;  // ç›®æ ‡åœ¨å³å­æ ‘</span><br><span class="line">        node-&gt;right = bst_delete_helper(node-&gt;right, key, deleted);</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;  // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">        *deleted = true;</span><br><span class="line"></span><br><span class="line">        // æƒ…å†µ1ï¼šå¶å­èŠ‚ç‚¹æˆ–åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹</span><br><span class="line">        if (!node-&gt;left) &#123;  // åªæœ‰å³å­æ ‘æˆ–æ— å­æ ‘</span><br><span class="line">            TreeNode *temp = node-&gt;right;</span><br><span class="line">            free(node);  // é‡Šæ”¾å½“å‰èŠ‚ç‚¹</span><br><span class="line">            return temp;  // è¿”å›å³å­æ ‘ï¼ˆå¯èƒ½ä¸ºNULLï¼‰</span><br><span class="line">        &#125;</span><br><span class="line">        else if (!node-&gt;right) &#123;  // åªæœ‰å·¦å­æ ‘</span><br><span class="line">            TreeNode *temp = node-&gt;left;</span><br><span class="line">            free(node);  // é‡Šæ”¾å½“å‰èŠ‚ç‚¹</span><br><span class="line">            return temp;  // è¿”å›å·¦å­æ ‘ï¼ˆå¯èƒ½ä¸ºNULLï¼‰</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // æƒ…å†µ2ï¼šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼ˆæ‰¾å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹æ›¿æ¢ï¼‰</span><br><span class="line">        TreeNode *min_node = bst_min(node-&gt;right);  // æ‰¾å³å­æ ‘æœ€å°èŠ‚ç‚¹</span><br><span class="line">        node-&gt;key = min_node-&gt;key;  // æ›¿æ¢å½“å‰èŠ‚ç‚¹çš„é”®</span><br><span class="line">        // åˆ é™¤å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼ˆé€’å½’ï¼‰</span><br><span class="line">        node-&gt;right = bst_delete_helper(node-&gt;right, min_node-&gt;key, deleted);</span><br><span class="line">    &#125;</span><br><span class="line">    return node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ é™¤èŠ‚ç‚¹ï¼ˆé”®å­˜åœ¨æ—¶æˆåŠŸï¼‰</span><br><span class="line">bool bst_delete(BST *tree, KeyType key) &#123;</span><br><span class="line">    if (!tree) return false;</span><br><span class="line">    bool deleted = false;</span><br><span class="line">    tree-&gt;root = bst_delete_helper(tree-&gt;root, key, &amp;deleted);</span><br><span class="line">    return deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¾…åŠ©å‡½æ•°ï¼šé€’å½’é”€æ¯æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">static void bst_destroy_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    bst_destroy_helper(node-&gt;left);   // é”€æ¯å·¦å­æ ‘</span><br><span class="line">    bst_destroy_helper(node-&gt;right);  // é”€æ¯å³å­æ ‘</span><br><span class="line">    free(node);                       // é‡Šæ”¾å½“å‰èŠ‚ç‚¹</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é”€æ¯BSTï¼ˆé‡Šæ”¾æ‰€æœ‰å†…å­˜ï¼‰</span><br><span class="line">void bst_destroy(BST *tree) &#123;</span><br><span class="line">    if (!tree) return;</span><br><span class="line">    bst_destroy_helper(tree-&gt;root);  // é”€æ¯æ‰€æœ‰èŠ‚ç‚¹</span><br><span class="line">    free(tree);                      // é‡Šæ”¾BSTç»“æ„ä½“</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ·±åº¦ä¼˜å…ˆ-å…ˆåºéå†ï¼ˆæ ¹-å·¦-å³ï¼‰</span><br><span class="line">// å…ˆåºéå†è¾…åŠ©å‡½æ•°ï¼ˆé€’å½’æ ¸å¿ƒï¼‰</span><br><span class="line">static void bst_preorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;  // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå½“å‰èŠ‚ç‚¹ä¸ºç©º</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆæ ¹ï¼‰</span><br><span class="line">    bst_preorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    bst_preorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">&#125;</span><br><span class="line">void bst_preorder(BST *tree) &#123;</span><br><span class="line">    // æ£€æŸ¥æ ‘æˆ–æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œé¿å…ç©ºæŒ‡é’ˆè§£å¼•ç”¨</span><br><span class="line">    if (!tree || !tree-&gt;root) return;</span><br><span class="line">    // è°ƒç”¨è¾…åŠ©å‡½æ•°å¤„ç†é€’å½’</span><br><span class="line">    bst_preorder_helper(tree-&gt;root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸­åºéå†è¾…åŠ©å‡½æ•°ï¼ˆé€’å½’æ ¸å¿ƒï¼‰</span><br><span class="line">static void bst_inorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    bst_inorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆæ ¹ï¼‰</span><br><span class="line">    bst_inorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">&#125;</span><br><span class="line">// æ·±åº¦ä¼˜å…ˆ-ä¸­åºéå†ï¼ˆå·¦-æ ¹-å³ï¼‰</span><br><span class="line">void bst_inorder(BST *tree) &#123;</span><br><span class="line">    if (!tree || !tree-&gt;root) return;</span><br><span class="line">    bst_inorder_helper(tree-&gt;root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// ååºéå†è¾…åŠ©å‡½æ•°ï¼ˆé€’å½’æ ¸å¿ƒï¼‰</span><br><span class="line">static void bst_postorder_helper(TreeNode *node) &#123;</span><br><span class="line">    if (!node) return;</span><br><span class="line">    bst_postorder_helper(node-&gt;left);  // éå†å·¦å­æ ‘</span><br><span class="line">    bst_postorder_helper(node-&gt;right);  // éå†å³å­æ ‘</span><br><span class="line">    printf(&quot;%d &quot;, node-&gt;key);  // è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆæ ¹ï¼‰</span><br><span class="line">&#125;</span><br><span class="line">// æ·±åº¦ä¼˜å…ˆ-ååºéå†ï¼ˆå·¦-å³-æ ¹ï¼‰</span><br><span class="line">void bst_postorder(BST *tree) &#123;</span><br><span class="line">    if (!tree || !tree-&gt;root) return;</span><br><span class="line">    bst_postorder_helper(tree-&gt;root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>C-Code</category>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æœç´¢æ ‘</tag>
        <tag>éå†ç®—æ³•</tag>
        <tag>é€’å½’å®ç°</tag>
        <tag>åŠ¨æ€æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>å†å­¦ä¹ ã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹</title>
    <url>/posts/8527d974/</url>
    <content><![CDATA[<img src="/img/PageCode/20.png" alt="ã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹å­¦ä¹ ç¬”è®°" style="width: 80%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<p>ç¬”è€…æœ¬èº«æœ‰Cè¯­è¨€åŸºç¡€ï¼Œæ‰€ä»¥å¯¹äºæ—§ä¹¦çš„æ•´ç†è¾ƒä¸ºç®€å•ï¼Œå¦‚æœè¦å…¥é—¨è¿˜æ˜¯å¾—ç³»ç»Ÿå­¦ä¹ è¿™é—¨è¯¾æ‰“å¥½åŸºç¡€ï¼Œå¦å¤–å¤šæ‰“ä»£ç ï¼Œå¤šçœ‹å¤§ä½¬ä»¬å†™çš„å¼€æºé¡¹ç›®ã€‚</p>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">å¯¼è¨€</button><button type="button" class="tab">ç±»å‹ã€è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼</button><button type="button" class="tab">æ§åˆ¶æµ</button><button type="button" class="tab">å‡½æ•°ä¸ç¨‹åºç»“æ„</button><button type="button" class="tab">æŒ‡é’ˆä¸æ•°ç»„</button><button type="button" class="tab">ç»“æ„</button><button type="button" class="tab">è¾“å…¥ä¸è¾“å‡º</button><button type="button" class="tab">UNIXç³»ç»Ÿæ¥å£</button></div><div class="tab-contents"><div class="tab-item-content active"><h1 id="ä¸€ã€å¯¼è¨€"><a href="#ä¸€ã€å¯¼è¨€" class="headerlink" title="ä¸€ã€å¯¼è¨€"></a>ä¸€ã€å¯¼è¨€</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ Hello Worldç¨‹åº</span><br><span class="line">â”‚   â”œâ”€â”€ æ•°æ®ç±»å‹å¯¹æ¯”è¡¨</span><br><span class="line">â””â”€â”€ â””â”€â”€ è¿ç®—ç¬¦ä¼˜å…ˆçº§çŸ©é˜µ</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h1 id="äºŒã€ç±»å‹ã€è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼"><a href="#äºŒã€ç±»å‹ã€è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼" class="headerlink" title="äºŒã€ç±»å‹ã€è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼"></a>äºŒã€ç±»å‹ã€è¿ç®—ç¬¦ä¸è¡¨è¾¾å¼</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ æ•°æ®ç±»å‹</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ åŸºæœ¬ç±»å‹</span><br><span class="line">â”‚   â”‚   â””â”€â”€ æ´¾ç”Ÿç±»å‹</span><br><span class="line">â”‚   â”œâ”€â”€ è¿ç®—ç¬¦ä¼˜å…ˆçº§è¡¨</span><br><span class="line">â””â”€â”€ â””â”€â”€ è¡¨è¾¾å¼æ±‚å€¼è§„åˆ™</span><br></pre></td></tr></table></figure>
<h2 id="1-æ•°æ®ç±»å‹"><a href="#1-æ•°æ®ç±»å‹" class="headerlink" title="1. æ•°æ®ç±»å‹"></a>1. æ•°æ®ç±»å‹</h2><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å¤§å°ï¼ˆå­—èŠ‚ï¼‰</th>
<th>èŒƒå›´</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><code>char</code></td>
<td>1</td>
<td><code>-128</code> ~ <code>127</code></td>
<td>å­—ç¬¦&#x2F;å°æ•´æ•°</td>
</tr>
<tr>
<td><code>short</code></td>
<td>2</td>
<td><code>-32768</code> ~ <code>32767</code></td>
<td>çŸ­æ•´æ•°</td>
</tr>
<tr>
<td><code>int</code></td>
<td>4</td>
<td><code>-2^31</code> ~ <code>2^31-1</code></td>
<td>é€šç”¨æ•´æ•°</td>
</tr>
<tr>
<td><code>long</code></td>
<td>4&#x2F;8</td>
<td>å¹³å°ä¾èµ–</td>
<td>å¤§æ•´æ•°</td>
</tr>
<tr>
<td><code>float</code></td>
<td>4</td>
<td>çº¦ <code>Â±3.4e38</code></td>
<td>å•ç²¾åº¦æµ®ç‚¹æ•°</td>
</tr>
<tr>
<td><code>double</code></td>
<td>8</td>
<td>çº¦ <code>Â±1.8e308</code></td>
<td>åŒç²¾åº¦æµ®ç‚¹æ•°</td>
</tr>
</tbody></table>
<h2 id="2-è¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#2-è¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="2. è¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>2. è¿ç®—ç¬¦ä¼˜å…ˆçº§</h2><table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>è¿ç®—ç¬¦</th>
<th>ç»“åˆæ€§</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>()</code></td>
<td>å·¦â†’å³</td>
<td><code>(a + b) * c</code></td>
</tr>
<tr>
<td>2</td>
<td><code>* / %</code></td>
<td>å·¦â†’å³</td>
<td><code>10 / 3 * 2</code></td>
</tr>
<tr>
<td>3</td>
<td><code>+ -</code></td>
<td>å·¦â†’å³</td>
<td><code>a + b - c</code></td>
</tr>
<tr>
<td>4</td>
<td><code>&lt;&lt; &gt;&gt;</code></td>
<td>å·¦â†’å³</td>
<td><code>x &lt;&lt; 2</code>ï¼ˆå·¦ç§»2ä½ï¼‰</td>
</tr>
<tr>
<td>5</td>
<td><code>&lt; &lt;= &gt; &gt;=</code></td>
<td>å·¦â†’å³</td>
<td><code>a &lt; b</code></td>
</tr>
<tr>
<td>6</td>
<td><code>== !=</code></td>
<td>å·¦â†’å³</td>
<td><code>x == y</code></td>
</tr>
<tr>
<td>7</td>
<td><code>&amp;</code></td>
<td>å·¦â†’å³</td>
<td><code>x &amp; y</code>ï¼ˆæŒ‰ä½ä¸ï¼‰</td>
</tr>
<tr>
<td>8</td>
<td><code>^</code></td>
<td>å·¦â†’å³</td>
<td><code>x ^ y</code>ï¼ˆæŒ‰ä½å¼‚æˆ–ï¼‰</td>
</tr>
<tr>
<td>9</td>
<td>&#96;</td>
<td>&#96;</td>
<td>å·¦â†’å³</td>
</tr>
<tr>
<td>10</td>
<td><code>&amp;&amp;</code></td>
<td>å·¦â†’å³</td>
<td><code>a &amp;&amp; b</code>ï¼ˆé€»è¾‘ä¸ï¼‰</td>
</tr>
<tr>
<td>11</td>
<td>&#96;</td>
<td></td>
<td>&#96;</td>
</tr>
<tr>
<td>12</td>
<td><code>?:</code></td>
<td>å³â†’å·¦</td>
<td><code>a ? b : c</code>ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</td>
</tr>
<tr>
<td>15</td>
<td><code>=</code></td>
<td>å³â†’å·¦</td>
<td><code>a = b = c</code></td>
</tr>
</tbody></table>
<h2 id="3-è¡¨è¾¾å¼æ±‚å€¼"><a href="#3-è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="3. è¡¨è¾¾å¼æ±‚å€¼"></a>3. è¡¨è¾¾å¼æ±‚å€¼</h2><ul>
<li><strong>éšå¼ç±»å‹è½¬æ¢è§„åˆ™</strong>ï¼š<ol>
<li>æ•´å‹æå‡ï¼š<code>char</code>&#x2F;<code>short</code> â†’ <code>int</code></li>
<li>ç®—æœ¯è¿ç®—ä¸­ï¼Œè¾ƒä½ç±»å‹è½¬æ¢ä¸ºè¾ƒé«˜ç±»å‹ï¼ˆå¦‚ <code>int + double â†’ double</code>ï¼‰</li>
</ol>
</li>
<li><strong>å¸¸è§é™·é˜±</strong>ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">printf(&quot;%d\n&quot;, 5 / 2);     // è¾“å‡º2ï¼ˆæ•´æ•°é™¤æ³•ï¼‰</span><br><span class="line">printf(&quot;%f\n&quot;, 5 / 2.0);   // è¾“å‡º2.5ï¼ˆæµ®ç‚¹é™¤æ³•ï¼‰</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h1 id="ä¸‰ã€æ§åˆ¶æµ"><a href="#ä¸‰ã€æ§åˆ¶æµ" class="headerlink" title="ä¸‰ã€æ§åˆ¶æµ"></a>ä¸‰ã€æ§åˆ¶æµ</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ æ¡ä»¶è¯­å¥å¯¹æ¯”è¡¨</span><br><span class="line">â”‚   â”œâ”€â”€ å¾ªç¯ç»“æ„å†³ç­–æ ‘</span><br><span class="line">â”‚   â””â”€â”€ è·³è½¬è¯­å¥é€‚ç”¨åœºæ™¯</span><br><span class="line">â”œâ”€â”€ é‡ç‚¹ä¸éš¾ç‚¹</span><br><span class="line">    â”œâ”€â”€ å¾ªç¯å˜é‡ä½œç”¨åŸŸ</span><br><span class="line">    â””â”€â”€ æ¡ä»¶è¿ç®—ç¬¦ä¼˜å…ˆçº§</span><br></pre></td></tr></table></figure>
<h2 id="1-æ¡ä»¶è¯­å¥"><a href="#1-æ¡ä»¶è¯­å¥" class="headerlink" title="1. æ¡ä»¶è¯­å¥"></a>1. <strong>æ¡ä»¶è¯­å¥</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åŸºç¡€if-elseç»“æ„</span><br><span class="line">if (condition) &#123;</span><br><span class="line">    // ä»£ç å—1</span><br><span class="line">&#125; else if (condition2) &#123;</span><br><span class="line">    // ä»£ç å—2</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    // é»˜è®¤ä»£ç å—</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// switch-caseç»“æ„</span><br><span class="line">switch (expression) &#123;</span><br><span class="line">    case value1:</span><br><span class="line">        // ä»£ç å—1</span><br><span class="line">        break;</span><br><span class="line">    case value2:</span><br><span class="line">        // ä»£ç å—2</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        // é»˜è®¤ä»£ç å—</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å…³é”®ç‚¹ï¼š<ul>
<li><code>switch</code>ä»…æ”¯æŒæ•´å‹&#x2F;å­—ç¬¦å‹è¡¨è¾¾å¼</li>
<li><code>case</code>ç©¿é€é—®é¢˜ï¼šéœ€æ˜¾å¼ä½¿ç”¨<code>break</code></li>
<li><code>default</code>å¯çœç•¥ä½†å»ºè®®ä¿ç•™</li>
</ul>
</li>
</ul>
<h2 id="2-å¾ªç¯ç»“æ„"><a href="#2-å¾ªç¯ç»“æ„" class="headerlink" title="2. å¾ªç¯ç»“æ„"></a>2. <strong>å¾ªç¯ç»“æ„</strong></h2><h3 id="ä¸‰å¤§å¾ªç¯å¯¹æ¯”"><a href="#ä¸‰å¤§å¾ªç¯å¯¹æ¯”" class="headerlink" title="ä¸‰å¤§å¾ªç¯å¯¹æ¯”"></a><strong>ä¸‰å¤§å¾ªç¯å¯¹æ¯”</strong></h3><table>
<thead>
<tr>
<th align="center">å¾ªç¯ç±»å‹</th>
<th align="center">é€‚ç”¨åœºæ™¯</th>
<th align="center">åˆå§‹åŒ–ä½ç½®</th>
<th align="center">ç»ˆæ­¢æ¡ä»¶æ£€æŸ¥</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>while</code></td>
<td align="center">æœªçŸ¥å¾ªç¯æ¬¡æ•°</td>
<td align="center">å¾ªç¯ä½“å‰</td>
<td align="center">æ¯è½®å¼€å§‹</td>
</tr>
<tr>
<td align="center"><code>for</code></td>
<td align="center">å·²çŸ¥å¾ªç¯æ¬¡æ•°</td>
<td align="center">å¾ªç¯å¤´å†…</td>
<td align="center">æ¯è½®å¼€å§‹</td>
</tr>
<tr>
<td align="center"><code>do-while</code></td>
<td align="center">è‡³å°‘æ‰§è¡Œä¸€æ¬¡</td>
<td align="center">å¾ªç¯ä½“å</td>
<td align="center">æ¯è½®ç»“æŸ</td>
</tr>
</tbody></table>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a><strong>ä»£ç ç¤ºä¾‹</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ‰“å°1~100çš„å¶æ•°ï¼ˆä¸‰ç§å†™æ³•ï¼‰</span><br><span class="line">// whileç‰ˆ</span><br><span class="line">int i = 1;</span><br><span class="line">while (i &lt;= 100) &#123;</span><br><span class="line">    if (i % 2 == 0) printf(&quot;%d\n&quot;, i);</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// forç‰ˆ</span><br><span class="line">for (int i = 2; i &lt;= 100; i += 2) &#123;</span><br><span class="line">    printf(&quot;%d\n&quot;, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// do-whileç‰ˆ</span><br><span class="line">int j = 1;</span><br><span class="line">do &#123;</span><br><span class="line">    if (j % 2 == 0) printf(&quot;%d\n&quot;, j);</span><br><span class="line">    j++;</span><br><span class="line">&#125; while (j &lt;= 100);</span><br></pre></td></tr></table></figure>
<h2 id="3-è·³è½¬è¯­å¥"><a href="#3-è·³è½¬è¯­å¥" class="headerlink" title="3. è·³è½¬è¯­å¥"></a>3. <strong>è·³è½¬è¯­å¥</strong></h2><table>
<thead>
<tr>
<th align="center">è¯­å¥</th>
<th align="center">ç”¨é€”</th>
<th align="center">æ³¨æ„äº‹é¡¹</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>break</code></td>
<td align="center">ç»ˆæ­¢å½“å‰å¾ªç¯&#x2F;switch</td>
<td align="center">ä»…è·³å‡ºä¸€å±‚å¾ªç¯</td>
</tr>
<tr>
<td align="center"><code>continue</code></td>
<td align="center">è·³è¿‡å½“å‰è¿­ä»£</td>
<td align="center">éœ€é…åˆæ¡ä»¶åˆ¤æ–­ä½¿ç”¨</td>
</tr>
<tr>
<td align="center"><code>goto</code></td>
<td align="center">è·¨è¶Šä»£ç å—ï¼ˆæ…ç”¨ï¼‰</td>
<td align="center">ä»…ç”¨äºè·³å‡ºæ·±å±‚å¾ªç¯æˆ–é”™è¯¯å¤„ç†</td>
</tr>
</tbody></table></div><div class="tab-item-content"><h1 id="å››ã€å‡½æ•°ä¸ç¨‹åºç»“æ„"><a href="#å››ã€å‡½æ•°ä¸ç¨‹åºç»“æ„" class="headerlink" title="å››ã€å‡½æ•°ä¸ç¨‹åºç»“æ„"></a>å››ã€å‡½æ•°ä¸ç¨‹åºç»“æ„</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ å‡½æ•°å®šä¹‰è¯­æ³•</span><br><span class="line">â”‚   â”œâ”€â”€ å‚æ•°ä¼ é€’å¯¹æ¯”</span><br><span class="line">â”‚   â”œâ”€â”€ ä½œç”¨åŸŸå±‚æ¬¡å›¾</span><br><span class="line">â”‚   â””â”€â”€ é€’å½’å†³ç­–æ ‘</span><br><span class="line">â”œâ”€â”€ é«˜çº§ä¸»é¢˜</span><br><span class="line">â”‚   â”œâ”€â”€ å¤´æ–‡ä»¶ä¾èµ–ç®¡ç†</span><br><span class="line">â”‚   â””â”€â”€ é¢„å¤„ç†å™¨å®æŠ€å·§</span><br><span class="line">â””â”€â”€ å®æˆ˜æŠ€å·§</span><br><span class="line">    â”œâ”€â”€ é™æ€å˜é‡è°ƒè¯•</span><br><span class="line">    â””â”€â”€ å‡½æ•°æŒ‡é’ˆåº”ç”¨</span><br></pre></td></tr></table></figure>
<h2 id="1-å‡½æ•°å®šä¹‰"><a href="#1-å‡½æ•°å®šä¹‰" class="headerlink" title="1. å‡½æ•°å®šä¹‰"></a>1. <strong>å‡½æ•°å®šä¹‰</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åŸºç¡€è¯­æ³•</span><br><span class="line">return_type function_name(parameter_list) &#123;</span><br><span class="line">    // å‡½æ•°ä½“</span><br><span class="line">    return value;  // å¯é€‰ï¼ˆvoidç±»å‹æ— éœ€è¿”å›ï¼‰</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç¤ºä¾‹ï¼šè®¡ç®—ä¸¤æ•°ä¹‹å’Œ</span><br><span class="line">int add(int a, int b) &#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-å‚æ•°ä¼ é€’"><a href="#2-å‚æ•°ä¼ é€’" class="headerlink" title="2. å‚æ•°ä¼ é€’"></a>2. <strong>å‚æ•°ä¼ é€’</strong></h2><table>
<thead>
<tr>
<th align="center">ä¼ é€’æ–¹å¼</th>
<th align="center">ç‰¹æ€§</th>
<th align="center">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>ä¼ å€¼è°ƒç”¨</strong></td>
<td align="center">å½¢å‚æ˜¯å®å‚çš„å‰¯æœ¬ï¼Œä¿®æ”¹ä¸å½±å“åŸå€¼</td>
<td align="center"><code>void swap(int a, int b) {...}</code></td>
</tr>
<tr>
<td align="center"><strong>ä¼ å€è°ƒç”¨</strong></td>
<td align="center">å½¢å‚ä¸ºæŒ‡é’ˆï¼Œå¯ç›´æ¥ä¿®æ”¹å®å‚å€¼</td>
<td align="center"><code>void swap_ptr(int *a, int *b) {...}</code></td>
</tr>
</tbody></table>
<h2 id="3-ä½œç”¨åŸŸè§„åˆ™"><a href="#3-ä½œç”¨åŸŸè§„åˆ™" class="headerlink" title="3. ä½œç”¨åŸŸè§„åˆ™"></a>3. <strong>ä½œç”¨åŸŸè§„åˆ™</strong></h2><table>
<thead>
<tr>
<th align="center">ä½œç”¨åŸŸç±»å‹</th>
<th align="center">ç”Ÿæ•ˆèŒƒå›´</th>
<th align="center">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>å±€éƒ¨å˜é‡</strong></td>
<td align="center">å‡½æ•°å†…éƒ¨æˆ–ä»£ç å— <code>{}</code> å†…</td>
<td align="center"><code>int local_var;</code></td>
</tr>
<tr>
<td align="center"><strong>å…¨å±€å˜é‡</strong></td>
<td align="center">æ–‡ä»¶ä½œç”¨åŸŸï¼ˆä»å£°æ˜åˆ°æ–‡ä»¶ç»“æŸï¼‰</td>
<td align="center"><code>int global_var;</code></td>
</tr>
<tr>
<td align="center"><strong>é™æ€å˜é‡</strong></td>
<td align="center">ä¿æŒå€¼è·¨å‡½æ•°è°ƒç”¨</td>
<td align="center"><code>static int count = 0;</code></td>
</tr>
<tr>
<td align="center"><strong>å¤–éƒ¨å˜é‡</strong></td>
<td align="center">è·¨æ–‡ä»¶è®¿é—®ï¼ˆéœ€ <code>extern</code> å£°æ˜ï¼‰</td>
<td align="center"><code>extern int ext_var;</code></td>
</tr>
</tbody></table>
<h2 id="4-é€’å½’"><a href="#4-é€’å½’" class="headerlink" title="4. é€’å½’"></a>4. <strong>é€’å½’</strong></h2><ul>
<li><strong>æ ¸å¿ƒè¦ç´ </strong>ï¼š</li>
<li><strong>åŸºçº¿æ¡ä»¶</strong>ï¼ˆBase Caseï¼‰ï¼šç»ˆæ­¢é€’å½’çš„æ¡ä»¶</li>
<li><strong>é€’å½’æ­¥éª¤</strong>ï¼šé—®é¢˜åˆ†è§£ä¸ºæ›´å°å­é—®é¢˜  </li>
<li><strong>ç¤ºä¾‹</strong>ï¼šè®¡ç®—é˜¶ä¹˜</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int factorial(int n) &#123;</span><br><span class="line">      if (n == 0) return 1;  // åŸºçº¿æ¡ä»¶</span><br><span class="line">    return n * factorial(n - 1);  // é€’å½’è°ƒç”¨</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-å¤´æ–‡ä»¶ä¸é¢„å¤„ç†å™¨"><a href="#5-å¤´æ–‡ä»¶ä¸é¢„å¤„ç†å™¨" class="headerlink" title="5. å¤´æ–‡ä»¶ä¸é¢„å¤„ç†å™¨"></a>5. <strong>å¤´æ–‡ä»¶ä¸é¢„å¤„ç†å™¨</strong></h2><h3 id="å¤´æ–‡ä»¶ï¼ˆ-hï¼‰"><a href="#å¤´æ–‡ä»¶ï¼ˆ-hï¼‰" class="headerlink" title="å¤´æ–‡ä»¶ï¼ˆ.hï¼‰"></a><strong>å¤´æ–‡ä»¶ï¼ˆ<code>.h</code>ï¼‰</strong></h3><ul>
<li><strong>ç”¨é€”</strong>ï¼šå£°æ˜å‡½æ•°åŸå‹ã€å®å®šä¹‰ã€å…¨å±€å˜é‡</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// math_utils.h</span><br><span class="line">#ifndef MATH_UTILS_H</span><br><span class="line">#define MATH_UTILS_H</span><br><span class="line">int add(int a, int b);</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<h3 id="é¢„å¤„ç†å™¨æŒ‡ä»¤"><a href="#é¢„å¤„ç†å™¨æŒ‡ä»¤" class="headerlink" title="é¢„å¤„ç†å™¨æŒ‡ä»¤"></a><strong>é¢„å¤„ç†å™¨æŒ‡ä»¤</strong></h3><table>
<thead>
<tr>
<th align="center">æŒ‡ä»¤</th>
<th align="center">ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>#include</code></td>
<td align="center">åŒ…å«å¤´æ–‡ä»¶</td>
</tr>
<tr>
<td align="center"><code>#define</code></td>
<td align="center">å®å®šä¹‰ï¼ˆå¸¸é‡æˆ–å‡½æ•°å¼å®ï¼‰</td>
</tr>
<tr>
<td align="center"><code>#ifdef</code></td>
<td align="center">æ¡ä»¶ç¼–è¯‘ï¼ˆå¹³å°é€‚é…ï¼‰</td>
</tr>
</tbody></table>
<h2 id="6-é™æ€ä¸åŠ¨æ€ç»‘å®š"><a href="#6-é™æ€ä¸åŠ¨æ€ç»‘å®š" class="headerlink" title="6. é™æ€ä¸åŠ¨æ€ç»‘å®š"></a>6. <strong>é™æ€ä¸åŠ¨æ€ç»‘å®š</strong></h2><table>
<thead>
<tr>
<th align="center">ç‰¹æ€§</th>
<th align="center">é™æ€ç»‘å®šï¼ˆç¼–è¯‘æ—¶ï¼‰</th>
<th align="center">åŠ¨æ€ç»‘å®šï¼ˆè¿è¡Œæ—¶ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>å‡½æ•°è°ƒç”¨</strong></td>
<td align="center">å‡½æ•°åœ°å€åœ¨ç¼–è¯‘æ—¶ç¡®å®š</td>
<td align="center">é€šè¿‡è™šå‡½æ•°è¡¨ï¼ˆC++ï¼‰å®ç°</td>
</tr>
<tr>
<td align="center"><strong>å˜é‡è®¿é—®</strong></td>
<td align="center">ç›´æ¥è®¿é—®å†…å­˜åœ°å€</td>
<td align="center">é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨é—´æ¥è®¿é—®</td>
</tr>
</tbody></table></div><div class="tab-item-content"><h1 id="äº”ã€æŒ‡é’ˆä¸æ•°ç»„"><a href="#äº”ã€æŒ‡é’ˆä¸æ•°ç»„" class="headerlink" title="äº”ã€æŒ‡é’ˆä¸æ•°ç»„"></a>äº”ã€æŒ‡é’ˆä¸æ•°ç»„</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ æŒ‡é’ˆè¿ç®—è§„åˆ™</span><br><span class="line">â”‚   â”œâ”€â”€ æ•°ç»„å†…å­˜æ¨¡å‹</span><br><span class="line">â”‚   â””â”€â”€ åŠ¨æ€å†…å­˜ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">â”œâ”€â”€ é‡ç‚¹ä¸éš¾ç‚¹</span><br><span class="line">â”‚   â”œâ”€â”€ é‡æŒ‡é’ˆé¢„é˜²</span><br><span class="line">â”‚   â””â”€â”€ å¤šçº§æŒ‡é’ˆè§£æ</span><br><span class="line">â””â”€â”€ ä»£ç å®æˆ˜</span><br><span class="line">    â”œâ”€â”€ å­—ç¬¦ä¸²æ“ä½œ</span><br><span class="line">    â””â”€â”€ æ•°æ®ç»“æ„å®ç°</span><br></pre></td></tr></table></figure>
<h2 id="1-æŒ‡é’ˆåŸºç¡€"><a href="#1-æŒ‡é’ˆåŸºç¡€" class="headerlink" title="1. æŒ‡é’ˆåŸºç¡€"></a>1. <strong>æŒ‡é’ˆåŸºç¡€</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åŸºç¡€è¯­æ³•</span><br><span class="line">int *p;       // æŒ‡å‘intçš„æŒ‡é’ˆ</span><br><span class="line">int arr[5];   // 5ä¸ªintçš„æ•°ç»„</span><br><span class="line">p = arr;      // æ•°ç»„åå³é¦–å…ƒç´ åœ°å€</span><br></pre></td></tr></table></figure>
<h2 id="2-æŒ‡é’ˆè¿ç®—"><a href="#2-æŒ‡é’ˆè¿ç®—" class="headerlink" title="2. æŒ‡é’ˆè¿ç®—"></a>2. <strong>æŒ‡é’ˆè¿ç®—</strong></h2><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æ•ˆæœ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>p++</code></td>
<td>æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼ˆæ­¥é•¿ä¸ºå…ƒç´ å¤§å°ï¼‰</td>
<td><code>int *p = arr; p++;</code></td>
</tr>
<tr>
<td><code>p + i</code></td>
<td>æŒ‡å‘ç¬¬<code>i</code>ä¸ªå…ƒç´ </td>
<td><code>int *p = arr + 2;</code></td>
</tr>
<tr>
<td><code>*p</code></td>
<td>è§£å¼•ç”¨ï¼ˆè·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼‰</td>
<td><code>printf(&quot;%d&quot;, *p);</code></td>
</tr>
</tbody></table>
<h2 id="3-æ•°ç»„ä¸æŒ‡é’ˆçš„å…³ç³»"><a href="#3-æ•°ç»„ä¸æŒ‡é’ˆçš„å…³ç³»" class="headerlink" title="3. æ•°ç»„ä¸æŒ‡é’ˆçš„å…³ç³»"></a>3. <strong>æ•°ç»„ä¸æŒ‡é’ˆçš„å…³ç³»</strong></h2><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>æ•°ç»„</th>
<th>æŒ‡é’ˆ</th>
</tr>
</thead>
<tbody><tr>
<td>å†…å­˜åˆ†é…</td>
<td>ç¼–è¯‘æ—¶é™æ€åˆ†é…</td>
<td>è¿è¡Œæ—¶åŠ¨æ€åˆ†é…</td>
</tr>
<tr>
<td><code>sizeof</code>è¿ç®—ç¬¦</td>
<td>è¿”å›æ•´ä¸ªæ•°ç»„å¤§å°</td>
<td>è¿”å›æŒ‡é’ˆå¤§å°ï¼ˆ4&#x2F;8å­—èŠ‚ï¼‰</td>
</tr>
<tr>
<td><code>&amp;arr</code></td>
<td>æ•°ç»„é¦–åœ°å€</td>
<td>æŒ‡é’ˆå˜é‡åœ°å€</td>
</tr>
</tbody></table>
<h2 id="4-åŠ¨æ€å†…å­˜ç®¡ç†"><a href="#4-åŠ¨æ€å†…å­˜ç®¡ç†" class="headerlink" title="4. åŠ¨æ€å†…å­˜ç®¡ç†"></a>4. <strong>åŠ¨æ€å†…å­˜ç®¡ç†</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åŠ¨æ€æ•°ç»„</span><br><span class="line">int *dyn_arr = malloc(5 * sizeof(int));  // åˆ†é…5ä¸ªintç©ºé—´</span><br><span class="line">dyn_arr[0] = 1;</span><br><span class="line">dyn_arr = realloc(dyn_arr, 10 * sizeof(int));  // æ‰©å®¹</span><br><span class="line">free(dyn_arr);  // é‡Šæ”¾å†…å­˜</span><br><span class="line"></span><br><span class="line">// å¸¸è§é™·é˜±</span><br><span class="line">int *invalid = malloc(sizeof(int) * 0);  // åˆ†é…0å­—èŠ‚ï¼ˆæœªå®šä¹‰è¡Œä¸ºï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="5-å‡½æ•°æŒ‡é’ˆ"><a href="#5-å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="5. å‡½æ•°æŒ‡é’ˆ"></a>5. <strong>å‡½æ•°æŒ‡é’ˆ</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å‡½æ•°æŒ‡é’ˆå®šä¹‰</span><br><span class="line">int (*func_ptr)(int, int);  // æŒ‡å‘è¿”å›intã€æ¥å—ä¸¤ä¸ªintå‚æ•°çš„å‡½æ•°</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨ç¤ºä¾‹</span><br><span class="line">int add(int a, int b) &#123; return a + b; &#125;</span><br><span class="line">func_ptr = add;</span><br><span class="line">printf(&quot;%d\n&quot;, func_ptr(3, 5));  // è¾“å‡º8</span><br></pre></td></tr></table></figure>
<h2 id="6-å¤šç»´æ•°ç»„ä¸æŒ‡é’ˆ"><a href="#6-å¤šç»´æ•°ç»„ä¸æŒ‡é’ˆ" class="headerlink" title="6. å¤šç»´æ•°ç»„ä¸æŒ‡é’ˆ"></a>6. <strong>å¤šç»´æ•°ç»„ä¸æŒ‡é’ˆ</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// äºŒç»´æ•°ç»„ä¸æŒ‡é’ˆ</span><br><span class="line">int matrix[3][3] = &#123;&#123;1,2,3&#125;, &#123;4,5,6&#125;, &#123;7,8,9&#125;&#125;;</span><br><span class="line">int (*row_ptr)[3] = matrix;  // æŒ‡å‘ç¬¬ä¸€è¡Œçš„æŒ‡é’ˆ</span><br><span class="line">printf(&quot;%d\n&quot;, *(*row_ptr + 1));  // è¾“å‡º2ï¼ˆç­‰ä»·äº matrix[0][1]ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="7-å¤æ‚å£°æ˜è§£æ"><a href="#7-å¤æ‚å£°æ˜è§£æ" class="headerlink" title="7. å¤æ‚å£°æ˜è§£æ"></a>7. <strong>å¤æ‚å£°æ˜è§£æ</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç¤ºä¾‹è§£æ</span><br><span class="line">int *(*(*func)(int))[5];  // funcæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°ä¸ºintï¼Œè¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªåŒ…å«5ä¸ªintæŒ‡é’ˆçš„æ•°ç»„</span><br><span class="line"></span><br><span class="line">// åˆ†è§£æ­¥éª¤ï¼š</span><br><span class="line">// 1. func æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°ä¸ºint</span><br><span class="line">// 2. è¿”å›å€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆ*funcï¼‰</span><br><span class="line">// 3. è¯¥æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼ˆ[5]ï¼‰</span><br><span class="line">// 4. æ•°ç»„å…ƒç´ æ˜¯intæŒ‡é’ˆï¼ˆ*(*func)(int))[5]</span><br></pre></td></tr></table></figure>
<h2 id="8-é‡ç‚¹ä¸éš¾ç‚¹"><a href="#8-é‡ç‚¹ä¸éš¾ç‚¹" class="headerlink" title="8. é‡ç‚¹ä¸éš¾ç‚¹"></a>8. <strong>é‡ç‚¹ä¸éš¾ç‚¹</strong></h2><h3 id="1-æŒ‡é’ˆä¸æ•°ç»„çš„æœ¬è´¨åŒºåˆ«"><a href="#1-æŒ‡é’ˆä¸æ•°ç»„çš„æœ¬è´¨åŒºåˆ«" class="headerlink" title="1. æŒ‡é’ˆä¸æ•°ç»„çš„æœ¬è´¨åŒºåˆ«"></a>1. <strong>æŒ‡é’ˆä¸æ•°ç»„çš„æœ¬è´¨åŒºåˆ«</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int arr[5] = &#123;1,2,3,4,5&#125;;</span><br><span class="line">int *p = arr;</span><br><span class="line"></span><br><span class="line">printf(&quot;%zu\n&quot;, sizeof(arr));   // è¾“å‡º20ï¼ˆæ•°ç»„æ€»å¤§å°ï¼‰</span><br><span class="line">printf(&quot;%zu\n&quot;, sizeof(p));     // è¾“å‡º8ï¼ˆæŒ‡é’ˆå¤§å°ï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="2-é‡æŒ‡é’ˆä¸å†…å­˜æ³„æ¼"><a href="#2-é‡æŒ‡é’ˆä¸å†…å­˜æ³„æ¼" class="headerlink" title="2. é‡æŒ‡é’ˆä¸å†…å­˜æ³„æ¼"></a>2. <strong>é‡æŒ‡é’ˆä¸å†…å­˜æ³„æ¼</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int *invalid_ptr;</span><br><span class="line">*invalid_ptr = 5;  // æœªåˆå§‹åŒ–çš„é‡æŒ‡é’ˆï¼ˆå´©æºƒé£é™©ï¼‰</span><br><span class="line"></span><br><span class="line">int *leak_ptr = malloc(sizeof(int));</span><br><span class="line">// å¿˜è®°free(leak_ptr)å¯¼è‡´å†…å­˜æ³„æ¼</span><br></pre></td></tr></table></figure>

<h3 id="3-å¤šçº§æŒ‡é’ˆæ“ä½œ"><a href="#3-å¤šçº§æŒ‡é’ˆæ“ä½œ" class="headerlink" title="3. å¤šçº§æŒ‡é’ˆæ“ä½œ"></a>3. <strong>å¤šçº§æŒ‡é’ˆæ“ä½œ</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int a = 10;</span><br><span class="line">int *pa = &amp;a;</span><br><span class="line">int **ppa = &amp;pa;</span><br><span class="line">printf(&quot;%d\n&quot;, **ppa);  // è¾“å‡º10</span><br></pre></td></tr></table></figure>
<h2 id="9-ä»£ç å®æˆ˜"><a href="#9-ä»£ç å®æˆ˜" class="headerlink" title="9.ä»£ç å®æˆ˜"></a>9.ä»£ç å®æˆ˜</h2><h3 id="1-å­—ç¬¦ä¸²åè½¬ï¼ˆæŒ‡é’ˆç‰ˆï¼‰"><a href="#1-å­—ç¬¦ä¸²åè½¬ï¼ˆæŒ‡é’ˆç‰ˆï¼‰" class="headerlink" title="1. å­—ç¬¦ä¸²åè½¬ï¼ˆæŒ‡é’ˆç‰ˆï¼‰"></a>1. <strong>å­—ç¬¦ä¸²åè½¬ï¼ˆæŒ‡é’ˆç‰ˆï¼‰</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void reverse(char *str) &#123;</span><br><span class="line">    char *end = str;</span><br><span class="line">    while (*end) end++;  // ç§»åŠ¨åˆ°æœ«å°¾</span><br><span class="line">    end--;               // å›é€€åˆ°æœ€åä¸€ä¸ªå­—ç¬¦</span><br><span class="line">    </span><br><span class="line">    while (str &lt; end) &#123;</span><br><span class="line">        char tmp = *str;</span><br><span class="line">        *str++ = *end;</span><br><span class="line">        *end-- = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    char s[] = &quot;hello&quot;;</span><br><span class="line">    reverse(s);</span><br><span class="line">    printf(&quot;%s\n&quot;, s);  // è¾“å‡ºolleh</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-å‘½ä»¤è¡Œå‚æ•°è§£æ"><a href="#2-å‘½ä»¤è¡Œå‚æ•°è§£æ" class="headerlink" title="2. å‘½ä»¤è¡Œå‚æ•°è§£æ"></a>2. <strong>å‘½ä»¤è¡Œå‚æ•°è§£æ</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[]) &#123;</span><br><span class="line">    printf(&quot;ç¨‹åºåï¼š%s\n&quot;, argv[0]);</span><br><span class="line">    for (int i = 1; i &lt; argc; i++) &#123;</span><br><span class="line">        printf(&quot;å‚æ•°%dï¼š%s\n&quot;, i, argv[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h1 id="å…­ã€ç»“æ„"><a href="#å…­ã€ç»“æ„" class="headerlink" title="å…­ã€ç»“æ„"></a>å…­ã€ç»“æ„</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ ç»“æ„ä½“å†…å­˜å¸ƒå±€</span><br><span class="line">â”‚   â”œâ”€â”€ è”åˆä½“é‡å å†…å­˜</span><br><span class="line">â”‚   â””â”€â”€ ä½å­—æ®µæ¯”ç‰¹æ“ä½œ</span><br><span class="line">â”œâ”€â”€ é«˜çº§ä¸»é¢˜</span><br><span class="line">â”‚   â”œâ”€â”€ ç»“æ„ä½“ç»§æ‰¿ï¼ˆC11 _Genericï¼‰</span><br><span class="line">â”‚   â””â”€â”€ ä½æ“ä½œå®å®šä¹‰</span><br><span class="line">â””â”€â”€ å®æˆ˜æŠ€å·§</span><br><span class="line">    â”œâ”€â”€ ç»“æ„ä½“åºåˆ—åŒ–</span><br><span class="line">    â””â”€â”€ å†…å­˜æ± åˆ†é…</span><br></pre></td></tr></table></figure>
<h2 id="1-ç»“æ„ä½“ï¼ˆStructï¼‰"><a href="#1-ç»“æ„ä½“ï¼ˆStructï¼‰" class="headerlink" title="1. ç»“æ„ä½“ï¼ˆStructï¼‰"></a>1. <strong>ç»“æ„ä½“ï¼ˆStructï¼‰</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// åŸºç¡€è¯­æ³•</span><br><span class="line">struct Point &#123;</span><br><span class="line">    int x;</span><br><span class="line">    int y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–</span><br><span class="line">struct Point p1 = &#123;3, 4&#125;;       // ç›´æ¥åˆå§‹åŒ–</span><br><span class="line">struct Point p2 = &#123;.y = 5, .x = 6&#125;; // æŒ‡å®šæˆå‘˜åˆå§‹åŒ–</span><br></pre></td></tr></table></figure>
<h2 id="2-ç»“æ„ä½“é«˜çº§ç‰¹æ€§"><a href="#2-ç»“æ„ä½“é«˜çº§ç‰¹æ€§" class="headerlink" title="2. ç»“æ„ä½“é«˜çº§ç‰¹æ€§"></a>2. <strong>ç»“æ„ä½“é«˜çº§ç‰¹æ€§</strong></h2><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>æè¿°</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åµŒå¥—ç»“æ„ä½“</strong></td>
<td>ç»“æ„ä½“æˆå‘˜åŒ…å«å…¶ä»–ç»“æ„ä½“</td>
<td><code>struct Rect { struct Point tl; struct Point br; };</code></td>
</tr>
<tr>
<td><strong>ç»“æ„ä½“æŒ‡é’ˆ</strong></td>
<td>é€šè¿‡æŒ‡é’ˆè®¿é—®æˆå‘˜</td>
<td><code>struct Point *ptr = &amp;p; ptr-&gt;x = 10;</code></td>
</tr>
<tr>
<td><strong>åŒ¿åç»“æ„ä½“</strong></td>
<td>æ— æ ‡ç­¾çš„ç»“æ„ä½“ï¼ˆC11æ”¯æŒï¼‰</td>
<td><code>struct { int a; char b; } var;</code></td>
</tr>
</tbody></table>
<h2 id="3-è”åˆä½“ï¼ˆUnionï¼‰"><a href="#3-è”åˆä½“ï¼ˆUnionï¼‰" class="headerlink" title="3. è”åˆä½“ï¼ˆUnionï¼‰"></a>3. <strong>è”åˆä½“ï¼ˆUnionï¼‰</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// å†…å­˜å…±äº«ç‰¹æ€§</span><br><span class="line">union Data &#123;</span><br><span class="line">    int i;</span><br><span class="line">    float f;</span><br><span class="line">    char str[20];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">union Data data;</span><br><span class="line">data.i = 10;   // å†™å…¥int</span><br><span class="line">printf(&quot;%s\n&quot;, data.str); // è¯»å–å­—ç¬¦ä¸²ï¼ˆæœªå®šä¹‰è¡Œä¸ºï¼Œå†…å­˜é‡å ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="4-ä½å­—æ®µï¼ˆBit-Fieldsï¼‰"><a href="#4-ä½å­—æ®µï¼ˆBit-Fieldsï¼‰" class="headerlink" title="4. ä½å­—æ®µï¼ˆBit Fieldsï¼‰"></a>4. <strong>ä½å­—æ®µï¼ˆBit Fieldsï¼‰</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç´§å‡‘å­˜å‚¨ï¼ˆCè¯­è¨€æ‰©å±•ï¼‰</span><br><span class="line">struct Flags &#123;</span><br><span class="line">    unsigned is_active: 1;   // 1ä½å¸ƒå°”å€¼</span><br><span class="line">    unsigned mode: 3;        // 3ä½æ ‡å¿—ä½</span><br><span class="line">    unsigned reserved: 4;    // ä¿ç•™ä½</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="5-é‡ç‚¹ä¸éš¾ç‚¹"><a href="#5-é‡ç‚¹ä¸éš¾ç‚¹" class="headerlink" title="5.é‡ç‚¹ä¸éš¾ç‚¹"></a>5.<strong>é‡ç‚¹ä¸éš¾ç‚¹</strong></h2><h3 id="1-å†…å­˜å¯¹é½è§„åˆ™"><a href="#1-å†…å­˜å¯¹é½è§„åˆ™" class="headerlink" title="1. å†…å­˜å¯¹é½è§„åˆ™"></a>1. <strong>å†…å­˜å¯¹é½è§„åˆ™</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç¤ºä¾‹ï¼šç»“æ„ä½“å†…å­˜å¸ƒå±€</span><br><span class="line">struct Example &#123;</span><br><span class="line">    char c;   // 1å­—èŠ‚</span><br><span class="line">    int i;    // 4å­—èŠ‚ï¼ˆæ€»å ç”¨8å­—èŠ‚ï¼Œå¯¹é½åˆ°4çš„å€æ•°ï¼‰</span><br><span class="line">&#125;;</span><br><span class="line">// sizeof(struct Example) = 8</span><br></pre></td></tr></table></figure>

<h3 id="2-è”åˆä½“å¤§å°è®¡ç®—"><a href="#2-è”åˆä½“å¤§å°è®¡ç®—" class="headerlink" title="2. è”åˆä½“å¤§å°è®¡ç®—"></a>2. <strong>è”åˆä½“å¤§å°è®¡ç®—</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">union U &#123;</span><br><span class="line">    char c;   // 1å­—èŠ‚</span><br><span class="line">    int i;    // 4å­—èŠ‚ï¼ˆè”åˆä½“å¤§å°å–æœ€å¤§æˆå‘˜ï¼‰</span><br><span class="line">&#125;;</span><br><span class="line">// sizeof(union U) = 4</span><br></pre></td></tr></table></figure>

<h3 id="3-ç»“æ„ä½“ä¼ å‚é™·é˜±"><a href="#3-ç»“æ„ä½“ä¼ å‚é™·é˜±" class="headerlink" title="3. ç»“æ„ä½“ä¼ å‚é™·é˜±"></a>3. <strong>ç»“æ„ä½“ä¼ å‚é™·é˜±</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// é”™è¯¯å†™æ³•ï¼šä¼ å€¼æ‹·è´æ•ˆç‡ä½</span><br><span class="line">void process(struct Point p) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">// æ­£ç¡®å†™æ³•ï¼šä¼ æŒ‡é’ˆ</span><br><span class="line">void process(struct Point *p) &#123; ... &#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-ä»£ç å®æˆ˜"><a href="#6-ä»£ç å®æˆ˜" class="headerlink" title="6.ä»£ç å®æˆ˜"></a>6.<strong>ä»£ç å®æˆ˜</strong></h2><h3 id="1-å¤æ‚ç»“æ„ä½“æ“ä½œ"><a href="#1-å¤æ‚ç»“æ„ä½“æ“ä½œ" class="headerlink" title="1. å¤æ‚ç»“æ„ä½“æ“ä½œ"></a>1. <strong>å¤æ‚ç»“æ„ä½“æ“ä½œ</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">typedef struct &#123;</span><br><span class="line">    char name[20];</span><br><span class="line">    int age;</span><br><span class="line">    double salary;</span><br><span class="line">&#125; Employee;</span><br><span class="line"></span><br><span class="line">// å‡½æ•°è¿”å›ç»“æ„ä½“</span><br><span class="line">Employee create_employee(const char *name, int age, double salary) &#123;</span><br><span class="line">    Employee emp;</span><br><span class="line">    strcpy(emp.name, name);</span><br><span class="line">    emp.age = age;</span><br><span class="line">    emp.salary = salary;</span><br><span class="line">    return emp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    Employee e = create_employee(&quot;Alice&quot;, 30, 5000.0);</span><br><span class="line">    printf(&quot;Employee: %s, %d, %.2f\n&quot;, e.name, e.age, e.salary);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-ä½å­—æ®µåº”ç”¨"><a href="#2-ä½å­—æ®µåº”ç”¨" class="headerlink" title="2. ä½å­—æ®µåº”ç”¨"></a>2. <strong>ä½å­—æ®µåº”ç”¨</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">struct Bits &#123;</span><br><span class="line">    unsigned int flag_a: 1;</span><br><span class="line">    unsigned int flag_b: 1;</span><br><span class="line">    unsigned int value: 6;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    struct Bits bits;</span><br><span class="line">    bits.flag_a = 1;</span><br><span class="line">    bits.flag_b = 0;</span><br><span class="line">    bits.value = 42;</span><br><span class="line">    printf(&quot;Binary: %08x\n&quot;, *(unsigned int*)&amp;bits); // è¾“å‡ºäºŒè¿›åˆ¶å½¢å¼</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h1 id="ä¸ƒã€è¾“å…¥ä¸è¾“å‡º"><a href="#ä¸ƒã€è¾“å…¥ä¸è¾“å‡º" class="headerlink" title="ä¸ƒã€è¾“å…¥ä¸è¾“å‡º"></a>ä¸ƒã€è¾“å…¥ä¸è¾“å‡º</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ æ ‡å‡†æµå…³ç³»å›¾</span><br><span class="line">â”‚   â”œâ”€â”€ ç¼“å†²ç±»å‹å¯¹æ¯”è¡¨</span><br><span class="line">â”‚   â””â”€â”€ æ–‡ä»¶æ¨¡å¼å†³ç­–æ ‘</span><br><span class="line">â”œâ”€â”€ é‡ç‚¹ä¸éš¾ç‚¹</span><br><span class="line">â”‚   â”œâ”€â”€ æ ¼å¼åŒ–å®‰å…¨é™·é˜±</span><br><span class="line">â”‚   â””â”€â”€ äºŒè¿›åˆ¶/æ–‡æœ¬æ¨¡å¼å·®å¼‚</span><br><span class="line">â””â”€â”€ ä»£ç å®æˆ˜</span><br><span class="line">    â”œâ”€â”€ é«˜æ•ˆæ–‡ä»¶æ‹·è´</span><br><span class="line">    â””â”€â”€ è‡ªå®šä¹‰æ ¼å¼åŒ–è¾“å‡º</span><br></pre></td></tr></table></figure>
<h2 id="1-æ–‡ä»¶æ“ä½œåŸºç¡€"><a href="#1-æ–‡ä»¶æ“ä½œåŸºç¡€" class="headerlink" title="1. æ–‡ä»¶æ“ä½œåŸºç¡€"></a>1. <strong>æ–‡ä»¶æ“ä½œåŸºç¡€</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ–‡ä»¶æ‰“å¼€æ¨¡å¼</span><br><span class="line">FILE *fp = fopen(&quot;file.txt&quot;, &quot;r&quot;);  // r=è¯», w=å†™, a=è¿½åŠ , +å·è¡¨ç¤ºè¯»å†™</span><br><span class="line">fclose(fp);                        // å¿…é¡»å…³é—­æ–‡ä»¶ï¼ˆé˜²æ­¢èµ„æºæ³„æ¼ï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="2-æ ¼å¼åŒ–I-O"><a href="#2-æ ¼å¼åŒ–I-O" class="headerlink" title="2. æ ¼å¼åŒ–I&#x2F;O"></a>2. <strong>æ ¼å¼åŒ–I&#x2F;O</strong></h2><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç”¨é€”</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>printf</code></td>
<td>æ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º</td>
<td><code>printf(&quot;%d %f&quot;, 10, 3.14);</code></td>
</tr>
<tr>
<td><code>scanf</code></td>
<td>æ ¼å¼åŒ–è¾“å…¥ä»æ ‡å‡†è¾“å…¥</td>
<td><code>scanf(&quot;%d&quot;, &amp;num);</code></td>
</tr>
<tr>
<td><code>fprintf</code></td>
<td>æ ¼å¼åŒ–è¾“å‡ºåˆ°æ–‡ä»¶</td>
<td><code>fprintf(fp, &quot;Name: %s&quot;, name);</code></td>
</tr>
<tr>
<td><code>fscanf</code></td>
<td>æ ¼å¼åŒ–è¾“å…¥ä»æ–‡ä»¶</td>
<td><code>fscanf(fp, &quot;%d&quot;, &amp;num);</code></td>
</tr>
</tbody></table>
<h2 id="3-ç¼“å†²æœºåˆ¶"><a href="#3-ç¼“å†²æœºåˆ¶" class="headerlink" title="3. ç¼“å†²æœºåˆ¶"></a>3. <strong>ç¼“å†²æœºåˆ¶</strong></h2><table>
<thead>
<tr>
<th>ç¼“å†²ç±»å‹</th>
<th>ç‰¹æ€§</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å…¨ç¼“å†²</strong></td>
<td>æ•°æ®å¡«æ»¡ç¼“å†²åŒºåä¸€æ¬¡æ€§å†™å…¥</td>
<td>æ–‡ä»¶æ“ä½œï¼ˆé»˜è®¤ï¼‰</td>
</tr>
<tr>
<td><strong>è¡Œç¼“å†²</strong></td>
<td>é‡åˆ°æ¢è¡Œç¬¦æ—¶åˆ·æ–°ç¼“å†²åŒº</td>
<td>ç»ˆç«¯äº¤äº’ï¼ˆå¦‚<code>stdout</code>ï¼‰</td>
</tr>
<tr>
<td><strong>æ— ç¼“å†²</strong></td>
<td>æ•°æ®ç«‹å³å†™å…¥ï¼ˆä¸æ¨èï¼‰</td>
<td>é”™è¯¯æ—¥å¿—ï¼ˆ<code>stderr</code>ï¼‰</td>
</tr>
</tbody></table>
<h2 id="4-é‡ç‚¹ä¸éš¾ç‚¹"><a href="#4-é‡ç‚¹ä¸éš¾ç‚¹" class="headerlink" title="4.é‡ç‚¹ä¸éš¾ç‚¹"></a>4.<strong>é‡ç‚¹ä¸éš¾ç‚¹</strong></h2><h3 id="1-æ ¼å¼åŒ–å­—ç¬¦ä¸²å®‰å…¨"><a href="#1-æ ¼å¼åŒ–å­—ç¬¦ä¸²å®‰å…¨" class="headerlink" title="1. æ ¼å¼åŒ–å­—ç¬¦ä¸²å®‰å…¨"></a>1. <strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²å®‰å…¨</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// é”™è¯¯ç¤ºä¾‹ï¼šç¼“å†²åŒºæº¢å‡º</span><br><span class="line">char buf[10];</span><br><span class="line">scanf(&quot;%s&quot;, buf);  // è‹¥è¾“å…¥è¶…è¿‡9å­—ç¬¦ï¼Œå¯¼è‡´è¶Šç•Œ</span><br><span class="line"></span><br><span class="line">// æ­£ç¡®å†™æ³•ï¼šé™åˆ¶è¾“å…¥é•¿åº¦</span><br><span class="line">scanf(&quot;%9s&quot;, buf);  // æœ€å¤šè¯»å–9å­—ç¬¦ï¼ˆç•™1å­—èŠ‚ç»™&#x27;\0&#x27;ï¼‰</span><br></pre></td></tr></table></figure>
<h3 id="2-äºŒè¿›åˆ¶ä¸æ–‡æœ¬æ¨¡å¼åŒºåˆ«"><a href="#2-äºŒè¿›åˆ¶ä¸æ–‡æœ¬æ¨¡å¼åŒºåˆ«" class="headerlink" title="2. äºŒè¿›åˆ¶ä¸æ–‡æœ¬æ¨¡å¼åŒºåˆ«"></a>2. <strong>äºŒè¿›åˆ¶ä¸æ–‡æœ¬æ¨¡å¼åŒºåˆ«</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ–‡æœ¬æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šè‡ªåŠ¨è½¬æ¢æ¢è¡Œç¬¦</span><br><span class="line">// Windowsï¼š&#x27;\n&#x27; â†” &#x27;\r\n&#x27;</span><br><span class="line">// Linux/macOSï¼šæ— è½¬æ¢</span><br><span class="line"></span><br><span class="line">// äºŒè¿›åˆ¶æ¨¡å¼ï¼šä¿ç•™åŸå§‹æ•°æ®</span><br><span class="line">FILE *fp_bin = fopen(&quot;data.bin&quot;, &quot;wb&quot;);  // å†™äºŒè¿›åˆ¶</span><br></pre></td></tr></table></figure>
<h3 id="3-æ–‡ä»¶æŒ‡é’ˆæ“ä½œ"><a href="#3-æ–‡ä»¶æŒ‡é’ˆæ“ä½œ" class="headerlink" title="3. æ–‡ä»¶æŒ‡é’ˆæ“ä½œ"></a>3. <strong>æ–‡ä»¶æŒ‡é’ˆæ“ä½œ</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ–‡ä»¶å®šä½</span><br><span class="line">fseek(fp, 10, SEEK_SET);  // ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´+10å­—èŠ‚</span><br><span class="line">long pos = ftell(fp);     // è·å–å½“å‰ä½ç½®</span><br><span class="line">rewind(fp);               // ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´</span><br></pre></td></tr></table></figure>
<h2 id="5-ä»£ç å®æˆ˜"><a href="#5-ä»£ç å®æˆ˜" class="headerlink" title="5.ä»£ç å®æˆ˜"></a>5.<strong>ä»£ç å®æˆ˜</strong></h2><h3 id="1-æ–‡ä»¶å¤åˆ¶ï¼ˆé«˜æ•ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰"><a href="#1-æ–‡ä»¶å¤åˆ¶ï¼ˆé«˜æ•ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰" class="headerlink" title="1. æ–‡ä»¶å¤åˆ¶ï¼ˆé«˜æ•ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰"></a>1. <strong>æ–‡ä»¶å¤åˆ¶ï¼ˆé«˜æ•ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    FILE *src = fopen(&quot;input.txt&quot;, &quot;rb&quot;);</span><br><span class="line">    FILE *dst = fopen(&quot;output.txt&quot;, &quot;wb&quot;);</span><br><span class="line">    </span><br><span class="line">    if (!src || !dst) &#123;</span><br><span class="line">        perror(&quot;File open failed&quot;);</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    char buffer[4096];</span><br><span class="line">    size_t n;</span><br><span class="line">    while ((n = fread(buffer, 1, sizeof(buffer), src)) &gt; 0) &#123;</span><br><span class="line">        fwrite(buffer, 1, n, dst);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(src);</span><br><span class="line">    fclose(dst);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-è‡ªå®šä¹‰æ ¼å¼åŒ–è¾“å‡º"><a href="#2-è‡ªå®šä¹‰æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="2. è‡ªå®šä¹‰æ ¼å¼åŒ–è¾“å‡º"></a>2. <strong>è‡ªå®šä¹‰æ ¼å¼åŒ–è¾“å‡º</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    double pi = 3.1415926535;</span><br><span class="line">    printf(&quot;Default: %f\n&quot;, pi);       // 3.141593ï¼ˆé»˜è®¤6ä½å°æ•°ï¼‰</span><br><span class="line">    printf(&quot;Precision: %.3f\n&quot;, pi);   // 3.142ï¼ˆä¿ç•™3ä½å°æ•°ï¼‰</span><br><span class="line">    printf(&quot;Hex: %a\n&quot;, pi);           // 0x1.921fb54442d18p+1ï¼ˆåå…­è¿›åˆ¶æµ®ç‚¹ï¼‰</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><h1 id="å…«ã€UNIXç³»ç»Ÿæ¥å£"><a href="#å…«ã€UNIXç³»ç»Ÿæ¥å£" class="headerlink" title="å…«ã€UNIXç³»ç»Ÿæ¥å£"></a>å…«ã€UNIXç³»ç»Ÿæ¥å£</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ</span><br><span class="line">â”‚   â”œâ”€â”€ ç³»ç»Ÿè°ƒç”¨åˆ†ç±»</span><br><span class="line">â”‚   â”œâ”€â”€ è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸå›¾</span><br><span class="line">â”‚   â””â”€â”€ æ–‡ä»¶æè¿°ç¬¦çŠ¶æ€æœº</span><br><span class="line">â”œâ”€â”€ é‡ç‚¹ä¸éš¾ç‚¹</span><br><span class="line">â”‚   â”œâ”€â”€ forkè¿”å›å€¼å¤„ç†</span><br><span class="line">â”‚   â””â”€â”€ åƒµå°¸è¿›ç¨‹é¢„é˜²</span><br><span class="line">â””â”€â”€ ä»£ç å®æˆ˜</span><br><span class="line">    â”œâ”€â”€ ShellåŸç†å®ç°</span><br><span class="line">    â””â”€â”€ ç®¡é“é€šä¿¡èŒƒä¾‹</span><br></pre></td></tr></table></figure>
<h2 id="1-ç³»ç»Ÿè°ƒç”¨åŸºç¡€"><a href="#1-ç³»ç»Ÿè°ƒç”¨åŸºç¡€" class="headerlink" title="1. ç³»ç»Ÿè°ƒç”¨åŸºç¡€"></a>1. <strong>ç³»ç»Ÿè°ƒç”¨åŸºç¡€</strong></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// æ–‡ä»¶æ“ä½œç¤ºä¾‹</span><br><span class="line">int fd = open(&quot;file.txt&quot;, O_RDONLY);  // æ‰“å¼€æ–‡ä»¶</span><br><span class="line">char buf[100];</span><br><span class="line">read(fd, buf, 100);                 // è¯»å–æ•°æ®</span><br><span class="line">write(STDOUT_FILENO, buf, 100);     // è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º</span><br><span class="line">close(fd);                          // å…³é—­æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h2 id="2-è¿›ç¨‹æ§åˆ¶"><a href="#2-è¿›ç¨‹æ§åˆ¶" class="headerlink" title="2. è¿›ç¨‹æ§åˆ¶"></a>2. <strong>è¿›ç¨‹æ§åˆ¶</strong></h2><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç”¨é€”</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>fork()</code></td>
<td>åˆ›å»ºå­è¿›ç¨‹</td>
<td><code>pid_t pid = fork();</code></td>
</tr>
<tr>
<td><code>exec()</code>ç³»åˆ—</td>
<td>æ›¿æ¢å½“å‰è¿›ç¨‹æ˜ åƒ</td>
<td><code>execl(&quot;/bin/ls&quot;, &quot;ls&quot;, NULL);</code></td>
</tr>
<tr>
<td><code>wait()</code></td>
<td>ç­‰å¾…å­è¿›ç¨‹ç»“æŸ</td>
<td><code>wait(NULL);</code></td>
</tr>
</tbody></table>
<h2 id="3-æ–‡ä»¶æè¿°ç¬¦ç®¡ç†"><a href="#3-æ–‡ä»¶æè¿°ç¬¦ç®¡ç†" class="headerlink" title="3. æ–‡ä»¶æè¿°ç¬¦ç®¡ç†"></a>3. <strong>æ–‡ä»¶æè¿°ç¬¦ç®¡ç†</strong></h2><ul>
<li><strong>æ ‡å‡†æµä¸æ–‡ä»¶æè¿°ç¬¦</strong>ï¼š<ul>
<li><code>stdin</code> â†’ <code>0</code></li>
<li><code>stdout</code> â†’ <code>1</code></li>
<li><code>stderr</code> â†’ <code>2</code></li>
</ul>
</li>
<li><strong>æ–‡ä»¶æè¿°ç¬¦ç‰¹æ€§</strong>ï¼š<ul>
<li>é»˜è®¤ç»§æ‰¿æ€§ï¼ˆçˆ¶å­è¿›ç¨‹å…±äº«ï¼‰</li>
<li>éœ€æ‰‹åŠ¨å…³é—­ï¼ˆé¿å…æ³„æ¼ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="4-é‡ç‚¹ä¸éš¾ç‚¹"><a href="#4-é‡ç‚¹ä¸éš¾ç‚¹" class="headerlink" title="4.é‡ç‚¹ä¸éš¾ç‚¹"></a>4.<strong>é‡ç‚¹ä¸éš¾ç‚¹</strong></h2><h3 id="1-fork-çš„è¿”å›å€¼å¤„ç†"><a href="#1-fork-çš„è¿”å›å€¼å¤„ç†" class="headerlink" title="1. fork()çš„è¿”å›å€¼å¤„ç†"></a>1. <strong>fork()çš„è¿”å›å€¼å¤„ç†</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pid_t pid = fork();</span><br><span class="line">if (pid &lt; 0) &#123;</span><br><span class="line">    perror(&quot;fork failed&quot;);  // é”™è¯¯å¤„ç†</span><br><span class="line">&#125; else if (pid == 0) &#123;</span><br><span class="line">    // å­è¿›ç¨‹ä»£ç </span><br><span class="line">    execl(&quot;/bin/date&quot;, &quot;date&quot;, NULL);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    // çˆ¶è¿›ç¨‹ä»£ç </span><br><span class="line">    wait(NULL);  // ç­‰å¾…å­è¿›ç¨‹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-åƒµå°¸è¿›ç¨‹ä¸å­¤å„¿è¿›ç¨‹"><a href="#2-åƒµå°¸è¿›ç¨‹ä¸å­¤å„¿è¿›ç¨‹" class="headerlink" title="2. åƒµå°¸è¿›ç¨‹ä¸å­¤å„¿è¿›ç¨‹"></a>2. <strong>åƒµå°¸è¿›ç¨‹ä¸å­¤å„¿è¿›ç¨‹</strong></h3><ul>
<li><strong>åƒµå°¸è¿›ç¨‹</strong>ï¼šå­è¿›ç¨‹é€€å‡ºåï¼Œçˆ¶è¿›ç¨‹æœªè°ƒç”¨<code>wait()</code>å›æ”¶çŠ¶æ€ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// é¿å…åƒµå°¸è¿›ç¨‹ï¼šçˆ¶è¿›ç¨‹å›æ”¶å­è¿›ç¨‹</span><br><span class="line">pid_t pid = fork();</span><br><span class="line">if (pid == 0) exit(0);  // å­è¿›ç¨‹ç«‹å³é€€å‡º</span><br><span class="line">wait(NULL);             // çˆ¶è¿›ç¨‹ç­‰å¾…</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>å­¤å„¿è¿›ç¨‹</strong>ï¼šçˆ¶è¿›ç¨‹å…ˆäºå­è¿›ç¨‹é€€å‡ºï¼Œå­è¿›ç¨‹ç”±<code>init</code>æ¥ç®¡ã€‚</li>
</ul>
<h3 id="3-æ–‡ä»¶æè¿°ç¬¦æ³„æ¼"><a href="#3-æ–‡ä»¶æè¿°ç¬¦æ³„æ¼" class="headerlink" title="3. æ–‡ä»¶æè¿°ç¬¦æ³„æ¼"></a>3. <strong>æ–‡ä»¶æè¿°ç¬¦æ³„æ¼</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int fd = open(&quot;file.txt&quot;, O_RDONLY);</span><br><span class="line">// æœªè°ƒç”¨close(fd); â†’ èµ„æºæ³„æ¼</span><br></pre></td></tr></table></figure>
<h2 id="5-ä»£ç å®æˆ˜"><a href="#5-ä»£ç å®æˆ˜" class="headerlink" title="5.ä»£ç å®æˆ˜"></a>5.<strong>ä»£ç å®æˆ˜</strong></h2><h3 id="1-ç®€å•Shellå®ç°"><a href="#1-ç®€å•Shellå®ç°" class="headerlink" title="1. ç®€å•Shellå®ç°"></a>1. <strong>ç®€å•Shellå®ç°</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line">#include &lt;sys/wait.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    char cmd[100];</span><br><span class="line">    while (1) &#123;</span><br><span class="line">        printf(&quot;&gt; &quot;);</span><br><span class="line">        fgets(cmd, 100, stdin);</span><br><span class="line">        cmd[strcspn(cmd, &quot;\n&quot;)] = 0;  // å»é™¤æ¢è¡Œç¬¦</span><br><span class="line">        </span><br><span class="line">        pid_t pid = fork();</span><br><span class="line">        if (pid == 0) &#123;</span><br><span class="line">            execlp(cmd, cmd, NULL);</span><br><span class="line">            perror(&quot;exec failed&quot;);  // ä»…å½“execlpå¤±è´¥æ—¶æ‰§è¡Œ</span><br><span class="line">            exit(1);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            wait(NULL);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡"><a href="#2-ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡" class="headerlink" title="2. ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡"></a>2. <strong>ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡</strong></h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    int pipefd[2];</span><br><span class="line">    pipe(pipefd);  // åˆ›å»ºç®¡é“</span><br><span class="line">    </span><br><span class="line">    pid_t pid = fork();</span><br><span class="line">    if (pid == 0) &#123;</span><br><span class="line">        close(pipefd[0]);  // å­è¿›ç¨‹å…³é—­è¯»ç«¯</span><br><span class="line">        write(pipefd[1], &quot;Hello from child!&quot;, 20);</span><br><span class="line">        close(pipefd[1]);</span><br><span class="line">        exit(0);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        close(pipefd[1]);  // çˆ¶è¿›ç¨‹å…³é—­å†™ç«¯</span><br><span class="line">        char buf[20];</span><br><span class="line">        read(pipefd[0], buf, 20);</span><br><span class="line">        printf(&quot;Parent received: %s\n&quot;, buf);</span><br><span class="line">        close(pipefd[0]);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      <categories>
        <category>C-Code</category>
        <category>Practical System Development</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>å‡½æ•°</tag>
        <tag>Data-Structures</tag>
        <tag>Computer-Organization</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»çº¿æ€§è¡¨åˆ°åˆ†å¸ƒå¼ï¼ˆData-Structuresï¼‰</title>
    <url>/posts/8ca7f13c/</url>
    <content><![CDATA[<img src="/img/PageCode/21.png" alt="ä»çº¿æ€§è¡¨åˆ°åˆ†å¸ƒå¼ï¼ˆData-Structuresï¼‰" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">æ•°æ®ç»“æ„å­¦ä¹ </button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a><a href="/posts/8ca7f13c"><strong>æ•°æ®ç»“æ„</strong></a></h3></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>Data-Structures</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç®—æ³•ä¼˜åŒ–</tag>
        <tag>ç³»åˆ—æ–‡ç« </tag>
        <tag>ç®—æ³•</tag>
        <tag>ä¼ªä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä»è¿›ç¨‹è°ƒåº¦åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¹¶å‘æ§åˆ¶ï¼ˆOperating-Systemsï¼‰</title>
    <url>/posts/e308a55d/</url>
    <content><![CDATA[<img src="/img/PageCode/24.png" alt="ä»è¿›ç¨‹è°ƒåº¦åˆ°åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¹¶å‘æ§åˆ¶ï¼ˆOperating-Systemsï¼‰" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">æ“ä½œç³»ç»Ÿå­¦ä¹ </button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><h3 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a><a href="/posts/e308a55d">æ“ä½œç³»ç»Ÿ</a></h3></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>Operating-Systems</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>è¿›ç¨‹è°ƒåº¦</tag>
        <tag>å†…å­˜ç®¡ç†</tag>
        <tag>å†…å­˜æ˜ å°„</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»é€»è¾‘é—¨åˆ°å¤šæ ¸CPUçš„ç¡¬ä»¶ï¼ˆComputer-Organizationï¼‰</title>
    <url>/posts/ed889906/</url>
    <content><![CDATA[<img src="/img/PageCode/22.png" alt="ä»é€»è¾‘é—¨åˆ°å¤šæ ¸CPUçš„ç¡¬ä»¶ï¼ˆComputer-Organizationï¼‰" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">è®¡ç®—æœºç»„æˆå­¦ä¹ </button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><h3 id="è®¡ç®—æœºç»„æˆ"><a href="#è®¡ç®—æœºç»„æˆ" class="headerlink" title="è®¡ç®—æœºç»„æˆ"></a><a href="/posts/ed889906"><strong>è®¡ç®—æœºç»„æˆ</strong></a></h3></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>Computer-Organization</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å†¯Â·è¯ºä¾æ›¼æ¶æ„</tag>
        <tag>ç¡¬ä»¶æè¿°è¯­è¨€</tag>
        <tag>Cacheæ˜ å°„ç­–ç•¥(LRU/FIFO)</tag>
      </tags>
  </entry>
  <entry>
    <title>C è¯­è¨€åºåˆ—åŒ–å’Œååºåˆ—åŒ–</title>
    <url>/posts/6db2fe52/</url>
    <content><![CDATA[<img src="/img/PageCode/25.png" alt="C è¯­è¨€åºåˆ—åŒ–å’Œååºåˆ—åŒ–" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ"><a href="#ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ" class="headerlink" title="ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ"></a>ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ</h2><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ<strong>åºåˆ—åŒ–ï¼ˆSerializationï¼‰</strong> å’Œ <strong>ååºåˆ—åŒ–ï¼ˆDeserializationï¼‰</strong> æ˜¯æ•°æ®æŒä¹…åŒ–ä¸ä¼ è¾“çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<ul>
<li><strong>åºåˆ—åŒ–</strong>ï¼šå°†å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ï¼ˆå¦‚ç»“æ„ä½“ã€æ•°ç»„ç­‰ï¼‰è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æµçš„è¿‡ç¨‹ã€‚è¿™ä¸ªå­—èŠ‚æµå¯ä»¥å­˜å‚¨åˆ°æ–‡ä»¶ã€æ•°æ®åº“ï¼Œæˆ–é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å…¶ä»–è®¾å¤‡ã€‚</li>
<li><strong>ååºåˆ—åŒ–</strong>ï¼šå°†äºŒè¿›åˆ¶å­—èŠ‚æµè¿˜åŸä¸ºå†…å­˜ä¸­å¯ç”¨æ•°æ®ç»“æ„çš„è¿‡ç¨‹ï¼Œæ˜¯åºåˆ—åŒ–çš„é€†æ“ä½œã€‚</li>
</ul>
<h3 id="å…¸å‹åº”ç”¨åœºæ™¯"><a href="#å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="å…¸å‹åº”ç”¨åœºæ™¯"></a>å…¸å‹åº”ç”¨åœºæ™¯</h3><ul>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šå°†ç¨‹åºè¿è¡Œæ—¶çš„ä¸´æ—¶æ•°æ®ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€é…ç½®å‚æ•°ï¼‰ä¿å­˜åˆ°æ–‡ä»¶ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶æ¢å¤ã€‚</li>
<li><strong>ç½‘ç»œé€šä¿¡</strong>ï¼šä¸åŒè¿›ç¨‹&#x2F;è®¾å¤‡é—´é€šè¿‡ç½‘ç»œä¼ è¾“æ•°æ®æ—¶ï¼Œéœ€å°†æ•°æ®è½¬æ¢ä¸ºæ— æ ¼å¼çš„äºŒè¿›åˆ¶æµï¼ˆé¿å…æ–‡æœ¬åè®®çš„è§£æå¼€é”€ï¼‰ã€‚</li>
<li><strong>è·¨å¹³å°åä½œ</strong>ï¼šç¡®ä¿ä¸åŒç³»ç»Ÿï¼ˆå¦‚Windows&#x2F;Linuxï¼‰é—´æ•°æ®æ ¼å¼å…¼å®¹ï¼ˆéœ€æ³¨æ„å­—èŠ‚åºé—®é¢˜ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="äºŒã€C-è¯­è¨€å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#äºŒã€C-è¯­è¨€å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="äºŒã€C è¯­è¨€å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>äºŒã€C è¯­è¨€å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2><p>C è¯­è¨€ä½œä¸ºé¢å‘è¿‡ç¨‹çš„è¯­è¨€ï¼Œæ²¡æœ‰å†…ç½®çš„åºåˆ—åŒ–åº“ï¼Œä½†å¯ä»¥é€šè¿‡<strong>æ–‡ä»¶æ“ä½œå‡½æ•°</strong>ï¼ˆå¦‚ <code>fwrite</code>&#x2F;<code>fread</code>ï¼‰ç›´æ¥æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå®ç°è½»é‡çº§åºåˆ—åŒ–ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´å®ç°ä¸è¯¦ç»†è§£æã€‚</p>
<h3 id="1-æ•°æ®ç»“æ„å®šä¹‰"><a href="#1-æ•°æ®ç»“æ„å®šä¹‰" class="headerlink" title="1. æ•°æ®ç»“æ„å®šä¹‰"></a>1. æ•°æ®ç»“æ„å®šä¹‰</h3><p>é¦–å…ˆå®šä¹‰éœ€è¦åºåˆ—åŒ–çš„ç›®æ ‡ç»“æ„ä½“ã€‚æœ¬ä¾‹ä»¥å­¦ç”Ÿä¿¡æ¯ä¸ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">    char name[50];   // å§“åï¼ˆå›ºå®šé•¿åº¦å­—ç¬¦ä¸²ï¼‰</span><br><span class="line">    int age;         // å¹´é¾„ï¼ˆæ•´å‹ï¼‰</span><br><span class="line">    float score;     // åˆ†æ•°ï¼ˆæµ®ç‚¹å‹ï¼‰</span><br><span class="line">&#125; Student;</span><br></pre></td></tr></table></figure>

<p>é€‰æ‹©å›ºå®šé•¿åº¦çš„å­—ç¬¦æ•°ç»„å­˜å‚¨å­—ç¬¦ä¸²ï¼Œé¿å…åŠ¨æ€å†…å­˜ï¼ˆå¦‚ <code>char* name</code>ï¼‰å¸¦æ¥çš„åºåˆ—åŒ–å¤æ‚åº¦ï¼ˆéœ€é¢å¤–è®°å½•æŒ‡é’ˆåœ°å€å’Œå†…å­˜é•¿åº¦ï¼‰ã€‚</p>
<h3 id="2-åºåˆ—åŒ–å‡½æ•°å®ç°"><a href="#2-åºåˆ—åŒ–å‡½æ•°å®ç°" class="headerlink" title="2. åºåˆ—åŒ–å‡½æ•°å®ç°"></a>2. åºåˆ—åŒ–å‡½æ•°å®ç°</h3><p>åºåˆ—åŒ–å‡½æ•°çš„æ ¸å¿ƒæ˜¯å°†ç»“æ„ä½“å†…å­˜å—æ•´ä½“å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void serialize(Student *student, const char *filename) &#123;</span><br><span class="line">    FILE *file = fopen(filename, &quot;wb&quot;);  // &quot;wb&quot;ï¼šäºŒè¿›åˆ¶å†™æ¨¡å¼ï¼ˆè¦†ç›–æ¨¡å¼ï¼‰</span><br><span class="line">    if (file == NULL) &#123;                  // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€</span><br><span class="line">        perror(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;);           // æ‰“å°é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æƒé™ä¸è¶³ã€è·¯å¾„é”™è¯¯ï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // å†™å…¥æ“ä½œï¼šå‚æ•°ä¾æ¬¡ä¸º æ•°æ®æŒ‡é’ˆã€å•å…ƒç´ å¤§å°ã€å…ƒç´ æ•°é‡ã€æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">    fwrite(student, sizeof(Student), 1, file); </span><br><span class="line">    fclose(file);  // å…³é—­æ–‡ä»¶é‡Šæ”¾èµ„æº</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å…³é”®å‡½æ•°</strong>ï¼šfwriteçš„ä½œç”¨æ˜¯å°†å†…å­˜ä¸­çš„ä¸€æ®µè¿ç»­å­—èŠ‚å†™å…¥æ–‡ä»¶ã€‚<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•° <code>student</code>ï¼šæŒ‡å‘å¾…å†™å…¥æ•°æ®çš„æŒ‡é’ˆï¼ˆç»“æ„ä½“å†…å­˜å—çš„èµ·å§‹åœ°å€ï¼‰ã€‚</li>
<li>ç¬¬äºŒä¸ªå‚æ•° <code>sizeof(Student)</code>ï¼šå•æ¬¡å†™å…¥çš„å…ƒç´ å¤§å°ï¼ˆæ•´ä¸ªç»“æ„ä½“çš„å­—èŠ‚é•¿åº¦ï¼‰ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•° <code>1</code>ï¼šä»…å†™å…¥1ä¸ªè¿™æ ·çš„å…ƒç´ ï¼ˆå³æ•´ä¸ªç»“æ„ä½“ï¼‰ã€‚</li>
<li>ç¬¬å››ä¸ªå‚æ•° <code>file</code>ï¼šç›®æ ‡æ–‡ä»¶æŒ‡é’ˆã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-ååºåˆ—åŒ–å‡½æ•°å®ç°"><a href="#3-ååºåˆ—åŒ–å‡½æ•°å®ç°" class="headerlink" title="3. ååºåˆ—åŒ–å‡½æ•°å®ç°"></a>3. ååºåˆ—åŒ–å‡½æ•°å®ç°</h3><p>ååºåˆ—åŒ–å‡½æ•°ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¯»å–å­—èŠ‚æµï¼Œå¹¶è¿˜åŸä¸ºç»“æ„ä½“å®ä¾‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void deserialize(Student *student, const char *filename) &#123;</span><br><span class="line">    FILE *file = fopen(filename, &quot;rb&quot;);  // &quot;rb&quot;ï¼šäºŒè¿›åˆ¶è¯»æ¨¡å¼</span><br><span class="line">    if (file == NULL) &#123;</span><br><span class="line">        perror(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // è¯»å–æ“ä½œï¼šå‚æ•°å«ä¹‰ä¸ fwrite ä¸€è‡´</span><br><span class="line">    fread(student, sizeof(Student), 1, file); </span><br><span class="line">    fclose(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å…³é”®å‡½æ•°</strong>ï¼š<code>fread</code> ä¸ <code>fwrite</code> æ˜¯ä¸€å¯¹â€œé•œåƒâ€å‡½æ•°ï¼Œè´Ÿè´£ä»æ–‡ä»¶è¯»å–å­—èŠ‚æµåˆ°å†…å­˜ã€‚</li>
</ul>
<h3 id="4-ä¸»å‡½æ•°éªŒè¯"><a href="#4-ä¸»å‡½æ•°éªŒè¯" class="headerlink" title="4. ä¸»å‡½æ•°éªŒè¯"></a>4. ä¸»å‡½æ•°éªŒè¯</h3><p>ä¸»å‡½æ•°æ¼”ç¤ºå®Œæ•´çš„åºåˆ—åŒ–-ååºåˆ—åŒ–æµç¨‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int main() &#123;</span><br><span class="line">    // åˆå§‹åŒ–åŸå§‹æ•°æ®</span><br><span class="line">    Student original_student;</span><br><span class="line">    strncpy(original_student.name, &quot;Alice&quot;, sizeof(original_student.name)-1);  // é¿å…å­—ç¬¦ä¸²æº¢å‡º</span><br><span class="line">    original_student.name[sizeof(original_student.name)-1] = &#x27;\0&#x27;;             // æ‰‹åŠ¨æ·»åŠ ç»ˆæ­¢ç¬¦</span><br><span class="line">    original_student.age = 20;</span><br><span class="line">    original_student.score = 95.5;</span><br><span class="line"></span><br><span class="line">    // åºåˆ—åŒ–ï¼šå†™å…¥æ–‡ä»¶</span><br><span class="line">    const char *filename = &quot;student_data.bin&quot;;</span><br><span class="line">    serialize(&amp;original_student, filename);</span><br><span class="line">    printf(&quot;åºåˆ—åŒ–å®Œæˆï¼Œæ•°æ®å·²å†™å…¥ %s</span><br><span class="line">&quot;, filename);  // è¾“å‡ºæç¤ºï¼ˆæ— ç©ºè¡Œï¼‰</span><br><span class="line"></span><br><span class="line">    // ååºåˆ—åŒ–ï¼šè¯»å–æ–‡ä»¶</span><br><span class="line">    Student deserialized_student;</span><br><span class="line">    deserialize(&amp;deserialized_student, filename);</span><br><span class="line">    printf(&quot;ååºåˆ—åŒ–å®Œæˆï¼Œè¯»å–çš„æ•°æ®å¦‚ä¸‹ï¼š</span><br><span class="line">&quot;);</span><br><span class="line">    printf(&quot;å§“å: %s</span><br><span class="line">&quot;, deserialized_student.name);   // è¾“å‡ºï¼šAlice</span><br><span class="line">    printf(&quot;å¹´é¾„: %d</span><br><span class="line">&quot;, deserialized_student.age);       // è¾“å‡ºï¼š20</span><br><span class="line">    printf(&quot;åˆ†æ•°: %.1f</span><br><span class="line">&quot;, deserialized_student.score);   // è¾“å‡ºï¼š95.5</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ³¨æ„äº‹é¡¹  ï¼š</li>
<li>å­—ç¬¦ä¸²èµ‹å€¼ä½¿ç”¨ <code>strncpy</code> è€Œé <code>strcpy</code>ï¼Œé¿å…ç›®æ ‡æ•°ç»„æº¢å‡ºï¼ˆ<code>name</code> æ•°ç»„é•¿åº¦ä¸º50ï¼Œéœ€é¢„ç•™ç»ˆæ­¢ç¬¦ç©ºé—´ï¼‰ã€‚</li>
<li>æ‰‹åŠ¨è®¾ç½®å­—ç¬¦ä¸²ç»ˆæ­¢ç¬¦ <code>\0</code>ï¼Œç¡®ä¿ <code>printf</code> æ­£ç¡®è¾“å‡ºï¼ˆ<code>strncpy</code> ä¸ä¼šè‡ªåŠ¨æ·»åŠ ï¼‰ã€‚</li>
</ul>
<hr>
<h2 id="ä¸‰ã€æ–¹æ¡ˆå±€é™æ€§ä¸ä¼˜åŒ–æ–¹å‘"><a href="#ä¸‰ã€æ–¹æ¡ˆå±€é™æ€§ä¸ä¼˜åŒ–æ–¹å‘" class="headerlink" title="ä¸‰ã€æ–¹æ¡ˆå±€é™æ€§ä¸ä¼˜åŒ–æ–¹å‘"></a>ä¸‰ã€æ–¹æ¡ˆå±€é™æ€§ä¸ä¼˜åŒ–æ–¹å‘</h2><p>æœ¬ä¾‹çš„å®ç°é€‚ç”¨äº<strong>å›ºå®šå†…å­˜å¸ƒå±€çš„ç»“æ„ä½“</strong>ï¼Œä½†å­˜åœ¨ä»¥ä¸‹é™åˆ¶ï¼š</p>
<ol>
<li><strong>åŠ¨æ€å†…å­˜ä¸å‹å¥½</strong>ï¼šè‹¥ç»“æ„ä½“åŒ…å«æŒ‡é’ˆï¼ˆå¦‚ <code>char* name</code>ï¼‰ï¼Œ<code>fwrite</code> ä¼šä»…ä¿å­˜æŒ‡é’ˆåœ°å€è€Œéå®é™…å­—ç¬¦ä¸²å†…å®¹ï¼Œååºåˆ—åŒ–åæŒ‡é’ˆå¤±æ•ˆã€‚</li>
<li><strong>è·¨å¹³å°å…¼å®¹æ€§</strong>ï¼šä¸åŒç³»ç»Ÿçš„å­—èŠ‚åºï¼ˆå¤§ç«¯&#x2F;å°ç«¯ï¼‰å¯èƒ½å¯¼è‡´æµ®ç‚¹æ•°æˆ–æ•´å‹æ•°æ®è§£æé”™è¯¯ï¼ˆéœ€æ‰‹åŠ¨å¤„ç†å­—èŠ‚åºï¼‰ã€‚</li>
<li><strong>å¯è¯»æ€§å·®</strong>ï¼šäºŒè¿›åˆ¶æ–‡ä»¶æ— æ³•ç›´æ¥æŸ¥çœ‹å†…å®¹ï¼ˆéœ€å€ŸåŠ©å·¥å…·å¦‚ <code>hexdump</code>ï¼‰ã€‚</li>
</ol>
<hr>
<h2 id="å››ã€å®Œæ•´ä»£ç "><a href="#å››ã€å®Œæ•´ä»£ç " class="headerlink" title="å››ã€å®Œæ•´ä»£ç "></a>å››ã€å®Œæ•´ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰å­¦ç”Ÿç»“æ„ä½“</span><br><span class="line">typedef struct &#123;</span><br><span class="line">    char name[50];   // å§“åï¼ˆå›ºå®šé•¿åº¦ï¼‰</span><br><span class="line">    int age;         // å¹´é¾„</span><br><span class="line">    float score;     // åˆ†æ•°</span><br><span class="line">&#125; Student;</span><br><span class="line"></span><br><span class="line">// åºåˆ—åŒ–ï¼šå°†ç»“æ„ä½“å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶</span><br><span class="line">void serialize(Student *student, const char *filename) &#123;</span><br><span class="line">    FILE *file = fopen(filename, &quot;wb&quot;);</span><br><span class="line">    if (!file) &#123;</span><br><span class="line">        perror(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    fwrite(student, sizeof(Student), 1, file);  // å†™å…¥æ•´ä¸ªç»“æ„ä½“å†…å­˜å—</span><br><span class="line">    fclose(file);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ååºåˆ—åŒ–ï¼šä»äºŒè¿›åˆ¶æ–‡ä»¶è¯»å–ç»“æ„ä½“</span><br><span class="line">void deserialize(Student *student, const char *filename) &#123;</span><br><span class="line">    FILE *file = fopen(filename, &quot;rb&quot;);</span><br><span class="line">    if (!file) &#123;</span><br><span class="line">        perror(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    fread(student, sizeof(Student), 1, file);   // è¯»å–æ•´ä¸ªç»“æ„ä½“å†…å­˜å—</span><br><span class="line">    fclose(file);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    // åˆå§‹åŒ–åŸå§‹æ•°æ®</span><br><span class="line">    Student original = &#123;.name = &quot;Alice&quot;, .age = 20, .score = 95.5&#125;;  // C99æŒ‡å®šåˆå§‹åŒ–</span><br><span class="line"></span><br><span class="line">    // åºåˆ—åŒ–</span><br><span class="line">    const char *filename = &quot;student_data.bin&quot;;</span><br><span class="line">    serialize(&amp;original, filename);</span><br><span class="line">    printf(&quot;åºåˆ—åŒ–å®Œæˆï¼Œæ•°æ®å·²å†™å…¥ %s</span><br><span class="line">&quot;, filename);</span><br><span class="line"></span><br><span class="line">    // ååºåˆ—åŒ–</span><br><span class="line">    Student restored;</span><br><span class="line">    deserialize(&amp;restored, filename);</span><br><span class="line">    printf(&quot;ååºåˆ—åŒ–ç»“æœï¼š</span><br><span class="line">&quot;);</span><br><span class="line">    printf(&quot;å§“å: %s</span><br><span class="line">å¹´é¾„: %d</span><br><span class="line">åˆ†æ•°: %.1f</span><br><span class="line">&quot;, restored.name, restored.age, restored.score);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>C-Code</category>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
        <tag>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„ Linux å­¦ä¹ è®¡åˆ’ä¹¦</title>
    <url>/posts/de790f21/</url>
    <content><![CDATA[<img src="/img/PageCode/27.png" alt="æˆ‘çš„ Linux å­¦ä¹ è®¡åˆ’ä¹¦" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h4 id="ä¸€ã€ä¸ºä»€ä¹ˆæ˜¯-Linuxï¼Ÿ"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆæ˜¯-Linuxï¼Ÿ" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆæ˜¯ Linuxï¼Ÿ"></a><strong>ä¸€ã€ä¸ºä»€ä¹ˆæ˜¯ Linuxï¼Ÿ</strong></h4><p>æœ€è¿‘åœ¨å·¥ä½œä¸­é¢‘ç¹æ¥è§¦æœåŠ¡å™¨éƒ¨ç½²ã€è‡ªåŠ¨åŒ–è¿ç»´çš„éœ€æ±‚ï¼ŒåŒäº‹ç”¨ä¸€è¡Œ <code>ssh user@ip</code> è½»æ¾è¿æ¥è¿œç¨‹æœºå™¨æ—¶ï¼Œæˆ‘è¿˜åœ¨å¯¹ç€å›¾å½¢ç•Œé¢æ‰¾ã€Œè¿æ¥è¿œç¨‹æœåŠ¡å™¨ã€çš„æŒ‰é’®ï¼›çœ‹åˆ°è¿ç»´åŒå­¦ç”¨ <code>grep -i error /var/log/nginx/access.log</code> ç§’å®šä½æ—¥å¿—é”™è¯¯ï¼Œæˆ‘è¿˜åœ¨æ‰‹åŠ¨ç¿»é¡µæ‰¾å…³é”®è¯â€¦â€¦</p>
<p>è¿™äº›ç¬é—´è®©æˆ‘æ„è¯†åˆ°ï¼š<strong>Linux ä¸å†æ˜¯ã€ŒæŠ€æœ¯åŠ åˆ†é¡¹ã€ï¼Œè€Œæ˜¯ã€Œè§£å†³é—®é¢˜çš„åˆšéœ€ã€</strong>ã€‚æ— è®ºæ˜¯æƒ³å¾€è¿ç»´ã€åç«¯å¼€å‘ï¼Œè¿˜æ˜¯äº‘è®¡ç®—æ–¹å‘æ·±è€•ï¼ŒLinux éƒ½æ˜¯æˆ‘ç»•ä¸å¼€çš„æŠ€æœ¯åº•åº§ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä¸ºè‡ªå·±å†™ä¸‹è¿™ä»½å­¦ä¹ è®¡åˆ’â€”â€”ä¸ä¸ºã€Œé€Ÿæˆã€ï¼Œåªä¸ºã€Œç³»ç»Ÿç”Ÿé•¿ã€ï¼Œä»¥åŠè¿œç¦»åœŸæœ¨ï¼Œççˆ±ç”Ÿå‘½ã€‚</p>
<p>å­¦ä¹ ä»“åº“å¯è§ï¼š<a href="https://linux.vbird.org/linux_basic/">é¸Ÿå”è®²Linux</a>ã€<a href="https://github.com/dibingfa/flash-linux0.11-talk/blob/main/README.md">å“è¯» Linux 0.11 æ ¸å¿ƒä»£ç </a></p>
<hr>
<h4 id="äºŒã€æˆ‘çš„å­¦ä¹ ç›®æ ‡ï¼šã€Œèƒ½ç”¨ã€-ã€ŒæŒæ§ã€"><a href="#äºŒã€æˆ‘çš„å­¦ä¹ ç›®æ ‡ï¼šã€Œèƒ½ç”¨ã€-ã€ŒæŒæ§ã€" class="headerlink" title="äºŒã€æˆ‘çš„å­¦ä¹ ç›®æ ‡ï¼šã€Œèƒ½ç”¨ã€--&gt;ã€ŒæŒæ§ã€"></a><strong>äºŒã€æˆ‘çš„å­¦ä¹ ç›®æ ‡ï¼šã€Œèƒ½ç”¨ã€--&gt;ã€ŒæŒæ§ã€</strong></h4><p>æˆ‘ä¸æƒ³æˆä¸ºã€ŒèƒŒå‘½ä»¤çš„å·¥å…·äººã€ï¼Œè€Œæ˜¯å¸Œæœ›ï¼š</p>
<ul>
<li><strong>çŸ­æœŸï¼ˆ1-3ä¸ªæœˆï¼‰</strong>ï¼šèƒ½ç‹¬ç«‹å®Œæˆ Linux æœåŠ¡å™¨çš„æ—¥å¸¸æ“ä½œï¼ˆå®‰è£…ã€é…ç½®ã€æ’éšœï¼‰ï¼Œå†™å‡ºå¯å¤ç”¨çš„ Shell è„šæœ¬ã€‚</li>
<li><strong>ä¸­æœŸï¼ˆ3-6ä¸ªæœˆï¼‰</strong>ï¼šæŒæ¡ç³»ç»Ÿçº§è°ƒä¼˜ï¼ˆè¿›ç¨‹&#x2F;å†…å­˜&#x2F;ç£ç›˜ç®¡ç†ï¼‰ã€æœåŠ¡éƒ¨ç½²ï¼ˆNginx&#x2F;MySQL&#x2F;Dockerï¼‰ï¼Œèƒ½è§£å†³ 80% å¸¸è§æ•…éšœã€‚</li>
<li><strong>é•¿æœŸï¼ˆ6ä¸ªæœˆ+ï¼‰</strong>ï¼šå½¢æˆã€ŒLinux æ€ç»´ã€â€”â€”é‡åˆ°é—®é¢˜æ—¶ï¼Œèƒ½ä»å†…æ ¸æœºåˆ¶ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œåè®®ç­‰åº•å±‚é€»è¾‘å¿«é€Ÿå®šä½æ ¹æºã€‚</li>
</ul>
<hr>
<h4 id="ä¸‰ã€åˆ†é˜¶æ®µæ‰§è¡Œè®¡åˆ’ï¼šæ‹†è§£ã€Œå¤§ç›®æ ‡ã€ä¸ºã€Œæ¯æ—¥åŠ¨ä½œã€"><a href="#ä¸‰ã€åˆ†é˜¶æ®µæ‰§è¡Œè®¡åˆ’ï¼šæ‹†è§£ã€Œå¤§ç›®æ ‡ã€ä¸ºã€Œæ¯æ—¥åŠ¨ä½œã€" class="headerlink" title="ä¸‰ã€åˆ†é˜¶æ®µæ‰§è¡Œè®¡åˆ’ï¼šæ‹†è§£ã€Œå¤§ç›®æ ‡ã€ä¸ºã€Œæ¯æ—¥åŠ¨ä½œã€"></a><strong>ä¸‰ã€åˆ†é˜¶æ®µæ‰§è¡Œè®¡åˆ’ï¼šæ‹†è§£ã€Œå¤§ç›®æ ‡ã€ä¸ºã€Œæ¯æ—¥åŠ¨ä½œã€</strong></h4><h5 id="é˜¶æ®µä¸€ï¼šæ‰“åŸºç¡€ï¼ˆç¬¬1-4å‘¨ï¼‰â€”â€”å»ºç«‹æ“ä½œç›´è§‰"><a href="#é˜¶æ®µä¸€ï¼šæ‰“åŸºç¡€ï¼ˆç¬¬1-4å‘¨ï¼‰â€”â€”å»ºç«‹æ“ä½œç›´è§‰" class="headerlink" title="é˜¶æ®µä¸€ï¼šæ‰“åŸºç¡€ï¼ˆç¬¬1-4å‘¨ï¼‰â€”â€”å»ºç«‹æ“ä½œç›´è§‰"></a><strong>é˜¶æ®µä¸€ï¼šæ‰“åŸºç¡€ï¼ˆç¬¬1-4å‘¨ï¼‰â€”â€”å»ºç«‹æ“ä½œç›´è§‰</strong></h5><p><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼šå‘Šåˆ«ã€Œå¤åˆ¶ç²˜è´´å‘½ä»¤ã€ï¼Œç†è§£æ¯ä¸ªæ“ä½œçš„åº•å±‚é€»è¾‘ã€‚</p>
<p>å®Œæˆé‡ç‚¹æ¨¡å—å­¦ä¹ ä¸çªç ´ï¼š<strong>æ–‡ä»¶ç³»ç»Ÿä¸å‘½ä»¤è¡Œã€æƒé™ä¸ç”¨æˆ·ç®¡ç†ã€è¿›ç¨‹ä¸æœåŠ¡ç®¡ç†ã€æ–‡æœ¬å¤„ç†</strong> ç­‰ã€‚</p>
<p><strong>æ¯æ—¥æŠ•å…¥</strong>ï¼š1.5 å°æ—¶ï¼ˆå·¥ä½œæ—¥æ™šä¸Š + å‘¨æœ«ä¸Šåˆï¼‰</p>
<p><strong>é¿å‘æé†’</strong>ï¼šä¸è´ªå¤šï¼æ¯”å¦‚å­¦ <code>grep</code> æ—¶ï¼Œå…ˆæå®š <code>-i</code>ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€<code>-n</code>ï¼ˆæ˜¾ç¤ºè¡Œå·ï¼‰ã€<code>-r</code>ï¼ˆé€’å½’æœç´¢ï¼‰ä¸‰ä¸ªå‚æ•°ï¼Œå†å­¦é«˜çº§ç”¨æ³•ã€‚</p>
<hr>
<h5 id="é˜¶æ®µäºŒï¼šç»ƒå®æˆ˜ï¼ˆç¬¬5-8å‘¨ï¼‰â€”â€”ä»ã€Œæ“ä½œã€åˆ°ã€Œè§£å†³é—®é¢˜ã€"><a href="#é˜¶æ®µäºŒï¼šç»ƒå®æˆ˜ï¼ˆç¬¬5-8å‘¨ï¼‰â€”â€”ä»ã€Œæ“ä½œã€åˆ°ã€Œè§£å†³é—®é¢˜ã€" class="headerlink" title="é˜¶æ®µäºŒï¼šç»ƒå®æˆ˜ï¼ˆç¬¬5-8å‘¨ï¼‰â€”â€”ä»ã€Œæ“ä½œã€åˆ°ã€Œè§£å†³é—®é¢˜ã€"></a><strong>é˜¶æ®µäºŒï¼šç»ƒå®æˆ˜ï¼ˆç¬¬5-8å‘¨ï¼‰â€”â€”ä»ã€Œæ“ä½œã€åˆ°ã€Œè§£å†³é—®é¢˜ã€</strong></h5><p><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼šç”¨ Linux è§£å†³çœŸå®é—®é¢˜ï¼ŒåŸ¹å…»ã€ŒæŠ€æœ¯æ‰‹æ„Ÿã€ã€‚</p>
<p><strong>æ¯æ—¥æŠ•å…¥</strong>ï¼š2 å°æ—¶ï¼ˆå·¥ä½œæ—¥æ™šä¸Š + å‘¨æœ«å…¨å¤©ï¼‰</p>
<p>æ ¹æ®é˜¶æ®µï¼ŒæŒ‰ç…§é¸Ÿå”çš„è¯¾ç¨‹å®‰æ’ï¼Œç”¨ä¸ªäººåšå®¢è®°å½•å­¦ä¹ ç¬”è®°å’Œé‡ç‚¹æ¨¡å—æ“ä½œå¿ƒå¾—ï¼Œä¾‹å¦‚<strong>Shell è‡ªåŠ¨åŒ–å‘½ä»¤ã€æ—¥å¿—åˆ†æã€è¿œç¨‹åä½œ</strong> ç­‰ã€‚</p>
<p><strong>å…³é”®åŠ¨ä½œ</strong>ï¼šæ ¹æ®è¯¾ç¨‹å†…å®¹ï¼ŒåŠæ—¶æ•´ç†ç¬”è®°ï¼ˆå†™æˆ Markdown ç¬”è®°ï¼‰ï¼Œå¯¹äºé¡¹ç›®ï¼Œç”¨å­¦è¿‡çš„å·¥å…·é“¾å®Œæ•´èµ°ä¸€éæµç¨‹ï¼Œè®°å½•é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•ã€‚</p>
<hr>
<h5 id="é˜¶æ®µä¸‰ï¼šæ·±æ‰æ ¹ï¼ˆ6ä¸ªæœˆåï¼‰â€”â€”å½¢æˆã€ŒæŠ€æœ¯è‡ªæ´½ã€"><a href="#é˜¶æ®µä¸‰ï¼šæ·±æ‰æ ¹ï¼ˆ6ä¸ªæœˆåï¼‰â€”â€”å½¢æˆã€ŒæŠ€æœ¯è‡ªæ´½ã€" class="headerlink" title="é˜¶æ®µä¸‰ï¼šæ·±æ‰æ ¹ï¼ˆ6ä¸ªæœˆåï¼‰â€”â€”å½¢æˆã€ŒæŠ€æœ¯è‡ªæ´½ã€"></a><strong>é˜¶æ®µä¸‰ï¼šæ·±æ‰æ ¹ï¼ˆ6ä¸ªæœˆåï¼‰â€”â€”å½¢æˆã€ŒæŠ€æœ¯è‡ªæ´½ã€</strong></h5><p><strong>æ ¸å¿ƒä»»åŠ¡</strong>ï¼šè·³å‡ºã€Œå·¥å…·äººã€è§’è‰²ï¼Œç†è§£ Linux èƒŒåçš„è®¾è®¡å“²å­¦ã€‚</p>
<p><strong>é•¿æœŸåŠ¨ä½œ</strong>ï¼š</p>
<ul>
<li><strong>è¯»æºç </strong>ï¼šé€‰ä¸€ä¸ªå°å·¥å…·ï¼ˆæ¯”å¦‚ <code>grep</code>ï¼‰ï¼Œçœ‹å®ƒçš„æºç ï¼ˆGitHub æœ <code>coreutils</code>ï¼‰ï¼Œç†è§£å®ƒæ˜¯å¦‚ä½•å®ç°æ–‡æœ¬æœç´¢çš„ã€‚</li>
<li><strong>è¾“å‡ºçŸ¥è¯†</strong>ï¼šæŠŠå­¦ä¹ è¿‡ç¨‹ä¸­çš„è¸©å‘ç»éªŒå†™æˆåšå®¢ï¼ˆå°±åƒç°åœ¨è¿™ç¯‡ï¼‰ï¼Œç”¨ã€Œè´¹æ›¼å­¦ä¹ æ³•ã€æ£€éªŒè‡ªå·±æ˜¯å¦çœŸæ­£æŒæ¡ã€‚</li>
</ul>
<hr>
<h4 id="å››ã€æˆ‘çš„ã€Œé˜²æ‘†çƒ‚ã€æœºåˆ¶"><a href="#å››ã€æˆ‘çš„ã€Œé˜²æ‘†çƒ‚ã€æœºåˆ¶" class="headerlink" title="å››ã€æˆ‘çš„ã€Œé˜²æ‘†çƒ‚ã€æœºåˆ¶"></a><strong>å››ã€æˆ‘çš„ã€Œé˜²æ‘†çƒ‚ã€æœºåˆ¶</strong></h4><p>è®¡åˆ’å†å®Œç¾ï¼Œæ‰§è¡Œæ‰æ˜¯å…³é”®ã€‚æˆ‘ä¸ºè¿™ä»½è®¡åˆ’é…å¥—äº†ã€Œé˜²æ‘†çƒ‚ã€æªæ–½ï¼š</p>
<ol>
<li><strong>å›ºå®šå­¦ä¹ æ—¶é—´</strong>ï¼šæ¯å‘¨ä¸€&#x2F;ä¸‰&#x2F;äº” 20:00-21:30 å…³æ‰æ‰‹æœºï¼Œä¸“æ³¨å­¦ä¹ ï¼ˆç”¨ç•ªèŒ„é’Ÿ app è®°å½•ï¼‰ã€‚</li>
<li><strong>è¿›åº¦å¯è§†åŒ–</strong>ï¼šç”¨ Excel è¡¨æ ¼è®°å½•æ¯å‘¨å®Œæˆçš„ä»»åŠ¡ï¼Œæœˆåº•å¤ç›˜ã€Œå®Œæˆç‡ã€ï¼ˆä½äº 80% å°±è°ƒæ•´ä¸‹å‘¨è®¡åˆ’ï¼‰ã€‚</li>
<li><strong>åŠ å…¥å­¦ä¹ ç¤¾ç¾¤</strong>ï¼šæŠ¥åå‚åŠ çº¿ä¸‹ Linux æŠ€æœ¯æ²™é¾™ï¼ˆæ¯”å¦‚ Meetupï¼‰ï¼Œå’ŒåŒå¥½äº’ç›¸ç›‘ç£ï¼ˆå°ç ´çƒ‚åœ°æ–¹æœ€åä¹Ÿæ²¡å»ï¼‰ã€‚</li>
</ol>
<hr>
<h4 id="äº”ã€å†™åœ¨æœ€åï¼šå’Œè‡ªå·±çš„ä¸€æ¬¡å¯¹è¯"><a href="#äº”ã€å†™åœ¨æœ€åï¼šå’Œè‡ªå·±çš„ä¸€æ¬¡å¯¹è¯" class="headerlink" title="äº”ã€å†™åœ¨æœ€åï¼šå’Œè‡ªå·±çš„ä¸€æ¬¡å¯¹è¯"></a><strong>äº”ã€å†™åœ¨æœ€åï¼šå’Œè‡ªå·±çš„ä¸€æ¬¡å¯¹è¯</strong></h4><p>ç°åœ¨çš„æˆ‘ï¼Œå¯èƒ½è¿ <code>vim</code> çš„åŸºæœ¬æ“ä½œéƒ½ä¸ç†Ÿï¼Œå¯èƒ½åœ¨ <code>systemctl</code> å¯åŠ¨æœåŠ¡æ—¶æŠ¥é”™æ‰‹å¿™è„šä¹±ï¼Œå¯èƒ½åœ¨å†™ Shell è„šæœ¬æ—¶å¡å£³åŠå°æ—¶â€¦â€¦ä½†è¿™äº›éƒ½æ²¡å…³ç³»ã€‚</p>
<p>Linux å­¦ä¹ çš„æœ¬è´¨ï¼Œæ˜¯<strong>ç”¨æŠ€æœ¯è§£å†³çœŸå®é—®é¢˜çš„èƒ½åŠ›</strong>ã€‚åªè¦ä¿æŒã€Œæ¯æ—¥è¿›æ­¥ä¸€ç‚¹ç‚¹ã€çš„å¿ƒæ€ï¼Œ3 ä¸ªæœˆåçš„æˆ‘ï¼Œä¸€å®šèƒ½æ¯”ä»Šå¤©æ›´ä»å®¹ï¼›6 ä¸ªæœˆåçš„æˆ‘ï¼Œæˆ–è®¸èƒ½ç‹¬å½“ä¸€é¢ï¼›1 å¹´åçš„æˆ‘ï¼Œè¯´ä¸å®šèƒ½åœ¨æŠ€æœ¯ç¤¾åŒºè¾“å‡ºè‡ªå·±çš„è§è§£ã€‚</p>
<p><strong>ä»Šå¤©ï¼Œæ˜¯æ”¹å˜çš„å¼€å§‹ã€‚</strong> æˆ‘ä¼šå¸¦ç€è¿™ä»½è®¡åˆ’ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œèµ°å‘æ›´å¼ºå¤§çš„è‡ªå·±ã€‚</p>
<img src="/img/PageCode/27-1.png" alt="æ¶æ„å›¾" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>è‡ªæˆ‘è§„åˆ’</tag>
        <tag>å­¦ä¹ è®¡åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Socketç¼–ç¨‹åˆ°QUICåè®®ï¼ˆComputer-Networkingï¼‰</title>
    <url>/posts/1d6b4bdc/</url>
    <content><![CDATA[<img src="/img/PageCode/23.png" alt="ä»Socketç¼–ç¨‹åˆ°QUICåè®®ï¼ˆComputer-Networkingï¼‰" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">è®¡ç®—æœºç½‘ç»œå­¦ä¹ </button><button type="button" class="tab">main.c</button><button type="button" class="tab">å‡½æ•°.h</button></div><div class="tab-contents"><div class="tab-item-content active"><h3 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a><a href="/posts/1d6b4bdc"><strong>è®¡ç®—æœºç½‘ç»œ</strong></a></h3></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>
]]></content>
      <categories>
        <category>Computer-Networking</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œåè®®æ ˆ</tag>
        <tag>TCP/IP</tag>
        <tag>HTTP</tag>
        <tag>ç½‘ç»œå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxï¼šä»æå®¢ç©å…·åˆ°å…¨çƒæŠ€æœ¯åŸºçŸ³çš„ä¼ å¥‡ä¹‹è·¯</title>
    <url>/posts/195fb17c/</url>
    <content><![CDATA[<img src="/img/PageCode/16.png" alt="Linuxï¼šä»æå®¢ç©å…·åˆ°å…¨çƒæŠ€æœ¯åŸºçŸ³çš„ä¼ å¥‡ä¹‹è·¯" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å¦‚æœè¯´ç°ä»£è®¡ç®—æœºçš„ä¸–ç•Œæ˜¯ä¸€ç‰‡æµ©ç€šçš„æµ·æ´‹ï¼Œé‚£ä¹ˆLinuxæ— ç–‘æ˜¯å…¶ä¸­æœ€æ±¹æ¶Œçš„æµªæ½®ä¹‹ä¸€ã€‚å®ƒä¸ä»…æ‰“ç ´äº†Windowsä¸Unixé•¿æœŸå„æ–­æ“ä½œç³»ç»Ÿçš„æ ¼å±€ï¼Œæ›´ä»¥â€œå¼€æºâ€ä¸ºæ——å¸œï¼Œé‡å¡‘äº†å…¨çƒè½¯ä»¶å¼€å‘çš„åä½œæ¨¡å¼ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ²¿ç€æ—¶é—´çº¿ï¼Œä»Unixçš„è¯ç”Ÿè¯´èµ·ï¼Œä¸€æ­¥æ­¥æ­å¼€Linuxå¦‚ä½•ä»ä¸€ä¸ªèŠ¬å…°å­¦ç”Ÿçš„â€œä¸ªäººå®éªŒâ€ï¼Œæˆé•¿ä¸ºæ”¯æ’‘äº‘è®¡ç®—ã€AIã€ç§»åŠ¨è®¾å¤‡çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<hr>
<h2 id="ä¸€ã€åœŸå£¤ï¼šUnixä¸è‡ªç”±è½¯ä»¶è¿åŠ¨çš„èŒèŠ½ï¼ˆ1960s-1990å¹´ä»£åˆï¼‰"><a href="#ä¸€ã€åœŸå£¤ï¼šUnixä¸è‡ªç”±è½¯ä»¶è¿åŠ¨çš„èŒèŠ½ï¼ˆ1960s-1990å¹´ä»£åˆï¼‰" class="headerlink" title="ä¸€ã€åœŸå£¤ï¼šUnixä¸è‡ªç”±è½¯ä»¶è¿åŠ¨çš„èŒèŠ½ï¼ˆ1960s-1990å¹´ä»£åˆï¼‰"></a>ä¸€ã€åœŸå£¤ï¼šUnixä¸è‡ªç”±è½¯ä»¶è¿åŠ¨çš„èŒèŠ½ï¼ˆ1960s-1990å¹´ä»£åˆï¼‰</h2><h3 id="1-1-Unixçš„è¯ç”Ÿï¼šä»â€œå¤ªç©ºæ—…è¡Œâ€æ¸¸æˆå¼€å§‹çš„é©å‘½"><a href="#1-1-Unixçš„è¯ç”Ÿï¼šä»â€œå¤ªç©ºæ—…è¡Œâ€æ¸¸æˆå¼€å§‹çš„é©å‘½" class="headerlink" title="1.1 Unixçš„è¯ç”Ÿï¼šä»â€œå¤ªç©ºæ—…è¡Œâ€æ¸¸æˆå¼€å§‹çš„é©å‘½"></a>1.1 Unixçš„è¯ç”Ÿï¼šä»â€œå¤ªç©ºæ—…è¡Œâ€æ¸¸æˆå¼€å§‹çš„é©å‘½</h3><p>æ•…äº‹è¦ä»1969å¹´çš„è´å°”å®éªŒå®¤è¯´èµ·ã€‚é‚£æ—¶çš„è®¡ç®—æœºè¿˜æ˜¯â€œåºç„¶å¤§ç‰©â€ï¼Œç¨‹åºå‘˜éœ€è¦é€šè¿‡æ‰“å­”å¡è¾“å…¥æŒ‡ä»¤ï¼Œç­‰å¾…æ•°å°æ—¶æ‰èƒ½å¾—åˆ°ç»“æœã€‚ä¸ºäº†æ”¹å˜è¿™ç§ä½æ•ˆï¼Œè´å°”å®éªŒå®¤ã€MITå’Œé€šç”¨ç”µæ°”è”åˆå¯åŠ¨äº†<strong>Multicsè®¡åˆ’</strong>ï¼ˆå¤šè·¯ä¿¡æ¯è®¡ç®—ç³»ç»Ÿï¼‰ï¼Œç›®æ ‡æ˜¯è®©å¤§å‹ä¸»æœºåŒæ—¶æ”¯æŒ300å¤šä¸ªç»ˆç«¯â€”â€”è¿™åœ¨å½“æ—¶å ªç§°â€œç§‘å¹»çº§â€è®¾æƒ³ã€‚</p>
<p>ä½†Multicsé¡¹ç›®å› èµ„é‡‘å’ŒæŠ€æœ¯å¤æ‚åº¦è¿‡é«˜ï¼Œ1969å¹´è´å°”å®éªŒå®¤é€‰æ‹©é€€å‡ºã€‚ä¸è¿‡ï¼Œå‚ä¸é¡¹ç›®çš„å·¥ç¨‹å¸ˆè‚¯Â·æ±¤æ™®æ£®ï¼ˆKen Thompsonï¼‰å´ä»ä¸­è·å¾—çµæ„Ÿã€‚ä¸ºäº†åœ¨é—²ç½®çš„PDP-7å°å‹æœºä¸Šç©è‡ªå·±å¼€å‘çš„â€œå¤ªç©ºæ—…è¡Œâ€æ¸¸æˆï¼Œä»–ç”¨æ±‡ç¼–è¯­è¨€å†™äº†ä¸€ä¸ªç®€åŒ–ç‰ˆæ“ä½œç³»ç»Ÿå†…æ ¸ï¼ŒåŒäº‹æˆç§°ä¸º<strong>Unics</strong>ï¼ˆâ€œæ›´ç®€å•çš„Multicsâ€ï¼‰ã€‚</p>
<p>Unicsçš„æ ¸å¿ƒæ€æƒ³å½±å“è‡³ä»Šï¼š</p>
<ul>
<li><strong>ä¸€åˆ‡çš†æ–‡ä»¶</strong>ï¼šå°†ç¡¬ä»¶è®¾å¤‡ã€ç¨‹åºæ•°æ®ç»Ÿä¸€è§†ä¸ºæ–‡ä»¶ï¼Œæå¤§ç®€åŒ–äº†ç³»ç»Ÿè®¾è®¡ï¼›</li>
<li><strong>KISSåŸåˆ™</strong>ï¼ˆKeep It Simple, Stupidï¼‰ï¼šåŠŸèƒ½ä¸“æ³¨ã€ä»£ç ç®€æ´ï¼Œé¿å…è¿‡åº¦è®¾è®¡ã€‚</li>
</ul>
<p>1973å¹´ï¼Œæ±¤æ™®æ£®ä¸ä¸¹å°¼æ–¯Â·é‡Œå¥‡ï¼ˆDennis Ritchieï¼‰ç”¨æ–°å‘æ˜çš„Cè¯­è¨€é‡å†™Unicså†…æ ¸ï¼Œæ­£å¼å‘½åä¸º<strong>Unix</strong>ã€‚Cè¯­è¨€çš„å¯ç§»æ¤æ€§è®©Unixèƒ½è½»æ¾é€‚é…ä¸åŒç¡¬ä»¶ï¼ŒAT&amp;Tï¼ˆè´å°”å®éªŒå®¤æ¯å…¬å¸ï¼‰éšåå°†å…¶å•†ä¸šåŒ–ï¼Œä½†æ—©æœŸé‡‡å–â€œå…è´¹åˆ†å‘æºç â€çš„å¼€æ”¾ç­–ç•¥ï¼Œè¿™ä¸ºåç»­å¼€æºæ–‡åŒ–åŸ‹ä¸‹äº†ç§å­ã€‚</p>
<h3 id="1-2-åˆ†è£‚ä¸é™åˆ¶ï¼šUnixçš„â€œé—­æºå±æœºâ€"><a href="#1-2-åˆ†è£‚ä¸é™åˆ¶ï¼šUnixçš„â€œé—­æºå±æœºâ€" class="headerlink" title="1.2 åˆ†è£‚ä¸é™åˆ¶ï¼šUnixçš„â€œé—­æºå±æœºâ€"></a>1.2 åˆ†è£‚ä¸é™åˆ¶ï¼šUnixçš„â€œé—­æºå±æœºâ€</h3><p>1979å¹´ï¼ŒAT&amp;Tæ¨å‡ºæ”¯æŒx86æ¶æ„çš„<strong>System Vç¬¬ä¸ƒç‰ˆ</strong>ï¼Œä¸ªäººç”µè„‘ç»ˆäºèƒ½è¿è¡ŒUnixã€‚ä½†éšç€AT&amp;Tè¢«åå„æ–­æ‹†åˆ†ï¼Œå…¬å¸å¼€å§‹æ”¶ç´§ç‰ˆæƒâ€”â€”1983å¹´åï¼ŒUnixæºç ä¸å†å…¬å¼€ï¼Œä¼ä¸šéœ€ä»˜è´¹è´­ä¹°æˆæƒã€‚è¿™ä¸€æ“ä½œå¯¼è‡´ä¸¤ä¸ªåæœï¼š</p>
<ul>
<li><strong>å­¦æœ¯ç•Œä¸æ»¡</strong>ï¼šæ•™æˆæ— æ³•å‘å­¦ç”Ÿå±•ç¤ºçœŸå®æ“ä½œç³»ç»Ÿå†…æ ¸ï¼›</li>
<li><strong>å•†ä¸šåˆ†è£‚</strong>ï¼šIBMã€HPç­‰å…¬å¸å„è‡ªå¼€å‘ä¸“å±Unixï¼ˆå¦‚AIXã€HP&#x2F;UXï¼‰ï¼Œç¢ç‰‡åŒ–ä¸¥é‡ã€‚</li>
</ul>
<h3 id="1-3-Minixä¸GNUï¼šLinuxè¯ç”Ÿçš„â€œå‰ç«™â€"><a href="#1-3-Minixä¸GNUï¼šLinuxè¯ç”Ÿçš„â€œå‰ç«™â€" class="headerlink" title="1.3 Minixä¸GNUï¼šLinuxè¯ç”Ÿçš„â€œå‰ç«™â€"></a>1.3 Minixä¸GNUï¼šLinuxè¯ç”Ÿçš„â€œå‰ç«™â€</h3><p>ä¸ºè§£å†³æ•™å­¦éœ€æ±‚ï¼Œè·å…°è®¡ç®—æœºç§‘å­¦å®¶å®‰å¾·é²Â·å¡”èƒ½é²å§†ï¼ˆAndrew Tanenbaumï¼‰äº1987å¹´å¼€å‘äº†<strong>Minix</strong>â€”â€”ä¸€ä¸ªå®Œå…¨å…¼å®¹Unixçš„ç®€åŒ–ç³»ç»Ÿã€‚ä½†Minixå®šä½ä¸ºâ€œæ•™å­¦å·¥å…·â€ï¼Œå¡”èƒ½é²å§†æ‹’ç»æŒç»­æ›´æ–°ï¼Œå¼•å‘ç”¨æˆ·ä¸æ»¡ã€‚</p>
<p>åŒä¸€æ—¶æœŸï¼ŒMITçš„ç†æŸ¥å¾·Â·æ–¯æ‰˜æ›¼ï¼ˆRichard Stallmanï¼‰å‘èµ·äº†<strong>GNUè®¡åˆ’</strong>ï¼ˆâ€œGNUä¸æ˜¯Unixâ€çš„é€’å½’ç¼©å†™ï¼‰ï¼Œç›®æ ‡æ˜¯å¼€å‘ä¸€å¥—å®Œå…¨è‡ªç”±çš„å¼€æºæ“ä½œç³»ç»Ÿã€‚ä»–åˆ›é€ äº†GCCç¼–è¯‘å™¨ã€Bash shellç­‰ç»å…¸å·¥å…·ï¼Œå¹¶äº1985å¹´æˆç«‹è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFSFï¼‰ã€‚ä½†GNUå§‹ç»ˆç¼ºå°‘ä¸€ä¸ªå…³é”®ç»„ä»¶â€”â€”<strong>å†…æ ¸</strong>ï¼ˆæ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒå¤§è„‘ï¼‰ã€‚</p>
<p>ç›´åˆ°1991å¹´ï¼Œä¸€ä¸ªèŠ¬å…°å­¦ç”Ÿçš„å‡ºç°ï¼Œå¡«è¡¥äº†è¿™ä¸ªç©ºç™½ã€‚</p>
<hr>
<h2 id="äºŒã€è¯ç”Ÿï¼šLinusçš„â€œæ‡’äººå®éªŒâ€å¦‚ä½•æ”¹å˜ä¸–ç•Œï¼ˆ1991-1994ï¼‰"><a href="#äºŒã€è¯ç”Ÿï¼šLinusçš„â€œæ‡’äººå®éªŒâ€å¦‚ä½•æ”¹å˜ä¸–ç•Œï¼ˆ1991-1994ï¼‰" class="headerlink" title="äºŒã€è¯ç”Ÿï¼šLinusçš„â€œæ‡’äººå®éªŒâ€å¦‚ä½•æ”¹å˜ä¸–ç•Œï¼ˆ1991-1994ï¼‰"></a>äºŒã€è¯ç”Ÿï¼šLinusçš„â€œæ‡’äººå®éªŒâ€å¦‚ä½•æ”¹å˜ä¸–ç•Œï¼ˆ1991-1994ï¼‰</h2><h3 id="2-1-ä»â€œä¸æ»¡Minixâ€åˆ°â€œä¸ºå…´è¶£ç¼–ç â€"><a href="#2-1-ä»â€œä¸æ»¡Minixâ€åˆ°â€œä¸ºå…´è¶£ç¼–ç â€" class="headerlink" title="2.1 ä»â€œä¸æ»¡Minixâ€åˆ°â€œä¸ºå…´è¶£ç¼–ç â€"></a>2.1 ä»â€œä¸æ»¡Minixâ€åˆ°â€œä¸ºå…´è¶£ç¼–ç â€</h3><p>1991å¹´ï¼ŒèŠ¬å…°èµ«å°”è¾›åŸºå¤§å­¦çš„å­¦ç”Ÿ**æ—çº³æ–¯Â·æ‰˜ç“¦å…¹ï¼ˆLinus Torvaldsï¼‰**è´·æ¬¾ä¹°äº†ä¸€å°Intel 386ç”µè„‘ã€‚ä»–æƒ³è¿è¡ŒUnixï¼Œä½†æ˜‚è´µçš„å•†ä¸šç‰ˆæœ¬ä¹°ä¸èµ·ï¼›æƒ³ç”¨Minixï¼Œå´å› å¡”èƒ½é²å§†æ‹’ç»å‡çº§åŠŸèƒ½è€Œå¤±æœ›ã€‚äºæ˜¯ï¼Œä»–å†³å®šè‡ªå·±å†™ä¸€ä¸ªâ€œèƒ½åœ¨386ä¸Šè·‘çš„ç±»Unixå†…æ ¸â€ã€‚</p>
<p>Linusåœ¨æ—©æœŸçš„é‚®ä»¶ä¸­å¦è¨€ï¼šâ€œæˆ‘å¼€å‘Linuxçš„åŠ¨æœºå¾ˆç®€å•â€”â€”å› ä¸ºæˆ‘å¾ˆæ‡’ã€‚æˆ‘ä¸æƒ³ä¸ºäº†é€‚é…æ–°ç¡¬ä»¶è€Œé‡å†™æ•´ä¸ªç³»ç»Ÿï¼Œæ‰€ä»¥æƒ³åšä¸€ä¸ªèƒ½è‡ªåŠ¨é€‚åº”çš„å·¥å…·ã€‚â€</p>
<h3 id="2-2-0-01ç‰ˆæœ¬ï¼šä»â€œä¸ªäººç©å…·â€åˆ°â€œç¤¾åŒºèµ·ç‚¹â€"><a href="#2-2-0-01ç‰ˆæœ¬ï¼šä»â€œä¸ªäººç©å…·â€åˆ°â€œç¤¾åŒºèµ·ç‚¹â€" class="headerlink" title="2.2 0.01ç‰ˆæœ¬ï¼šä»â€œä¸ªäººç©å…·â€åˆ°â€œç¤¾åŒºèµ·ç‚¹â€"></a>2.2 0.01ç‰ˆæœ¬ï¼šä»â€œä¸ªäººç©å…·â€åˆ°â€œç¤¾åŒºèµ·ç‚¹â€</h3><p>1991å¹´9æœˆï¼ŒLinuså°†é¦–ä¸ªLinuxå†…æ ¸ï¼ˆ0.01ç‰ˆï¼‰ä¸Šä¼ åˆ°FTPæœåŠ¡å™¨ï¼ˆftp.funet.fiï¼‰ï¼Œå¹¶é™„ä¸Šè¯´æ˜ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªç»™386 ATå…¼å®¹æœºçš„è‡ªç”±æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œç›®å‰åªèƒ½è¿è¡ŒGCCç¼–è¯‘çš„ç¨‹åºï¼Œåˆ«æŒ‡æœ›å®ƒèƒ½åšå¤ªå¤šã€‚â€</p>
<p>æœ€åˆçš„Linuxéå¸¸ç®€é™‹ï¼šä»…æ”¯æŒ386å¤„ç†å™¨ã€ä¾èµ–Minixçš„å·¥å…·é“¾ï¼ˆå¦‚GCCï¼‰ã€æ²¡æœ‰ç½‘ç»œåŠŸèƒ½ã€‚ä½†å®ƒå¸å¼•äº†comp.os.minixè®ºå›ä¸Šçš„å¼€å‘è€…â€”â€”ä»–ä»¬é€šè¿‡é‚®ä»¶åˆ—è¡¨è®¨è®ºä»£ç ã€æäº¤è¡¥ä¸ï¼Œç”šè‡³å¸®Linusè§£å†³â€œå¦‚ä½•è¯»å–è½¯ç›˜â€çš„é—®é¢˜ã€‚</p>
<h3 id="2-3-0-95ç‰ˆæœ¬ï¼šè„±ç¦»Minixï¼Œæ‹¥æŠ±GNU"><a href="#2-3-0-95ç‰ˆæœ¬ï¼šè„±ç¦»Minixï¼Œæ‹¥æŠ±GNU" class="headerlink" title="2.3 0.95ç‰ˆæœ¬ï¼šè„±ç¦»Minixï¼Œæ‹¥æŠ±GNU"></a>2.3 0.95ç‰ˆæœ¬ï¼šè„±ç¦»Minixï¼Œæ‹¥æŠ±GNU</h3><p>1992å¹´ï¼ŒLinuxå†…æ ¸è¿æ¥å…³é”®å‡çº§â€”â€”<strong>0.95ç‰ˆ</strong>ã€‚å®ƒé¦–æ¬¡æ”¯æŒå†…æ ¸æ¨¡å—ï¼ˆå¯åŠ¨æ€åŠ è½½çš„åŠŸèƒ½ç»„ä»¶ï¼‰ï¼Œå¹¶å®Œå…¨å…¼å®¹GNUå·¥å…·é“¾ï¼ˆå¦‚Bashã€GCCï¼‰ã€‚è¿™æ„å‘³ç€ï¼šç”¨æˆ·ç»ˆäºèƒ½ç”¨ä¸€å¥—å®Œæ•´çš„è‡ªç”±è½¯ä»¶ï¼ˆGNUå·¥å…·+Linuxå†…æ ¸ï¼‰æ­å»ºæ“ä½œç³»ç»Ÿï¼</p>
<p>ä¹Ÿæ˜¯åœ¨è¿™ä¸€å¹´ï¼ŒLinusé€‰æ‹©äº†<strong>GPLv2åè®®</strong>ï¼ˆé€šç”¨å…¬å…±è®¸å¯è¯ï¼‰ã€‚GPLçš„æ ¸å¿ƒæ˜¯â€œcopyleftâ€ï¼ˆåç‰ˆæƒï¼‰ï¼šä»»ä½•åŸºäºGPLä»£ç çš„ä¿®æ”¹æˆ–è¡ç”Ÿä½œå“ï¼Œå¿…é¡»ç»§ç»­å¼€æºã€‚è¿™ä¸€é€‰æ‹©å½»åº•æ”¹å˜äº†å¼€æºç”Ÿæ€â€”â€”å®ƒé¿å…äº†å•†ä¸šå…¬å¸â€œæ‹¿èµ°ä»£ç é—­æºç›ˆåˆ©â€çš„å¯èƒ½ï¼Œç¡®ä¿äº†æŠ€æœ¯çš„å…±äº«ä¸è¿­ä»£ã€‚</p>
<hr>
<h2 id="ä¸‰ã€æˆé•¿ï¼šä»â€œå¯ç”¨â€åˆ°â€œç»Ÿæ²»â€çš„æŠ€æœ¯æ¼”è¿›ï¼ˆ1995-2010ï¼‰"><a href="#ä¸‰ã€æˆé•¿ï¼šä»â€œå¯ç”¨â€åˆ°â€œç»Ÿæ²»â€çš„æŠ€æœ¯æ¼”è¿›ï¼ˆ1995-2010ï¼‰" class="headerlink" title="ä¸‰ã€æˆé•¿ï¼šä»â€œå¯ç”¨â€åˆ°â€œç»Ÿæ²»â€çš„æŠ€æœ¯æ¼”è¿›ï¼ˆ1995-2010ï¼‰"></a>ä¸‰ã€æˆé•¿ï¼šä»â€œå¯ç”¨â€åˆ°â€œç»Ÿæ²»â€çš„æŠ€æœ¯æ¼”è¿›ï¼ˆ1995-2010ï¼‰</h2><h3 id="3-1-1-0ç‰ˆæœ¬ï¼šå¯¹æ ‡å•†ä¸šUnixçš„é‡Œç¨‹ç¢‘"><a href="#3-1-1-0ç‰ˆæœ¬ï¼šå¯¹æ ‡å•†ä¸šUnixçš„é‡Œç¨‹ç¢‘" class="headerlink" title="3.1 1.0ç‰ˆæœ¬ï¼šå¯¹æ ‡å•†ä¸šUnixçš„é‡Œç¨‹ç¢‘"></a>3.1 1.0ç‰ˆæœ¬ï¼šå¯¹æ ‡å•†ä¸šUnixçš„é‡Œç¨‹ç¢‘</h3><p>1995å¹´ï¼ŒLinux 1.0æ­£å¼å‘å¸ƒã€‚å®ƒæ”¯æŒå¤šå¤„ç†å™¨ï¼ˆSMPï¼‰ã€å®Œå–„äº†ç½‘ç»œåè®®æ ˆï¼ˆTCP&#x2F;IPï¼‰ï¼Œå¹¶é¦–æ¬¡å¼•å…¥â€œè¿›ç¨‹è°ƒåº¦æ”¹è¿›â€ã€‚æ­¤æ—¶çš„Linuxå·²ä¸å†æ˜¯â€œå­¦ç”Ÿå®éªŒå“â€ï¼Œè€Œæ˜¯èƒ½ä¸AIXã€Solarisç­‰å•†ä¸šUnixæ­£é¢ç«äº‰çš„æ“ä½œç³»ç»Ÿã€‚</p>
<h3 id="3-2-2-4ä¸2-6å†…æ ¸ï¼šæœåŠ¡å™¨é¢†åŸŸçš„â€œéœ¸ä¸»ä¹‹è·¯â€"><a href="#3-2-2-4ä¸2-6å†…æ ¸ï¼šæœåŠ¡å™¨é¢†åŸŸçš„â€œéœ¸ä¸»ä¹‹è·¯â€" class="headerlink" title="3.2 2.4ä¸2.6å†…æ ¸ï¼šæœåŠ¡å™¨é¢†åŸŸçš„â€œéœ¸ä¸»ä¹‹è·¯â€"></a>3.2 2.4ä¸2.6å†…æ ¸ï¼šæœåŠ¡å™¨é¢†åŸŸçš„â€œéœ¸ä¸»ä¹‹è·¯â€</h3><ul>
<li><p><strong>2001å¹´ï¼Œ2.4å†…æ ¸</strong>ï¼šæ”¯æŒæœ€å¤§4TBå†…å­˜ã€åƒå…†ç½‘ç»œå’Œæµ·é‡è®¾å¤‡é©±åŠ¨ï¼Œæˆä¸ºä¼ä¸šæœåŠ¡å™¨çš„â€œæ ‡é…â€ï¼›</p>
</li>
<li></li>
</ul>
<p>  2003å¹´ï¼Œ2.6å†…æ ¸</p>
<p>  ï¼šå¼•å…¥é©å‘½æ€§æ›´æ–°â€”â€”</p>
<ul>
<li><strong>æŠ¢å å¼è°ƒåº¦</strong>ï¼šè®©ç³»ç»Ÿå“åº”é€Ÿåº¦æå‡æ•°å€ï¼ˆç±»ä¼¼æ‰‹æœºâ€œå¤šä»»åŠ¡ä¸å¡é¡¿â€çš„åŸç†ï¼‰ï¼›</li>
<li><strong>EXT3æ–‡ä»¶ç³»ç»Ÿ</strong>ï¼šæ›¿ä»£è€æ—§çš„EXT2ï¼Œæ”¯æŒæ—¥å¿—åŠŸèƒ½ï¼Œå¤§å¹…é™ä½æ•°æ®ä¸¢å¤±é£é™©ï¼›</li>
<li><strong>å†…æ ¸æ¨¡å—çƒ­æ’æ‹”</strong>ï¼šæ— éœ€é‡å¯å³å¯åŠ è½½æ–°ç¡¬ä»¶é©±åŠ¨ã€‚</li>
</ul>
<p>è¿™äº›æ”¹è¿›è®©Linuxåœ¨æœåŠ¡å™¨å¸‚åœºä¸€è·¯é«˜æ­Œã€‚2008å¹´ï¼Œå…¨çƒè¶…50%çš„WebæœåŠ¡å™¨è¿è¡ŒLinuxï¼›2010å¹´ï¼Œè¿™ä¸€æ¯”ä¾‹çªç ´70%ã€‚</p>
<h3 id="3-3-å…³é”®æŠ€æœ¯ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„ç§˜å¯†"><a href="#3-3-å…³é”®æŠ€æœ¯ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„ç§˜å¯†" class="headerlink" title="3.3 å…³é”®æŠ€æœ¯ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„ç§˜å¯†"></a>3.3 å…³é”®æŠ€æœ¯ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„ç§˜å¯†</h3><p>é™¤äº†å†…æ ¸æœ¬èº«ï¼ŒLinuxç”Ÿæ€çš„æŠ€æœ¯åˆ›æ–°åŒæ ·æƒŠäººï¼š</p>
<ul>
<li><strong>CFSè°ƒåº¦å™¨ï¼ˆ2007ï¼‰</strong>ï¼šå®Œå…¨å…¬å¹³è°ƒåº¦ç®—æ³•ï¼Œè®©CPUèµ„æºåˆ†é…æ›´æ™ºèƒ½ï¼›</li>
<li><strong>KVMè™šæ‹ŸåŒ–ï¼ˆ2007ï¼‰</strong>ï¼šå°†Linuxå†…æ ¸å˜ä¸ºè™šæ‹Ÿæœºç®¡ç†ç¨‹åºï¼Œå¼€å¯äº†äº‘è®¡ç®—æ—¶ä»£ï¼›</li>
<li><strong>LXCå®¹å™¨ï¼ˆ2013ï¼‰</strong>ï¼šè½»é‡çº§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä¸ºDockerç­‰å®¹å™¨å·¥å…·å¥ å®šåŸºç¡€ã€‚</li>
</ul>
<hr>
<h2 id="å››ã€ç”Ÿæ€ä¸å•†ä¸šåŒ–ï¼šä»â€œæå®¢ç¤¾åŒºâ€åˆ°â€œå…¨çƒå¼•æ“â€ï¼ˆ2010è‡³ä»Šï¼‰"><a href="#å››ã€ç”Ÿæ€ä¸å•†ä¸šåŒ–ï¼šä»â€œæå®¢ç¤¾åŒºâ€åˆ°â€œå…¨çƒå¼•æ“â€ï¼ˆ2010è‡³ä»Šï¼‰" class="headerlink" title="å››ã€ç”Ÿæ€ä¸å•†ä¸šåŒ–ï¼šä»â€œæå®¢ç¤¾åŒºâ€åˆ°â€œå…¨çƒå¼•æ“â€ï¼ˆ2010è‡³ä»Šï¼‰"></a>å››ã€ç”Ÿæ€ä¸å•†ä¸šåŒ–ï¼šä»â€œæå®¢ç¤¾åŒºâ€åˆ°â€œå…¨çƒå¼•æ“â€ï¼ˆ2010è‡³ä»Šï¼‰</h2><h3 id="4-1-å‘è¡Œç‰ˆç¹è£ï¼šæ»¡è¶³æ‰€æœ‰åœºæ™¯çš„â€œLinuxå…¨å®¶æ¡¶â€"><a href="#4-1-å‘è¡Œç‰ˆç¹è£ï¼šæ»¡è¶³æ‰€æœ‰åœºæ™¯çš„â€œLinuxå…¨å®¶æ¡¶â€" class="headerlink" title="4.1 å‘è¡Œç‰ˆç¹è£ï¼šæ»¡è¶³æ‰€æœ‰åœºæ™¯çš„â€œLinuxå…¨å®¶æ¡¶â€"></a>4.1 å‘è¡Œç‰ˆç¹è£ï¼šæ»¡è¶³æ‰€æœ‰åœºæ™¯çš„â€œLinuxå…¨å®¶æ¡¶â€</h3><p>Linuxçš„æˆåŠŸç¦»ä¸å¼€â€œå‘è¡Œç‰ˆâ€ï¼ˆå°†å†…æ ¸ä¸å·¥å…·ã€è½¯ä»¶æ‰“åŒ…çš„å®Œæ•´ç³»ç»Ÿï¼‰ã€‚ä¸åŒå‘è¡Œç‰ˆé’ˆå¯¹ä¸åŒéœ€æ±‚ï¼š</p>
<ul>
<li><strong>Red Hat Enterprise Linuxï¼ˆRHELï¼‰</strong>ï¼šä¼ä¸šçº§ç¨³å®šç‰ˆï¼Œæä¾›ä»˜è´¹æŠ€æœ¯æ”¯æŒï¼ˆå…¨çƒé‡‘èã€ç”µä¿¡è¡Œä¸šçš„â€œåŸºç¡€è®¾æ–½â€ï¼‰ï¼›</li>
<li><strong>Debian&#x2F;Ubuntu</strong>ï¼šé¢å‘ä¸ªäººç”¨æˆ·ï¼Œç•Œé¢å‹å¥½ã€è½¯ä»¶ä¸°å¯Œï¼ˆå…¨çƒæ¡Œé¢Linuxå¸‚åœºä»½é¢ç¬¬ä¸€ï¼‰ï¼›</li>
<li><strong>CentOS Stream</strong>ï¼šRHELçš„â€œä¸Šæ¸¸æµ‹è¯•ç‰ˆâ€ï¼Œå…è´¹ä¸”å…¼å®¹RHELï¼ˆä¸­å°ä¼ä¸šçš„é¦–é€‰ï¼‰ï¼›</li>
<li><strong>SUSE Linux Enterprise</strong>ï¼šæ¬§æ´²ä¼ä¸šå¸‚åœºçš„â€œéšå½¢ç‹è€…â€ï¼ˆæ±½è½¦ã€å·¥ä¸šé¢†åŸŸå¹¿æ³›åº”ç”¨ï¼‰ã€‚</li>
</ul>
<h3 id="4-2-ä¼ä¸šçº§çˆ†å‘ï¼šäº‘è®¡ç®—ã€AIçš„â€œéšå½¢æ”¯æŸ±â€"><a href="#4-2-ä¼ä¸šçº§çˆ†å‘ï¼šäº‘è®¡ç®—ã€AIçš„â€œéšå½¢æ”¯æŸ±â€" class="headerlink" title="4.2 ä¼ä¸šçº§çˆ†å‘ï¼šäº‘è®¡ç®—ã€AIçš„â€œéšå½¢æ”¯æŸ±â€"></a>4.2 ä¼ä¸šçº§çˆ†å‘ï¼šäº‘è®¡ç®—ã€AIçš„â€œéšå½¢æ”¯æŸ±â€</h3><ul>
<li><strong>äº‘è®¡ç®—</strong>ï¼š2023å¹´æ•°æ®æ˜¾ç¤ºï¼ŒAWSã€Azureã€GCPä¸‰å¤§å…¬æœ‰äº‘ä¸­ï¼Œ<strong>92%çš„è™šæ‹Ÿæœºè¿è¡ŒLinux</strong>ã€‚Linuxçš„ä½æˆæœ¬ã€é«˜ç¨³å®šæ€§å®Œç¾å¥‘åˆäº‘è®¡ç®—â€œå¼¹æ€§æ‰©å±•â€çš„éœ€æ±‚ï¼›</li>
<li><strong>å¤§æ•°æ®</strong>ï¼šHadoopã€Sparkç­‰å¤§æ•°æ®æ¡†æ¶é»˜è®¤åŸºäºLinuxå¼€å‘ï¼Œå…¨çƒè¶…80%çš„æ•°æ®ä¸­å¿ƒä¾èµ–å®ƒï¼›</li>
<li><strong>AIä¸è¾¹ç¼˜è®¡ç®—</strong>ï¼šTensorFlowã€PyTorchç­‰AIæ¡†æ¶å¯¹Linuxæ”¯æŒæœ€ä½³ï¼Œç‰¹æ–¯æ‹‰è‡ªåŠ¨é©¾é©¶ã€åä¸ºè¾¹ç¼˜è®¡ç®—è®¾å¤‡å‡ä»¥Linuxä¸ºæ ¸å¿ƒã€‚</li>
</ul>
<h3 id="4-3-ç§»åŠ¨ä¸åµŒå…¥å¼ï¼šä»æ‰‹æœºåˆ°æ™ºèƒ½å®¶å±…çš„â€œéšå½¢ç©å®¶â€"><a href="#4-3-ç§»åŠ¨ä¸åµŒå…¥å¼ï¼šä»æ‰‹æœºåˆ°æ™ºèƒ½å®¶å±…çš„â€œéšå½¢ç©å®¶â€" class="headerlink" title="4.3 ç§»åŠ¨ä¸åµŒå…¥å¼ï¼šä»æ‰‹æœºåˆ°æ™ºèƒ½å®¶å±…çš„â€œéšå½¢ç©å®¶â€"></a>4.3 ç§»åŠ¨ä¸åµŒå…¥å¼ï¼šä»æ‰‹æœºåˆ°æ™ºèƒ½å®¶å±…çš„â€œéšå½¢ç©å®¶â€</h3><ul>
<li><strong>Android</strong>ï¼šå…¨çƒ70%çš„æ™ºèƒ½æ‰‹æœºè¿è¡ŒAndroidï¼Œè€Œå®ƒçš„åº•å±‚æ­£æ˜¯Linuxå†…æ ¸ï¼ˆç»è¿‡è°·æ­Œæ·±åº¦å®šåˆ¶ï¼‰ï¼›</li>
<li><strong>ç‰©è”ç½‘</strong>ï¼šè·¯ç”±å™¨ã€æ™ºèƒ½éŸ³ç®±ã€å·¥ä¸šä¼ æ„Ÿå™¨ç­‰è®¾å¤‡ä¸­ï¼ŒLinuxå› å¼€æºã€å¯è£å‰ªçš„ç‰¹æ€§æˆä¸ºä¸»æµé€‰æ‹©ï¼ˆå¦‚æ ‘è“æ´¾ã€åä¸ºé¸¿è’™çš„éƒ¨åˆ†æ¨¡å—ï¼‰ã€‚</li>
</ul>
<h3 id="4-4-ç¤¾åŒºæ²»ç†ï¼šä»â€œç‹¬è£è€…â€åˆ°â€œåè°ƒè€…â€çš„èœ•å˜"><a href="#4-4-ç¤¾åŒºæ²»ç†ï¼šä»â€œç‹¬è£è€…â€åˆ°â€œåè°ƒè€…â€çš„èœ•å˜" class="headerlink" title="4.4 ç¤¾åŒºæ²»ç†ï¼šä»â€œç‹¬è£è€…â€åˆ°â€œåè°ƒè€…â€çš„èœ•å˜"></a>4.4 ç¤¾åŒºæ²»ç†ï¼šä»â€œç‹¬è£è€…â€åˆ°â€œåè°ƒè€…â€çš„èœ•å˜</h3><p>æ—©æœŸLinuxç”±Linusâ€œä¸€äººå†³ç­–â€ï¼ˆä»–æ›¾å¼€ç©ç¬‘è¯´â€œæˆ‘çš„æƒå¨æ¥è‡ªä»£ç å†™å¾—å¥½â€ï¼‰ã€‚ä½†éšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼ŒLinuxåŸºé‡‘ä¼šï¼ˆ2007å¹´æˆç«‹ï¼‰æ¥ç®¡äº†æ²»ç†æƒï¼š</p>
<ul>
<li>Linusä¸“æ³¨äºå†…æ ¸å¼€å‘ï¼ˆä»æ‹…ä»»â€œé¦–å¸­ç»´æŠ¤è€…â€ï¼‰ï¼›</li>
<li>ç¤¾åŒºé€šè¿‡é‚®ä»¶åˆ—è¡¨ã€ä»£ç å®¡æŸ¥ã€æŠ€æœ¯å§”å‘˜ä¼šåä½œï¼›</li>
<li>ä¼ä¸šè´¡çŒ®è€…ï¼ˆå¦‚è°·æ­Œã€å¾®è½¯ã€è‹±ç‰¹å°”ï¼‰ä¸ä¸ªäººå¼€å‘è€…å¹³èµ·å¹³åã€‚</li>
</ul>
<p>è¿™ç§æ¨¡å¼è¢«ç§°ä¸ºâ€œç²¾è‹±æ²»ç†â€â€”â€”è°çš„ä»£ç è´¡çŒ®å¤šã€è´¨é‡é«˜ï¼Œè°å°±æœ‰æ›´å¤§è¯è¯­æƒã€‚</p>
<hr>
<h2 id="äº”ã€å½±å“ä¸äº‰è®®ï¼šæ”¹å˜ä¸–ç•Œçš„åŒæ—¶ï¼ŒæŒ‘æˆ˜ä»æœªåœæ­¢"><a href="#äº”ã€å½±å“ä¸äº‰è®®ï¼šæ”¹å˜ä¸–ç•Œçš„åŒæ—¶ï¼ŒæŒ‘æˆ˜ä»æœªåœæ­¢" class="headerlink" title="äº”ã€å½±å“ä¸äº‰è®®ï¼šæ”¹å˜ä¸–ç•Œçš„åŒæ—¶ï¼ŒæŒ‘æˆ˜ä»æœªåœæ­¢"></a>äº”ã€å½±å“ä¸äº‰è®®ï¼šæ”¹å˜ä¸–ç•Œçš„åŒæ—¶ï¼ŒæŒ‘æˆ˜ä»æœªåœæ­¢</h2><h3 id="5-1-æ”¹å˜ï¼šæ‰“ç ´å„æ–­ï¼Œå®šä¹‰â€œå¼€æºæˆåŠŸâ€"><a href="#5-1-æ”¹å˜ï¼šæ‰“ç ´å„æ–­ï¼Œå®šä¹‰â€œå¼€æºæˆåŠŸâ€" class="headerlink" title="5.1 æ”¹å˜ï¼šæ‰“ç ´å„æ–­ï¼Œå®šä¹‰â€œå¼€æºæˆåŠŸâ€"></a>5.1 æ”¹å˜ï¼šæ‰“ç ´å„æ–­ï¼Œå®šä¹‰â€œå¼€æºæˆåŠŸâ€</h3><p>Linuxçš„å´›èµ·å½»åº•æ‰“ç ´äº†Windowsä¸Unixçš„å„æ–­ï¼š</p>
<ul>
<li><strong>æœåŠ¡å™¨é¢†åŸŸ</strong>ï¼š2023å¹´å…¨çƒè¶…80%çš„æœåŠ¡å™¨è¿è¡ŒLinuxï¼›</li>
<li><strong>äº‘è®¡ç®—é¢†åŸŸ</strong>ï¼šLinuxæ˜¯ç»å¯¹ä¸»æµï¼ˆAWS EC2å®ä¾‹ä¸­Linuxå æ¯”92%ï¼‰ï¼›</li>
<li><strong>ç§»åŠ¨é¢†åŸŸ</strong>ï¼šAndroidè®©Linuxè¿›å…¥æ•°åäº¿ç”¨æˆ·çš„æ‰‹æœºã€‚</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼ŒLinuxè¯æ˜äº†â€œå¼€æ”¾åä½œâ€èƒ½äº§å‡ºæ¯”å•†ä¸šå…¬å¸æ›´é«˜æ•ˆçš„æŠ€æœ¯â€”â€”å…¨çƒè¶…2000ä¸‡å¼€å‘è€…æ›¾ä¸ºLinuxå†…æ ¸æäº¤ä»£ç ï¼Œè¿™ç§è§„æ¨¡çš„åˆä½œåœ¨é—­æºä¸–ç•Œä¸­éš¾ä»¥æƒ³è±¡ã€‚</p>
<h3 id="5-2-äº‰è®®ï¼šä¸“åˆ©ã€æ§åˆ¶æƒä¸å®‰å…¨çš„æŒ‘æˆ˜"><a href="#5-2-äº‰è®®ï¼šä¸“åˆ©ã€æ§åˆ¶æƒä¸å®‰å…¨çš„æŒ‘æˆ˜" class="headerlink" title="5.2 äº‰è®®ï¼šä¸“åˆ©ã€æ§åˆ¶æƒä¸å®‰å…¨çš„æŒ‘æˆ˜"></a>5.2 äº‰è®®ï¼šä¸“åˆ©ã€æ§åˆ¶æƒä¸å®‰å…¨çš„æŒ‘æˆ˜</h3><ul>
<li><strong>ä¸“åˆ©çº çº·</strong>ï¼š2003å¹´SCOå…¬å¸èµ·è¯‰IBMâ€œLinuxä¾µçŠ¯Unixç‰ˆæƒâ€ï¼Œè™½æœ€ç»ˆè´¥è¯‰ï¼Œä½†æš´éœ²äº†å¼€æºé¡¹ç›®çš„æ³•å¾‹é£é™©ï¼›</li>
<li><strong>ä¼ä¸šæ§åˆ¶æƒ</strong>ï¼šéƒ¨åˆ†ä¼ä¸šï¼ˆå¦‚çº¢å¸½è¢«IBMæ”¶è´­ï¼‰å¯èƒ½å½±å“ç¤¾åŒºå†³ç­–ï¼Œå¼•å‘â€œå¼€æºé¡¹ç›®å•†ä¸šåŒ–è¿‡åº¦â€çš„æ‹…å¿§ï¼›</li>
<li><strong>å®‰å…¨æ¼æ´</strong>ï¼š2014å¹´â€œå¿ƒè„å‡ºè¡€â€æ¼æ´ï¼ˆHeartbleedï¼‰æš´éœ²äº†OpenSSLï¼ˆLinuxå¸¸ç”¨åŠ å¯†åº“ï¼‰çš„å®‰å…¨éšæ‚£ï¼Œå‡¸æ˜¾å¼€æºè½¯ä»¶â€œä¼—äººç»´æŠ¤â€çš„åŒåˆƒå‰‘æ•ˆåº”ã€‚</li>
</ul>
<hr>
<h2 id="ç»“è¯­ï¼šLinuxçš„æœªæ¥ï¼Œä»æ˜¯â€œå¼€æºâ€çš„æœªæ¥"><a href="#ç»“è¯­ï¼šLinuxçš„æœªæ¥ï¼Œä»æ˜¯â€œå¼€æºâ€çš„æœªæ¥" class="headerlink" title="ç»“è¯­ï¼šLinuxçš„æœªæ¥ï¼Œä»æ˜¯â€œå¼€æºâ€çš„æœªæ¥"></a>ç»“è¯­ï¼šLinuxçš„æœªæ¥ï¼Œä»æ˜¯â€œå¼€æºâ€çš„æœªæ¥</h2><p>ä»1991å¹´ä¸€ä¸ªå­¦ç”Ÿçš„â€œæ‡’äººå®éªŒâ€ï¼Œåˆ°2023å¹´æ”¯æ’‘å…¨çƒæ•°å­—åŸºç¡€è®¾æ–½çš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒLinuxçš„æ•…äº‹ä¸ä»…æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æˆé•¿å²ï¼Œæ›´æ˜¯å¼€æºç²¾ç¥çš„èƒœåˆ©ã€‚å®ƒè¯æ˜äº†ï¼šå½“æŠ€æœ¯è¶³å¤Ÿä¼˜ç§€ï¼Œå½“åä½œè¶³å¤Ÿå¼€æ”¾ï¼Œæ™®é€šäººä¹Ÿèƒ½æ”¹å˜ä¸–ç•Œã€‚</p>
<p>æœªæ¥ï¼Œéšç€AIã€é‡å­è®¡ç®—ã€è¾¹ç¼˜è®¡ç®—çš„å‘å±•ï¼ŒLinuxæˆ–è®¸ä¼šé¢ä¸´æ–°çš„æŒ‘æˆ˜ï¼Œä½†å…¶â€œå¼€æ”¾ã€å…±äº«ã€åä½œâ€çš„åŸºå› ï¼Œæ—©å·²èå…¥å…¨çƒæŠ€æœ¯åˆ›æ–°çš„è¡€æ¶²ã€‚æ­£å¦‚Linusæ‰€è¯´ï¼šâ€œLinuxçš„æˆåŠŸä¸æ˜¯å› ä¸ºæˆ‘æ˜¯å¤©æ‰ï¼Œè€Œæ˜¯å› ä¸ºæœ‰æ— æ•°æ¯”æˆ‘æ›´èªæ˜çš„äººæ„¿æ„è´¡çŒ®ä»£ç ã€‚â€</p>
<p>è¿™ï¼Œæˆ–è®¸å°±æ˜¯å¼€æºæœ€åŠ¨äººçš„é­…åŠ›ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>Linux</tag>
        <tag>å†å²</tag>
        <tag>å¼€æº</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux åŸºç¡€æ“ä½œä¸æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</title>
    <url>/posts/e476ab70/</url>
    <content><![CDATA[<img src="/img/PageCode/26.png" alt="Linux åŸºç¡€æ“ä½œä¸æ ¸å¿ƒæ¦‚å¿µè¯¦è§£" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="ä¸€ã€Linux-ç³»ç»Ÿæ¶æ„ï¼šç”¨æˆ·ç©ºé—´ä¸å†…æ ¸çš„äº¤äº’æ¡¥æ¢"><a href="#ä¸€ã€Linux-ç³»ç»Ÿæ¶æ„ï¼šç”¨æˆ·ç©ºé—´ä¸å†…æ ¸çš„äº¤äº’æ¡¥æ¢" class="headerlink" title="ä¸€ã€Linux ç³»ç»Ÿæ¶æ„ï¼šç”¨æˆ·ç©ºé—´ä¸å†…æ ¸çš„äº¤äº’æ¡¥æ¢"></a>ä¸€ã€Linux ç³»ç»Ÿæ¶æ„ï¼šç”¨æˆ·ç©ºé—´ä¸å†…æ ¸çš„äº¤äº’æ¡¥æ¢</h2><p>Linux ç³»ç»Ÿé‡‡ç”¨<strong>åˆ†å±‚æ¶æ„</strong>ï¼Œæ ¸å¿ƒé€»è¾‘å›´ç»•â€œç”¨æˆ·ç©ºé—´â€ä¸â€œå†…æ ¸ç©ºé—´â€çš„åä½œå±•å¼€ã€‚ç”¨æˆ·ç¨‹åºæ— æ³•ç›´æ¥æ“ä½œç¡¬ä»¶ï¼Œå¿…é¡»é€šè¿‡å†…æ ¸æä¾›çš„æ¥å£â€”â€”è¿™ä¸€æ¥å£æ­£æ˜¯æˆ‘ä»¬ä»Šå¤©è¦æ·±å…¥ç†è§£çš„<strong>ç³»ç»Ÿè°ƒç”¨</strong>ã€<strong>åº“å‡½æ•°</strong>ä¸<strong>Shell å‘½ä»¤</strong>ã€‚</p>
<hr>
<h3 id="1-1-å±‚æ¬¡ç»“æ„æ¦‚è§ˆ"><a href="#1-1-å±‚æ¬¡ç»“æ„æ¦‚è§ˆ" class="headerlink" title="1.1 å±‚æ¬¡ç»“æ„æ¦‚è§ˆ"></a>1.1 å±‚æ¬¡ç»“æ„æ¦‚è§ˆ</h3><p>Linux ç³»ç»Ÿçš„è¿è¡Œé€»è¾‘å¯ç®€åŒ–ä¸ºä¸‰å±‚æ¨¡å‹ï¼ˆä»ç”¨æˆ·åˆ°å†…æ ¸ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th>å±‚çº§</th>
<th>è§’è‰²æè¿°</th>
<th>å…¸å‹ä»£è¡¨&#x2F;æŠ€æœ¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åº”ç”¨å±‚</strong></td>
<td>ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„è½¯ä»¶ï¼ˆå¦‚æµè§ˆå™¨ã€æ–‡æœ¬ç¼–è¾‘å™¨ï¼‰</td>
<td>Vimã€GCCã€Python</td>
</tr>
<tr>
<td><strong>åº“å‡½æ•°å±‚</strong></td>
<td>å¯¹ç³»ç»Ÿè°ƒç”¨çš„å°è£…ï¼Œæä¾›æ›´æ˜“ç”¨çš„ç¼–ç¨‹æ¥å£</td>
<td>C æ ‡å‡†åº“ï¼ˆå¦‚ <code>fopen</code>ï¼‰ã€GNU C åº“</td>
</tr>
<tr>
<td><strong>ç³»ç»Ÿè°ƒç”¨å±‚</strong></td>
<td>å†…æ ¸æš´éœ²ç»™ç”¨æˆ·ç©ºé—´çš„â€œå”¯ä¸€å…¥å£â€ï¼Œç›´æ¥æ§åˆ¶ç¡¬ä»¶èµ„æº</td>
<td><code>open</code>ã€<code>read</code>ã€<code>write</code></td>
</tr>
<tr>
<td><strong>å†…æ ¸å±‚</strong></td>
<td>ç®¡ç†ç¡¬ä»¶èµ„æºï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰ï¼Œå®ç°è¿›ç¨‹è°ƒåº¦ã€æ–‡ä»¶ç³»ç»Ÿç­‰æ ¸å¿ƒåŠŸèƒ½</td>
<td>Linux å†…æ ¸ï¼ˆè¿›ç¨‹ç®¡ç†ã€å†…å­˜ç®¡ç†ï¼‰</td>
</tr>
</tbody></table>
<p><strong>å…³é”®ç»“è®º</strong>ï¼šæ‰€æœ‰ç”¨æˆ·ç¨‹åºçš„æ“ä½œï¼ˆå¦‚è¯»å†™æ–‡ä»¶ã€å¯åŠ¨è¿›ç¨‹ï¼‰ï¼Œæœ€ç»ˆéƒ½å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨è¯·æ±‚å†…æ ¸å®Œæˆã€‚</p>
<hr>
<h3 id="1-2-ç³»ç»Ÿè°ƒç”¨ï¼šç”¨æˆ·ä¸å†…æ ¸çš„â€œç¿»è¯‘å®˜â€"><a href="#1-2-ç³»ç»Ÿè°ƒç”¨ï¼šç”¨æˆ·ä¸å†…æ ¸çš„â€œç¿»è¯‘å®˜â€" class="headerlink" title="1.2 ç³»ç»Ÿè°ƒç”¨ï¼šç”¨æˆ·ä¸å†…æ ¸çš„â€œç¿»è¯‘å®˜â€"></a>1.2 ç³»ç»Ÿè°ƒç”¨ï¼šç”¨æˆ·ä¸å†…æ ¸çš„â€œç¿»è¯‘å®˜â€</h3><p>ç³»ç»Ÿè°ƒç”¨ï¼ˆSystem Callï¼‰æ˜¯å†…æ ¸å‘ç”¨æˆ·ç©ºé—´æä¾›çš„<strong>æœ‰é™æ¥å£</strong>ï¼Œç›¸å½“äºç”¨æˆ·ç¨‹åºä¸å†…æ ¸ä¹‹é—´çš„â€œç¿»è¯‘å®˜â€ã€‚å®ƒè§„å®šäº†ç”¨æˆ·ç¨‹åºâ€œèƒ½åšä»€ä¹ˆâ€å’Œâ€œä¸èƒ½åšä»€ä¹ˆâ€ï¼Œç¡®ä¿äº†ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚</p>
<h4 id="æ ¸å¿ƒç‰¹ç‚¹ï¼š"><a href="#æ ¸å¿ƒç‰¹ç‚¹ï¼š" class="headerlink" title="æ ¸å¿ƒç‰¹ç‚¹ï¼š"></a>æ ¸å¿ƒç‰¹ç‚¹ï¼š</h4><ul>
<li><strong>å”¯ä¸€æ€§</strong>ï¼šç”¨æˆ·ç¨‹åºæ— æ³•ç›´æ¥è®¿é—®ç¡¬ä»¶ï¼Œå¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼›</li>
<li><strong>åŸå­æ€§</strong>ï¼šç³»ç»Ÿè°ƒç”¨ä¸€æ—¦å¯åŠ¨ï¼Œå†…æ ¸ä¼šå…¨ç¨‹æ¥ç®¡ç›´è‡³å®Œæˆï¼›</li>
<li><strong>ç‰¹æƒéš”ç¦»</strong>ï¼šç”¨æˆ·ç©ºé—´è¿è¡Œåœ¨â€œç”¨æˆ·æ€â€ï¼Œå†…æ ¸è¿è¡Œåœ¨â€œå†…æ ¸æ€â€ï¼Œç³»ç»Ÿè°ƒç”¨æ˜¯çŠ¶æ€åˆ‡æ¢çš„è§¦å‘ç‚¹ã€‚</li>
</ul>
<h4 id="å¸¸è§ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹ï¼š"><a href="#å¸¸è§ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹ï¼š" class="headerlink" title="å¸¸è§ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹ï¼š"></a>å¸¸è§ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹ï¼š</h4><table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>ç³»ç»Ÿè°ƒç”¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ–‡ä»¶æ“ä½œ</td>
<td><code>open</code>ã€<code>read</code>ã€<code>write</code>ã€<code>close</code></td>
<td>æ‰“å¼€&#x2F;è¯»å–&#x2F;å†™å…¥&#x2F;å…³é—­æ–‡ä»¶</td>
</tr>
<tr>
<td>è¿›ç¨‹æ§åˆ¶</td>
<td><code>fork</code>ã€<code>exec</code>ã€<code>wait</code></td>
<td>åˆ›å»ºè¿›ç¨‹ã€æ‰§è¡Œç¨‹åºã€ç­‰å¾…å­è¿›ç¨‹ç»“æŸ</td>
</tr>
<tr>
<td>ç½‘ç»œé€šä¿¡</td>
<td><code>socket</code>ã€<code>connect</code>ã€<code>send</code>ã€<code>recv</code></td>
<td>åˆ›å»ºå¥—æ¥å­—ã€è¿æ¥ç½‘ç»œã€å‘é€&#x2F;æ¥æ”¶æ•°æ®</td>
</tr>
</tbody></table>
<hr>
<h3 id="1-3-åº“å‡½æ•°å±‚ï¼šç³»ç»Ÿè°ƒç”¨çš„â€œåŒ…è£…çº¸â€"><a href="#1-3-åº“å‡½æ•°å±‚ï¼šç³»ç»Ÿè°ƒç”¨çš„â€œåŒ…è£…çº¸â€" class="headerlink" title="1.3 åº“å‡½æ•°å±‚ï¼šç³»ç»Ÿè°ƒç”¨çš„â€œåŒ…è£…çº¸â€"></a>1.3 åº“å‡½æ•°å±‚ï¼šç³»ç»Ÿè°ƒç”¨çš„â€œåŒ…è£…çº¸â€</h3><p>åº“å‡½æ•°ï¼ˆå¦‚ C æ ‡å‡†åº“ <code>libc</code>ï¼‰æ˜¯å¯¹ç³»ç»Ÿè°ƒç”¨çš„<strong>é«˜çº§å°è£…</strong>ï¼Œç›®çš„æ˜¯ç®€åŒ–å¼€å‘ã€‚å¼€å‘è€…æ— éœ€ç›´æ¥ç¼–å†™ç³»ç»Ÿè°ƒç”¨ï¼ˆéœ€å¤„ç†å‚æ•°ã€é”™è¯¯ç ç­‰ç»†èŠ‚ï¼‰ï¼Œåªéœ€è°ƒç”¨åº“å‡½æ•°å³å¯ã€‚</p>
<h4 id="å…¸å‹ç¤ºä¾‹ï¼šfopen-ä¸-open-çš„å…³ç³»"><a href="#å…¸å‹ç¤ºä¾‹ï¼šfopen-ä¸-open-çš„å…³ç³»" class="headerlink" title="å…¸å‹ç¤ºä¾‹ï¼šfopen ä¸ open çš„å…³ç³»"></a>å…¸å‹ç¤ºä¾‹ï¼š<code>fopen</code> ä¸ <code>open</code> çš„å…³ç³»</h4><ul>
<li><code>fopen(&quot;file.txt&quot;, &quot;r&quot;)</code>ï¼ˆC åº“å‡½æ•°ï¼‰æœ€ç»ˆä¼šè°ƒç”¨ <code>open(&quot;/path/to/file.txt&quot;, O_RDONLY)</code>ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰ï¼›</li>
<li>åº“å‡½æ•°å¯èƒ½æ·»åŠ ç¼“å†²æœºåˆ¶ï¼ˆå¦‚ <code>fread</code> ä¼šä¸€æ¬¡æ€§è¯»å–æ›´å¤šæ•°æ®å‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼‰ï¼Œæå‡æ•ˆç‡ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šå¹¶éæ‰€æœ‰åº“å‡½æ•°éƒ½ä¾èµ–ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚æ•°å­¦åº“ <code>math.h</code> ä¸­çš„ <code>sqrt</code> ä»…åœ¨ç”¨æˆ·ç©ºé—´è®¡ç®—ï¼‰ï¼Œä½†æ¶‰åŠèµ„æºæ“ä½œï¼ˆæ–‡ä»¶ã€ç½‘ç»œã€è¿›ç¨‹ï¼‰çš„åº“å‡½æ•°å¿…ç„¶ä¾èµ–ç³»ç»Ÿè°ƒç”¨ã€‚</p>
<hr>
<h3 id="1-4-åº”ç”¨å±‚ä¸-Shellï¼šç”¨æˆ·æ“ä½œçš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€"><a href="#1-4-åº”ç”¨å±‚ä¸-Shellï¼šç”¨æˆ·æ“ä½œçš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€" class="headerlink" title="1.4 åº”ç”¨å±‚ä¸ Shellï¼šç”¨æˆ·æ“ä½œçš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€"></a>1.4 åº”ç”¨å±‚ä¸ Shellï¼šç”¨æˆ·æ“ä½œçš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€</h3><p>Shell æ˜¯ç”¨æˆ·ä¸ Linux äº¤äº’çš„<strong>å‘½ä»¤è¡Œè§£é‡Šå™¨</strong>ï¼Œæ—¢æ˜¯â€œå‘½ä»¤è¾“å…¥çª—å£â€ï¼Œä¹Ÿæ˜¯â€œè„šæœ¬ç¼–ç¨‹ç¯å¢ƒâ€ã€‚å®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š</p>
<ul>
<li>è§£æç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ï¼ˆå¦‚ <code>ls -l</code>ã€<code>cd ~</code>ï¼‰ï¼›</li>
<li>è°ƒç”¨åº“å‡½æ•°æˆ–ç›´æ¥å‘èµ·ç³»ç»Ÿè°ƒç”¨å®Œæˆä»»åŠ¡ï¼›</li>
<li>æ”¯æŒå‘½ä»¤ç»„åˆï¼ˆå¦‚ç®¡é“ <code>|</code>ã€é‡å®šå‘ <code>&gt;</code>ï¼‰å’Œè„šæœ¬è‡ªåŠ¨åŒ–ã€‚</li>
</ul>
<p><strong>ç±»æ¯”</strong>ï¼šShell å°±åƒâ€œç¿»è¯‘+è°ƒåº¦å‘˜â€â€”â€”å°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€å‘½ä»¤ç¿»è¯‘æˆç³»ç»Ÿèƒ½ç†è§£çš„æŒ‡ä»¤ï¼Œå¹¶åè°ƒå„ç¨‹åºåä½œæ‰§è¡Œã€‚</p>
<hr>
<h2 id="äºŒã€Shell-å‘½ä»¤è¡Œï¼šLinux-çš„â€œç‘å£«å†›åˆ€â€"><a href="#äºŒã€Shell-å‘½ä»¤è¡Œï¼šLinux-çš„â€œç‘å£«å†›åˆ€â€" class="headerlink" title="äºŒã€Shell å‘½ä»¤è¡Œï¼šLinux çš„â€œç‘å£«å†›åˆ€â€"></a>äºŒã€Shell å‘½ä»¤è¡Œï¼šLinux çš„â€œç‘å£«å†›åˆ€â€</h2><p>æŒæ¡ Shell å‘½ä»¤æ˜¯ Linux è¿ç»´ã€å¼€å‘çš„åŸºç¡€ã€‚ä»¥ä¸‹æ˜¯æœ€å¸¸ç”¨çš„å‡ ç±»å‘½ä»¤ï¼Œè¦†ç›–ç›®å½•ã€æ–‡ä»¶ã€æƒé™ç­‰æ ¸å¿ƒæ“ä½œã€‚</p>
<hr>
<h3 id="2-1-åŸºç¡€æ“ä½œï¼šç›®å½•ä¸æ–‡ä»¶ç®¡ç†"><a href="#2-1-åŸºç¡€æ“ä½œï¼šç›®å½•ä¸æ–‡ä»¶ç®¡ç†" class="headerlink" title="2.1 åŸºç¡€æ“ä½œï¼šç›®å½•ä¸æ–‡ä»¶ç®¡ç†"></a>2.1 åŸºç¡€æ“ä½œï¼šç›®å½•ä¸æ–‡ä»¶ç®¡ç†</h3><h4 id="2-1-1-æŸ¥çœ‹ä¸åˆ‡æ¢ç›®å½•ï¼ˆpwdã€cdï¼‰"><a href="#2-1-1-æŸ¥çœ‹ä¸åˆ‡æ¢ç›®å½•ï¼ˆpwdã€cdï¼‰" class="headerlink" title="2.1.1 æŸ¥çœ‹ä¸åˆ‡æ¢ç›®å½•ï¼ˆpwdã€cdï¼‰"></a>2.1.1 æŸ¥çœ‹ä¸åˆ‡æ¢ç›®å½•ï¼ˆ<code>pwd</code>ã€<code>cd</code>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pwdï¼šæŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</span><br><span class="line">$ pwd</span><br><span class="line">/home/user/documents</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd [ç›®å½•]ï¼šåˆ‡æ¢ç›®å½•ã€‚</span><br><span class="line">å¸¸ç”¨å‚æ•°ï¼š</span><br><span class="line">- `cd ..`ï¼šåˆ‡æ¢åˆ°çˆ¶ç›®å½•ï¼›</span><br><span class="line">- `cd ~` æˆ– `cd`ï¼šåˆ‡æ¢åˆ°ç”¨æˆ·ä¸»ç›®å½•ï¼ˆå¦‚ `/home/user`ï¼‰ï¼›</span><br><span class="line">- `cd -`ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå·¥ä½œç›®å½•ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="2-1-2-åˆ›å»ºä¸åˆ é™¤ç›®å½•ï¼ˆmkdirã€rmdirï¼‰"><a href="#2-1-2-åˆ›å»ºä¸åˆ é™¤ç›®å½•ï¼ˆmkdirã€rmdirï¼‰" class="headerlink" title="2.1.2 åˆ›å»ºä¸åˆ é™¤ç›®å½•ï¼ˆmkdirã€rmdirï¼‰"></a>2.1.2 åˆ›å»ºä¸åˆ é™¤ç›®å½•ï¼ˆ<code>mkdir</code>ã€<code>rmdir</code>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir [-p] ç›®å½•åï¼šåˆ›å»ºç›®å½•ï¼ˆ -p å‚æ•°å…è®¸é€’å½’åˆ›å»ºå¤šçº§ç›®å½•ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">$ mkdir dir1          # åˆ›å»ºä¸€çº§ç›®å½• dir1</span><br><span class="line">$ mkdir -p a/b/c      # åˆ›å»ºå¤šçº§ç›®å½• a/b/cï¼ˆå³ä½¿ a/b ä¸å­˜åœ¨ï¼‰</span><br><span class="line">`rmdir ç›®å½•å`ï¼šåˆ é™¤ç©ºç›®å½•ï¼ˆè‹¥ç›®å½•éç©ºï¼Œéœ€ç”¨ `rm -r`ï¼‰ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="2-1-3-æ–‡ä»¶æ“ä½œï¼ˆtouchã€cpã€mvã€rmï¼‰"><a href="#2-1-3-æ–‡ä»¶æ“ä½œï¼ˆtouchã€cpã€mvã€rmï¼‰" class="headerlink" title="2.1.3 æ–‡ä»¶æ“ä½œï¼ˆtouchã€cpã€mvã€rmï¼‰"></a>2.1.3 æ–‡ä»¶æ“ä½œï¼ˆ<code>touch</code>ã€<code>cp</code>ã€<code>mv</code>ã€<code>rm</code>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch æ–‡ä»¶åï¼šåˆ›å»ºæ–°æ–‡ä»¶æˆ–æ›´æ–°æ–‡ä»¶æ—¶é—´æˆ³ã€‚</span><br><span class="line">$ touch new_file.txt  # åˆ›å»ºç©ºæ–‡ä»¶ new_file.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp [é€‰é¡¹] æºæ–‡ä»¶ ç›®æ ‡è·¯å¾„  ï¼šå¤åˆ¶æ–‡ä»¶/ç›®å½•ï¼ˆ -r é€’å½’å¤åˆ¶ç›®å½•ï¼‰ã€‚</span><br><span class="line">$ cp 1.txt 2.txt       # å¤åˆ¶ 1.txt ä¸º 2.txtï¼ˆåŒç›®å½•ï¼‰</span><br><span class="line">$ cp 1.txt dir/        # å¤åˆ¶ 1.txt åˆ° dir ç›®å½•ä¸‹</span><br><span class="line">$ cp -r dir1 dir2      # é€’å½’å¤åˆ¶æ•´ä¸ªç›®å½• dir1 åˆ° dir2</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mv [æºæ–‡ä»¶/ç›®å½•] [ç›®æ ‡è·¯å¾„]ï¼šç§»åŠ¨æ–‡ä»¶/ç›®å½•ï¼Œæˆ–é‡å‘½åã€‚</span><br><span class="line">$ mv 1.txt dir/        # å°† 1.txt ç§»åŠ¨åˆ° dir ç›®å½•</span><br><span class="line">$ mv old_name.txt new_name.txt  # é‡å‘½åæ–‡ä»¶</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm [é€‰é¡¹] æ–‡ä»¶/ç›®å½•ï¼šåˆ é™¤æ–‡ä»¶/ç›®å½•ï¼ˆ -r é€’å½’åˆ é™¤ç›®å½•ï¼Œ -f å¼ºåˆ¶åˆ é™¤ï¼‰ã€‚</span><br><span class="line">$ rm 1.txt             # åˆ é™¤æ–‡ä»¶ 1.txt</span><br><span class="line">$ rm -r dir/           # é€’å½’åˆ é™¤ç›®å½• dir/</span><br><span class="line">$ rm -f important.txt  # å¼ºåˆ¶åˆ é™¤ï¼ˆä¸æç¤ºç¡®è®¤ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-2-é«˜çº§æ“ä½œï¼šæœç´¢ã€æŸ¥çœ‹ä¸ç®¡é“"><a href="#2-2-é«˜çº§æ“ä½œï¼šæœç´¢ã€æŸ¥çœ‹ä¸ç®¡é“" class="headerlink" title="2.2 é«˜çº§æ“ä½œï¼šæœç´¢ã€æŸ¥çœ‹ä¸ç®¡é“"></a>2.2 é«˜çº§æ“ä½œï¼šæœç´¢ã€æŸ¥çœ‹ä¸ç®¡é“</h3><h4 id="2-2-1-æ–‡ä»¶å†…å®¹æŸ¥çœ‹ï¼ˆcatã€lessã€headã€tailï¼‰"><a href="#2-2-1-æ–‡ä»¶å†…å®¹æŸ¥çœ‹ï¼ˆcatã€lessã€headã€tailï¼‰" class="headerlink" title="2.2.1 æ–‡ä»¶å†…å®¹æŸ¥çœ‹ï¼ˆcatã€lessã€headã€tailï¼‰"></a>2.2.1 æ–‡ä»¶å†…å®¹æŸ¥çœ‹ï¼ˆ<code>cat</code>ã€<code>less</code>ã€<code>head</code>ã€<code>tail</code>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat æ–‡ä»¶åï¼šä¸€æ¬¡æ€§æ˜¾ç¤ºæ–‡ä»¶å…¨éƒ¨å†…å®¹ï¼ˆé€‚åˆå°æ–‡ä»¶ï¼‰ã€‚</span><br><span class="line">$ cat hello.txt  # è¾“å‡ºæ–‡ä»¶ hello.txt çš„å†…å®¹</span><br><span class="line">`less æ–‡ä»¶å`ï¼šåˆ†å±æŸ¥çœ‹å¤§æ–‡ä»¶ï¼Œæ”¯æŒä¸Šä¸‹ç¿»é¡µï¼ˆ`j` ä¸‹ç¿»ï¼Œ`k` ä¸Šç¿»ï¼‰ã€æœç´¢ï¼ˆ`/å…³é”®è¯`ï¼‰ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">head -n è¡Œæ•° æ–‡ä»¶åï¼šæ˜¾ç¤ºæ–‡ä»¶å‰ N è¡Œï¼ˆé»˜è®¤ 10 è¡Œï¼‰ã€‚</span><br><span class="line">$ head -n 5 log.txt  # æ˜¾ç¤º log.txt å‰ 5 è¡Œ</span><br><span class="line">tail -n è¡Œæ•° æ–‡ä»¶åï¼šæ˜¾ç¤ºæ–‡ä»¶å N è¡Œï¼›</span><br><span class="line">tail -f æ–‡ä»¶å å®æ—¶è·Ÿè¸ªæ–‡ä»¶æ–°å¢å†…å®¹ï¼ˆç›‘æ§æ—¥å¿—ç¥å™¨ï¼‰ã€‚</span><br><span class="line">$ tail -f /var/log/syslog  # å®æ—¶æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—</span><br></pre></td></tr></table></figure>

<h4 id="2-2-2-æœç´¢å·¥å…·ï¼ˆgrepã€findï¼‰"><a href="#2-2-2-æœç´¢å·¥å…·ï¼ˆgrepã€findï¼‰" class="headerlink" title="2.2.2 æœç´¢å·¥å…·ï¼ˆgrepã€findï¼‰"></a>2.2.2 æœç´¢å·¥å…·ï¼ˆ<code>grep</code>ã€<code>find</code>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grep [é€‰é¡¹] å…³é”®è¯ æ–‡ä»¶åï¼šåœ¨æ–‡ä»¶ä¸­æœç´¢å…³é”®è¯ï¼ˆæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚</span><br><span class="line">$ grep -n &quot;error&quot; app.log  # æ˜¾ç¤º app.log ä¸­åŒ…å« &quot;error&quot; çš„è¡ŒåŠè¡Œå·</span><br><span class="line">$ grep -E &quot;http|https&quot; urls.txt  # ç”¨æ­£åˆ™åŒ¹é… &quot;http&quot; æˆ– &quot;https&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find è·¯å¾„ [æ¡ä»¶] [æ“ä½œ]ï¼šé€’å½’æœç´¢ç›®å½•ä¸‹çš„æ–‡ä»¶/ç›®å½•ï¼ˆæ”¯æŒæŒ‰åç§°ã€ç±»å‹ã€æ—¶é—´ç­‰è¿‡æ»¤ï¼‰ã€‚</span><br><span class="line">$ find /usr/include -name &quot;stdio.h&quot;  # åœ¨ /usr/include ç›®å½•ä¸‹æŸ¥æ‰¾ stdio.h</span><br><span class="line">$ find . -type d -name &quot;test&quot;        # åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾åä¸º test çš„ç›®å½•</span><br><span class="line">$ find . -mtime -7                   # æŸ¥æ‰¾æœ€è¿‘ 7 å¤©å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-å‘½ä»¤ç»„åˆï¼šè®©æ•ˆç‡ç¿»å€"><a href="#2-2-3-å‘½ä»¤ç»„åˆï¼šè®©æ•ˆç‡ç¿»å€" class="headerlink" title="2.2.3 å‘½ä»¤ç»„åˆï¼šè®©æ•ˆç‡ç¿»å€"></a>2.2.3 å‘½ä»¤ç»„åˆï¼šè®©æ•ˆç‡ç¿»å€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">;ï¼šé¡ºåºæ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼ˆå‰ä¸€ä¸ªå¤±è´¥ä¸å½±å“åä¸€ä¸ªï¼‰ã€‚</span><br><span class="line">$ mkdir backup; cp data.txt backup/  # å…ˆåˆ›å»º backup ç›®å½•ï¼Œå†å¤åˆ¶æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">|ï¼šç®¡é“ï¼ˆå°†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ï¼‰ã€‚</span><br><span class="line">$ ps aux | grep &quot;nginx&quot;  # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ï¼Œç­›é€‰å‡ºåŒ…å« &quot;nginx&quot; çš„è¿›ç¨‹</span><br><span class="line">$ cat large.log | grep &quot;ERROR&quot; | wc -l  # ç»Ÿè®¡æ—¥å¿—ä¸­ &quot;ERROR&quot; å‡ºç°çš„æ¬¡æ•°</span><br><span class="line"></span><br><span class="line">&amp;&amp;ï¼šå‰ä¸€ä¸ªå‘½ä»¤æˆåŠŸåˆ™æ‰§è¡Œåä¸€ä¸ªï¼ˆ || å‰ä¸€ä¸ªå¤±è´¥åˆ™æ‰§è¡Œåä¸€ä¸ªï¼‰ã€‚</span><br><span class="line">$ make &amp;&amp; make install  # ç¼–è¯‘æˆåŠŸåæ‰æ‰§è¡Œå®‰è£…</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-3-æƒé™ç®¡ç†ï¼šæ§åˆ¶èµ„æºçš„â€œé’¥åŒ™â€"><a href="#2-3-æƒé™ç®¡ç†ï¼šæ§åˆ¶èµ„æºçš„â€œé’¥åŒ™â€" class="headerlink" title="2.3 æƒé™ç®¡ç†ï¼šæ§åˆ¶èµ„æºçš„â€œé’¥åŒ™â€"></a>2.3 æƒé™ç®¡ç†ï¼šæ§åˆ¶èµ„æºçš„â€œé’¥åŒ™â€</h3><p>Linux æ˜¯å¤šç”¨æˆ·ç³»ç»Ÿï¼Œæƒé™ç®¡ç†æ˜¯æ ¸å¿ƒå®‰å…¨æœºåˆ¶ã€‚æ¯ä¸ªæ–‡ä»¶&#x2F;ç›®å½•æœ‰<strong>ä¸‰ç±»æƒé™</strong>ï¼ˆç”¨æˆ·ã€ç»„ã€å…¶ä»–ç”¨æˆ·ï¼‰ï¼Œé€šè¿‡ <code>rwx</code>ï¼ˆè¯»ã€å†™ã€æ‰§è¡Œï¼‰æ§åˆ¶ã€‚</p>
<h4 id="2-3-1-æƒé™åŸºç¡€ï¼šrwx-çš„å«ä¹‰"><a href="#2-3-1-æƒé™åŸºç¡€ï¼šrwx-çš„å«ä¹‰" class="headerlink" title="2.3.1 æƒé™åŸºç¡€ï¼šrwx çš„å«ä¹‰"></a>2.3.1 æƒé™åŸºç¡€ï¼šrwx çš„å«ä¹‰</h4><table>
<thead>
<tr>
<th>æƒé™ç±»å‹</th>
<th>å¯¹æ–‡ä»¶çš„å«ä¹‰</th>
<th>å¯¹ç›®å½•çš„å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>r</code>ï¼ˆReadï¼‰</td>
<td>å…è®¸è¯»å–æ–‡ä»¶å†…å®¹</td>
<td>å…è®¸åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶&#x2F;å­ç›®å½•</td>
</tr>
<tr>
<td><code>w</code>ï¼ˆWriteï¼‰</td>
<td>å…è®¸ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆåˆ é™¤éœ€é…åˆç›®å½•å†™æƒé™ï¼‰</td>
<td>å…è®¸åœ¨ç›®å½•ä¸­æ–°å»º&#x2F;åˆ é™¤&#x2F;é‡å‘½åæ–‡ä»¶</td>
</tr>
<tr>
<td><code>x</code>ï¼ˆExecuteï¼‰</td>
<td>å…è®¸æ‰§è¡Œæ–‡ä»¶ï¼ˆè„šæœ¬æˆ–å¯æ‰§è¡Œç¨‹åºï¼‰</td>
<td>å…è®¸è¿›å…¥ç›®å½•ï¼ˆ<code>cd</code>ï¼‰æˆ–è®¿é—®ç›®å½•å…ƒæ•°æ®</td>
</tr>
</tbody></table>
<p><strong>ç¤ºä¾‹</strong>ï¼š<code>-rwxr-xr--</code> è¡¨ç¤ºï¼š</p>
<ul>
<li>æ‰€æœ‰è€…ï¼ˆUserï¼‰ï¼šè¯»ã€å†™ã€æ‰§è¡Œï¼ˆ<code>rwx</code>ï¼‰ï¼›</li>
<li>æ‰€å±ç»„ï¼ˆGroupï¼‰ï¼šè¯»ã€æ‰§è¡Œï¼ˆ<code>r-x</code>ï¼‰ï¼›</li>
<li>å…¶ä»–ç”¨æˆ·ï¼ˆOthersï¼‰ï¼šåªè¯»ï¼ˆ<code>r--</code>ï¼‰ã€‚</li>
</ul>
<h4 id="2-3-2-ä¿®æ”¹æƒé™ï¼šchmod-å‘½ä»¤"><a href="#2-3-2-ä¿®æ”¹æƒé™ï¼šchmod-å‘½ä»¤" class="headerlink" title="2.3.2 ä¿®æ”¹æƒé™ï¼šchmod å‘½ä»¤"></a>2.3.2 ä¿®æ”¹æƒé™ï¼š<code>chmod</code> å‘½ä»¤</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">`chmod` ç”¨äºä¿®æ”¹æ–‡ä»¶/ç›®å½•çš„æƒé™ï¼Œæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š</span><br><span class="line"></span><br><span class="line">  æ•°å­—æ¨¡å¼ï¼šå°† rwx è½¬æ¢ä¸ºå…«è¿›åˆ¶æ•°ï¼ˆ r=4ï¼Œw=2 ,x=1ï¼Œæ— æƒé™=0ï¼‰ï¼Œä¸‰ç±»æƒé™å€¼ç›¸åŠ ã€‚</span><br><span class="line">  $ chmod 755 script.sh  # æ‰€æœ‰è€… 7ï¼ˆ4+2+1=rwxï¼‰ï¼Œç»„å’Œå…¶ä»– 5ï¼ˆ4+1=r-xï¼‰</span><br><span class="line">  </span><br><span class="line">  ç¬¦å·æ¨¡å¼ï¼šé€šè¿‡ ç”¨æˆ·ç±»åˆ«[+=-]æƒé™çµæ´»è°ƒæ•´ã€‚</span><br><span class="line">  $ chmod u+w,g-r,o=x file.txt  # æ‰€æœ‰è€…åŠ å†™æƒé™ï¼Œç»„å»è¯»æƒé™ï¼Œå…¶ä»–è®¾ä¸ºæ‰§è¡Œ</span><br><span class="line">  $ chmod a+x script.sh         # æ‰€æœ‰ç”¨æˆ·åŠ æ‰§è¡Œæƒé™ï¼ˆa=æ‰€æœ‰ï¼‰</span><br></pre></td></tr></table></figure>
<h4 id="2-3-3-é»˜è®¤æƒé™ï¼šumask-å‘½ä»¤"><a href="#2-3-3-é»˜è®¤æƒé™ï¼šumask-å‘½ä»¤" class="headerlink" title="2.3.3 é»˜è®¤æƒé™ï¼šumask å‘½ä»¤"></a>2.3.3 é»˜è®¤æƒé™ï¼š<code>umask</code> å‘½ä»¤</h4><p><code>umask</code> æ§åˆ¶æ–°å»ºæ–‡ä»¶&#x2F;ç›®å½•çš„é»˜è®¤æƒé™ï¼ˆé»˜è®¤å€¼ä¸º <code>022</code>ï¼‰ï¼š</p>
<ul>
<li>ç›®å½•é»˜è®¤æƒé™ &#x3D; <code>777 - umask</code>ï¼ˆå¦‚ <code>umask 022</code>ï¼Œåˆ™ç›®å½•æƒé™ <code>755</code>ï¼‰ï¼›</li>
<li>æ–‡ä»¶é»˜è®¤æƒé™ &#x3D; <code>666 - umask</code>ï¼ˆå¦‚ <code>umask 022</code>ï¼Œåˆ™æ–‡ä»¶æƒé™ <code>644</code>ï¼‰ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ umask 007  # è®¾ç½®æ–°å»ºæ–‡ä»¶æƒé™ 660ï¼ˆ666-007ï¼‰ï¼Œç›®å½•æƒé™ 770ï¼ˆ777-007ï¼‰</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ä¸‰ã€æ–‡ä»¶ç³»ç»Ÿï¼šæ•°æ®çš„â€œç»„ç»‡è“å›¾â€"><a href="#ä¸‰ã€æ–‡ä»¶ç³»ç»Ÿï¼šæ•°æ®çš„â€œç»„ç»‡è“å›¾â€" class="headerlink" title="ä¸‰ã€æ–‡ä»¶ç³»ç»Ÿï¼šæ•°æ®çš„â€œç»„ç»‡è“å›¾â€"></a>ä¸‰ã€æ–‡ä»¶ç³»ç»Ÿï¼šæ•°æ®çš„â€œç»„ç»‡è“å›¾â€</h2><p>Linux æ–‡ä»¶ç³»ç»Ÿé‡‡ç”¨<strong>æ ‘å½¢ç»“æ„</strong>ï¼ˆæ ¹ç›®å½• <code>/</code> ä¸ºèµ·ç‚¹ï¼‰ï¼Œæ‰€æœ‰æ–‡ä»¶&#x2F;ç›®å½•å‡æŒ‚è½½åœ¨è¿™æ£µâ€œæ ‘â€ä¸‹ã€‚è¦æ·±å…¥ç†è§£æ–‡ä»¶ç³»ç»Ÿï¼Œéœ€æŒæ¡ä»¥ä¸‹æ ¸å¿ƒæ¦‚å¿µï¼š</p>
<hr>
<h3 id="3-1-Inodeï¼šæ–‡ä»¶çš„â€œèº«ä»½è¯â€"><a href="#3-1-Inodeï¼šæ–‡ä»¶çš„â€œèº«ä»½è¯â€" class="headerlink" title="3.1 Inodeï¼šæ–‡ä»¶çš„â€œèº«ä»½è¯â€"></a>3.1 Inodeï¼šæ–‡ä»¶çš„â€œèº«ä»½è¯â€</h3><p>Inodeï¼ˆç´¢å¼•èŠ‚ç‚¹ï¼‰æ˜¯ Linux æ–‡ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œå­˜å‚¨æ–‡ä»¶çš„<strong>å…ƒæ•°æ®</strong>ï¼ˆéæ–‡ä»¶å†…å®¹ï¼‰ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ–‡ä»¶ç±»å‹ï¼ˆæ™®é€šæ–‡ä»¶ã€ç›®å½•ã€ç¬¦å·é“¾æ¥ç­‰ï¼‰ï¼›</li>
<li>æƒé™ï¼ˆ<code>rwx</code>ï¼‰ã€ç¡¬é“¾æ¥æ•°ï¼›</li>
<li>æ‰€æœ‰è€…ï¼ˆUserï¼‰ã€æ‰€å±ç»„ï¼ˆGroupï¼‰ï¼›</li>
<li>æ–‡ä»¶å¤§å°ã€æœ€åä¿®æ”¹æ—¶é—´ï¼›</li>
<li>æ•°æ®å—æŒ‡é’ˆï¼ˆæŒ‡å‘æ–‡ä»¶å†…å®¹å­˜å‚¨çš„ç£ç›˜ä½ç½®ï¼‰ã€‚</li>
</ul>
<h4 id="æŸ¥çœ‹-Inode-ä¿¡æ¯ï¼š"><a href="#æŸ¥çœ‹-Inode-ä¿¡æ¯ï¼š" class="headerlink" title="æŸ¥çœ‹ Inode ä¿¡æ¯ï¼š"></a>æŸ¥çœ‹ Inode ä¿¡æ¯ï¼š</h4><ul>
<li><code>ls -i æ–‡ä»¶å</code>ï¼šæ˜¾ç¤ºæ–‡ä»¶çš„ Inode ç¼–å·ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ls -i hello.txt  # è¾“å‡ºï¼š12345 hello.txtï¼ˆ12345 æ˜¯ Inode å·ï¼‰</span><br></pre></td></tr></table></figure>
<ul>
<li><code>stat æ–‡ä»¶å</code>ï¼šæ˜¾ç¤º Inode çš„è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ•°æ®å—ä½ç½®ã€æ—¶é—´æˆ³ç­‰ï¼‰ã€‚<br><strong>å…³é”®ç»“è®º</strong>ï¼šæ–‡ä»¶å†…å®¹å­˜å‚¨åœ¨æ•°æ®å—ä¸­ï¼ŒInode å­˜å‚¨â€œå¦‚ä½•æ‰¾åˆ°æ•°æ®å—â€çš„ä¿¡æ¯ã€‚åˆ é™¤æ–‡ä»¶æ—¶ï¼Œå®é™…æ˜¯åˆ é™¤ Inode ä¸æ•°æ®å—çš„å…³è”ï¼ˆæ•°æ®å—ä¸ä¼šç«‹å³è¢«è¦†ç›–ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="3-2-è½¯ç¡¬é“¾æ¥ï¼šæ–‡ä»¶çš„â€œåˆ«åâ€ä¸â€œå…‹éš†â€"><a href="#3-2-è½¯ç¡¬é“¾æ¥ï¼šæ–‡ä»¶çš„â€œåˆ«åâ€ä¸â€œå…‹éš†â€" class="headerlink" title="3.2 è½¯ç¡¬é“¾æ¥ï¼šæ–‡ä»¶çš„â€œåˆ«åâ€ä¸â€œå…‹éš†â€"></a>3.2 è½¯ç¡¬é“¾æ¥ï¼šæ–‡ä»¶çš„â€œåˆ«åâ€ä¸â€œå…‹éš†â€</h3><p>é“¾æ¥ï¼ˆLinkï¼‰æ˜¯ Inode çš„â€œå¿«æ·æ–¹å¼â€ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç‰¹ç‚¹</th>
<th>ç¤ºä¾‹å‘½ä»¤</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ç¡¬é“¾æ¥</strong></td>
<td>ä¸åŸæ–‡ä»¶å…±äº«åŒä¸€ä¸ª Inodeï¼Œåˆ é™¤åŸæ–‡ä»¶ä¸å½±å“ç¡¬é“¾æ¥ï¼ˆéœ€è‡³å°‘ä¸€ä¸ªç¡¬é“¾æ¥å­˜åœ¨ï¼‰</td>
<td><code>ln åŸæ–‡ä»¶ ç¡¬é“¾æ¥å</code></td>
</tr>
<tr>
<td><strong>è½¯é“¾æ¥</strong></td>
<td>ç‹¬ç«‹æ–‡ä»¶ï¼Œå­˜å‚¨åŸæ–‡ä»¶çš„è·¯å¾„ï¼ˆç±»ä¼¼ Windows å¿«æ·æ–¹å¼ï¼‰ï¼ŒåŸæ–‡ä»¶åˆ é™¤åå¤±æ•ˆ</td>
<td><code>ln -s åŸæ–‡ä»¶è·¯å¾„ è½¯é“¾æ¥å</code></td>
</tr>
</tbody></table>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ln data.txt hard_link.txt  # åˆ›å»º data.txt çš„ç¡¬é“¾æ¥ hard_link.txt</span><br><span class="line">$ ln -s /home/user/data.txt soft_link.txt  # åˆ›å»ºè½¯é“¾æ¥ soft_link.txt</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="3-3-è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ï¼šç»Ÿä¸€å­˜å‚¨çš„â€œé­”æ³•æ¡¥æ¢â€"><a href="#3-3-è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ï¼šç»Ÿä¸€å­˜å‚¨çš„â€œé­”æ³•æ¡¥æ¢â€" class="headerlink" title="3.3 è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ï¼šç»Ÿä¸€å­˜å‚¨çš„â€œé­”æ³•æ¡¥æ¢â€"></a>3.3 è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ï¼šç»Ÿä¸€å­˜å‚¨çš„â€œé­”æ³•æ¡¥æ¢â€</h3><p>Linux æ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ ext4ã€XFSã€NTFSï¼‰ï¼Œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰æ˜¯å®ƒä»¬çš„â€œç»Ÿä¸€æ¥å£â€ã€‚VFS å®šä¹‰äº†ä¸€å¥—é€šç”¨æ“ä½œï¼ˆå¦‚ <code>open</code>ã€<code>read</code>ï¼‰ï¼Œä¸åŒæ–‡ä»¶ç³»ç»Ÿå®ç°è¿™äº›æ“ä½œçš„å…·ä½“é€»è¾‘ã€‚</p>
<p><strong>ä½œç”¨</strong>ï¼šç”¨æˆ·æ— éœ€å…³å¿ƒåº•å±‚æ˜¯ ext4 è¿˜æ˜¯ NTFSï¼Œåªéœ€é€šè¿‡ç»Ÿä¸€çš„ç³»ç»Ÿè°ƒç”¨æ“ä½œæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼ŒæŒ‚è½½ U ç›˜ï¼ˆNTFS æ ¼å¼ï¼‰åï¼Œå¯ç›´æ¥ç”¨ <code>cd</code>ã€<code>ls</code> è®¿é—®ï¼ŒVFS ä¼šè‡ªåŠ¨è°ƒç”¨ NTFS é©±åŠ¨å¤„ç†è¯·æ±‚ã€‚</p>
<hr>
<h2 id="å››ã€Vim-ç¼–è¾‘å™¨ï¼šæ–‡æœ¬å¤„ç†çš„â€œæ•ˆç‡ç¥å™¨â€"><a href="#å››ã€Vim-ç¼–è¾‘å™¨ï¼šæ–‡æœ¬å¤„ç†çš„â€œæ•ˆç‡ç¥å™¨â€" class="headerlink" title="å››ã€Vim ç¼–è¾‘å™¨ï¼šæ–‡æœ¬å¤„ç†çš„â€œæ•ˆç‡ç¥å™¨â€"></a>å››ã€Vim ç¼–è¾‘å™¨ï¼šæ–‡æœ¬å¤„ç†çš„â€œæ•ˆç‡ç¥å™¨â€</h2><p>Vim æ˜¯ Linux ä¸‹ç»å…¸çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä»¥â€œæ¨¡å¼åŒ–æ“ä½œâ€å’Œâ€œé«˜æ•ˆç¼–è¾‘â€è‘—ç§°ã€‚æŒæ¡ Vim èƒ½å¤§å¹…æå‡æ–‡æœ¬å¤„ç†æ•ˆç‡ã€‚</p>
<hr>
<h3 id="4-1-æ¨¡å¼ä¸åŸºæœ¬æ“ä½œ"><a href="#4-1-æ¨¡å¼ä¸åŸºæœ¬æ“ä½œ" class="headerlink" title="4.1 æ¨¡å¼ä¸åŸºæœ¬æ“ä½œ"></a>4.1 æ¨¡å¼ä¸åŸºæœ¬æ“ä½œ</h3><p>Vim æœ‰ä¸‰ç§æ ¸å¿ƒæ¨¡å¼ï¼š</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>åŠŸèƒ½</th>
<th>åˆ‡æ¢æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ™®é€šæ¨¡å¼</strong></td>
<td>è¾“å…¥å‘½ä»¤ï¼ˆç§»åŠ¨å…‰æ ‡ã€åˆ é™¤æ–‡æœ¬ã€å¤åˆ¶ç²˜è´´ç­‰ï¼‰</td>
<td>å¯åŠ¨ Vim é»˜è®¤è¿›å…¥æ­¤æ¨¡å¼</td>
</tr>
<tr>
<td><strong>æ’å…¥æ¨¡å¼</strong></td>
<td>è¾“å…¥æ–‡æœ¬å†…å®¹</td>
<td>æŒ‰ <code>i</code>ï¼ˆå½“å‰ä½ç½®ï¼‰ã€<code>a</code>ï¼ˆå…‰æ ‡åï¼‰ã€<code>o</code>ï¼ˆä¸‹ä¸€è¡Œï¼‰ç­‰è¿›å…¥</td>
</tr>
<tr>
<td><strong>å‘½ä»¤æ¨¡å¼</strong></td>
<td>æ‰§è¡Œä¿å­˜ã€é€€å‡ºã€æŸ¥æ‰¾æ›¿æ¢ç­‰å…¨å±€å‘½ä»¤</td>
<td>æŒ‰ <code>:</code> è¿›å…¥ï¼ˆå¦‚ <code>:wq</code> ä¿å­˜é€€å‡ºï¼‰</td>
</tr>
</tbody></table>
<h4 id="å¸¸ç”¨æ“ä½œç¤ºä¾‹ï¼š"><a href="#å¸¸ç”¨æ“ä½œç¤ºä¾‹ï¼š" class="headerlink" title="å¸¸ç”¨æ“ä½œç¤ºä¾‹ï¼š"></a>å¸¸ç”¨æ“ä½œç¤ºä¾‹ï¼š</h4><ul>
<li>æ‰“å¼€&#x2F;åˆ›å»ºæ–‡ä»¶ï¼š<code>vim æ–‡ä»¶å</code>ï¼ˆå¦‚ <code>vim test.txt</code>ï¼‰ï¼›</li>
<li>ç§»åŠ¨å…‰æ ‡ï¼š<code>h</code>ï¼ˆå·¦ï¼‰ã€<code>j</code>ï¼ˆä¸‹ï¼‰ã€<code>k</code>ï¼ˆä¸Šï¼‰ã€<code>l</code>ï¼ˆå³ï¼‰ï¼›</li>
<li>å¤åˆ¶ç²˜è´´ï¼š<code>yy</code>ï¼ˆå¤åˆ¶å½“å‰è¡Œï¼‰ã€<code>p</code>ï¼ˆç²˜è´´åˆ°å…‰æ ‡ä¸‹ä¸€è¡Œï¼‰ï¼›</li>
<li>åˆ é™¤æ–‡æœ¬ï¼š<code>dd</code>ï¼ˆåˆ é™¤å½“å‰è¡Œï¼‰ã€<code>dw</code>ï¼ˆåˆ é™¤å½“å‰å•è¯ï¼‰ï¼›</li>
<li>ä¿å­˜é€€å‡ºï¼š<code>:w</code>ï¼ˆä¿å­˜ï¼‰ã€<code>:q</code>ï¼ˆé€€å‡ºï¼‰ã€<code>:wq</code>ï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰ã€&#96;:q!</li>
</ul>
<blockquote>
<p>æœªå®Œå¾…ç»­â€¦â€¦</p>
</blockquote>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ç³»ç»Ÿè°ƒç”¨</tag>
        <tag>shellå‘½ä»¤</tag>
        <tag>åº“å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 0.11ï¼ˆä¸€ï¼‰ï¼šè¿›å…¥å†…æ ¸å‰çš„åº•å±‚æœºåˆ¶å‰–æ</title>
    <url>/posts/c0ee3b8d/</url>
    <content><![CDATA[<img src="/img/PageCode/28.png" alt="è¿›å…¥å†…æ ¸å‰çš„è‹¦åŠ›æ´»" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

<hr>
<h2 id="å¯¼è¨€"><a href="#å¯¼è¨€" class="headerlink" title="å¯¼è¨€"></a>å¯¼è¨€</h2><p>åœ¨æ“ä½œç³»ç»Ÿçš„æ¼”è¿›å†ç¨‹ä¸­ï¼ŒLinux 0.11ä½œä¸ºç»å…¸ç‰ˆæœ¬ï¼Œå…¶å¯åŠ¨è¿‡ç¨‹è•´å«ç€æ·±åˆ»çš„åº•å±‚è®¾è®¡å“²å­¦ã€‚ä»è®¡ç®—æœºé€šç”µåˆ°å†…æ ¸æ­£å¼æ¥ç®¡ç³»ç»Ÿï¼Œè¿™ä¸€é˜¶æ®µæ¶‰åŠç¡¬ä»¶åˆå§‹åŒ–ã€å®æ¨¡å¼ä¸ä¿æŠ¤æ¨¡å¼åˆ‡æ¢ã€å†…å­˜é‡å®šä½ç­‰æ ¸å¿ƒç¯èŠ‚ï¼Œæ¯ä¸€æ­¥éƒ½å ªç§°ç°ä»£æ“ä½œç³»ç»Ÿå¯åŠ¨æµç¨‹çš„ç¼©å½±ã€‚é€šè¿‡å¯¹ã€Šä½ ç®¡è¿™ç ´ç©æ„å«æ“ä½œç³»ç»Ÿæºç ã€‹ç»å…¸GitHubä»“åº“å­¦ä¹ ä¸è‡ªæˆ‘è¡¥å……ï¼Œäº†è§£Linux 0.11å†…æ ¸å‰çš„å…³é”®æ­¥éª¤ã€‚</p>
<hr>
<h2 id="ä¸€ã€BIOSå¼•å¯¼ï¼šç¡¬ä»¶æ£€æµ‹ä¸æ§åˆ¶æƒç§»äº¤"><a href="#ä¸€ã€BIOSå¼•å¯¼ï¼šç¡¬ä»¶æ£€æµ‹ä¸æ§åˆ¶æƒç§»äº¤" class="headerlink" title="ä¸€ã€BIOSå¼•å¯¼ï¼šç¡¬ä»¶æ£€æµ‹ä¸æ§åˆ¶æƒç§»äº¤"></a>ä¸€ã€BIOSå¼•å¯¼ï¼šç¡¬ä»¶æ£€æµ‹ä¸æ§åˆ¶æƒç§»äº¤</h2><p>å½“x86æ¶æ„è®¡ç®—æœºé€šç”µåï¼ŒCPUè‡ªåŠ¨è¿›å…¥<strong>å®æ¨¡å¼</strong>ï¼ˆReal Modeï¼‰ï¼Œå¹¶ä»ç‰©ç†åœ°å€<code>0xFFFF0</code>å¼€å§‹æ‰§è¡ŒæŒ‡ä»¤ã€‚è¯¥åœ°å€å¯¹åº”ä¸»æ¿ä¸Šçš„<strong>ROM BIOS</strong>ï¼ˆBasic Input&#x2F;Output Systemï¼‰åŒºåŸŸï¼ŒBIOSéšå³æ‰§è¡Œä»¥ä¸‹æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ol>
<li><strong>ç¡¬ä»¶è‡ªæ£€ï¼ˆPOSTï¼‰</strong>ï¼šå¯¹CPUã€å†…å­˜ã€ç¡¬ç›˜ã€ä¸»æ¿èŠ¯ç‰‡ç»„ç­‰ç¡¬ä»¶è¿›è¡Œå®Œæ•´æ€§æ£€æµ‹ï¼Œè‹¥å‘ç°æ•…éšœåˆ™é€šè¿‡èœ‚é¸£å™¨æˆ–é”™è¯¯ä»£ç æç¤ºï¼›</li>
<li><strong>ä¸­æ–­å‘é‡åˆå§‹åŒ–</strong>ï¼šåœ¨å†…å­˜ç‰©ç†åœ°å€<code>0</code>å¤„æ„å»º<strong>ä¸­æ–­å‘é‡è¡¨</strong>ï¼ˆInterrupt Vector Tableï¼ŒIVTï¼‰ï¼Œä¸ºç³»ç»Ÿå“åº”å¤–éƒ¨äº‹ä»¶ï¼ˆå¦‚é”®ç›˜è¾“å…¥ã€ç£ç›˜è¯»å†™ï¼‰æä¾›åŸºç¡€ï¼›</li>
<li><strong>å¼•å¯¼è®¾å¤‡è¯†åˆ«</strong>ï¼šæŒ‰é¢„è®¾é¡ºåºï¼ˆå¦‚è½¯é©±â†’ç¡¬ç›˜â†’Uç›˜ï¼‰æ‰«æå¯å¼•å¯¼è®¾å¤‡ï¼Œå°†è®¾å¤‡é¦–ä¸ªæ‰‡åŒºï¼ˆ512å­—èŠ‚ï¼Œå³<strong>ä¸»å¼•å¯¼è®°å½•MBR</strong>ï¼‰åŠ è½½è‡³å†…å­˜<code>0x7c00</code>åœ°å€ã€‚</li>
</ol>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼ŒBIOSé€šè¿‡<code>jmp 0x7c00</code>æŒ‡ä»¤å°†æ§åˆ¶æƒè½¬ç§»è‡³MBRä¸­çš„å¼•å¯¼ç¨‹åºï¼Œæ ‡å¿—ç€Linux 0.11å¯åŠ¨æµç¨‹æ­£å¼å¼€å§‹ã€‚</p>
<hr>
<h2 id="äºŒã€bootsect-sï¼šæ—©æœŸåŠ è½½ä¸å†…æ ¸æ¬è¿"><a href="#äºŒã€bootsect-sï¼šæ—©æœŸåŠ è½½ä¸å†…æ ¸æ¬è¿" class="headerlink" title="äºŒã€bootsect.sï¼šæ—©æœŸåŠ è½½ä¸å†…æ ¸æ¬è¿"></a>äºŒã€bootsect.sï¼šæ—©æœŸåŠ è½½ä¸å†…æ ¸æ¬è¿</h2><p>Linux 0.11çš„<strong>å¼•å¯¼æ‰‡åŒºç¨‹åºbootsect.s</strong>è¢«åŠ è½½åˆ°<code>0x7c00</code>åï¼Œæ‰§è¡Œä»¥ä¸‹å…³é”®æ“ä½œï¼š</p>
<ol>
<li><strong>è‡ªæˆ‘é‡å®šä½</strong>ï¼šé€šè¿‡æ±‡ç¼–æŒ‡ä»¤å°†è‡ªèº«ä»£ç ä»<code>0x7c00</code>ç§»åŠ¨è‡³<code>0x90000</code>ï¼ˆ576KBï¼‰ï¼Œä¸ºåç»­åŠ è½½è…¾å‡ºä½åœ°å€ç©ºé—´ã€‚è¯¥æ“ä½œåˆ©ç”¨äº†å®æ¨¡å¼ä¸‹çš„ç›´æ¥å†…å­˜è®¿é—®ç‰¹æ€§ï¼›</li>
<li><strong>åŠ è½½setup.s</strong>ï¼šä»ç£ç›˜è¯»å–åç»­2KBä»£ç ï¼ˆå³<code>setup.s</code>ï¼‰è‡³å†…å­˜<code>0x90200</code>ï¼Œå¹¶åœ¨å±å¹•æ˜¾ç¤º<code>Loading...</code>æç¤ºä¿¡æ¯ï¼›</li>
<li><strong>åŠ è½½å†…æ ¸ä¸»ä½“</strong>ï¼šå°†å†…æ ¸çš„<code>system</code>æ¨¡å—ï¼ˆåŒ…å«å†…æ ¸ä»£ç ä¸æ•°æ®ï¼‰ä»ç£ç›˜è¯»å…¥å†…å­˜<code>0x10000</code>å¤„ã€‚ç”±äºæ—©æœŸLinux 0.11å†…æ ¸å¤§å°ä¸è¶…è¿‡512KBï¼Œå› æ­¤ä¸ä¼šè¦†ç›–<code>bootsect.s</code>ä¸<code>setup.s</code>æ‰€åœ¨åŒºåŸŸã€‚</li>
</ol>
<p>è¿™ä¸€é˜¶æ®µé‡‡ç”¨<strong>ç›´æ¥ç£ç›˜è¯»å–</strong>æ–¹å¼ï¼Œä¾èµ–BIOSæä¾›çš„ä¸­æ–­æœåŠ¡ï¼ˆå¦‚<code>int 13h</code>ç£ç›˜è¯»å†™ä¸­æ–­ï¼‰ï¼Œä½“ç°äº†æ—©æœŸæ“ä½œç³»ç»Ÿå¯¹ç¡¬ä»¶èµ„æºçš„ç›´æ¥æ“æ§ç‰¹æ€§ã€‚</p>
<hr>
<h2 id="ä¸‰ã€setup-sï¼šç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–"><a href="#ä¸‰ã€setup-sï¼šç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–" class="headerlink" title="ä¸‰ã€setup.sï¼šç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–"></a>ä¸‰ã€setup.sï¼šç³»ç»Ÿç¯å¢ƒåˆå§‹åŒ–</h2><p><code>setup.s</code>ç¨‹åºè¢«åŠ è½½åï¼Œæ‰¿æ‹…èµ·<strong>ç³»ç»Ÿç¯å¢ƒé…ç½®</strong>çš„æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ol>
<li><strong>å†…æ ¸é‡å®šä½</strong>ï¼šå°†ä½äº<code>0x10000</code>çš„<code>system</code>æ¨¡å—æ•´ä½“ç§»åŠ¨è‡³ç‰©ç†åœ°å€<code>0x00000</code>ï¼Œä½¿å†…æ ¸ä»£ç åœ°å€ä¸ç‰©ç†åœ°å€å¯¹é½ï¼Œç®€åŒ–åç»­å†…å­˜ç®¡ç†æ“ä½œï¼›</li>
<li><strong>ç¡¬ä»¶ä¿¡æ¯é‡‡é›†</strong>ï¼š<ul>
<li>é€šè¿‡è¯»å–CMOSå¯„å­˜å™¨è·å–<strong>å†…å­˜å®¹é‡</strong>ï¼›</li>
<li>è§£ææ˜¾å¡BIOSè·å–<strong>æ˜¾ç¤ºæ¨¡å¼</strong>ä¿¡æ¯ï¼›</li>
<li>æ£€æµ‹é”®ç›˜ã€ç¡¬ç›˜ç­‰è®¾å¤‡å‚æ•°ã€‚</li>
</ul>
</li>
<li><strong>å¯åŠ¨å‚æ•°ä¼ é€’</strong>ï¼šå°†é‡‡é›†åˆ°çš„ç¡¬ä»¶ä¿¡æ¯å­˜å‚¨è‡³ç‰¹å®šå†…å­˜åŒºåŸŸï¼Œä¾›åç»­å†…æ ¸åˆå§‹åŒ–ä½¿ç”¨ã€‚</li>
</ol>
<p>æ­¤é˜¶æ®µçš„å†…å­˜ç§»åŠ¨æ“ä½œé‡‡ç”¨é€å­—èŠ‚å¤åˆ¶æ–¹å¼ï¼Œç¡¬ä»¶æ£€æµ‹åˆ™ä¾èµ–x86æ¶æ„çš„ç‰¹å®šç«¯å£è¯»å†™æŒ‡ä»¤ï¼ˆå¦‚è¯»å–CMOSå¯„å­˜å™¨éœ€è®¿é—®<code>0x70</code>ã€<code>0x71</code>ç«¯å£ï¼‰ï¼Œå±•ç°äº†å¯¹åº•å±‚ç¡¬ä»¶çš„ç²¾å‡†æ§åˆ¶èƒ½åŠ›ã€‚</p>
<hr>
<h2 id="å››ã€head-sï¼šä¿æŠ¤æ¨¡å¼åˆ‡æ¢ä¸å†…æ ¸å‡†å¤‡"><a href="#å››ã€head-sï¼šä¿æŠ¤æ¨¡å¼åˆ‡æ¢ä¸å†…æ ¸å‡†å¤‡" class="headerlink" title="å››ã€head.sï¼šä¿æŠ¤æ¨¡å¼åˆ‡æ¢ä¸å†…æ ¸å‡†å¤‡"></a>å››ã€head.sï¼šä¿æŠ¤æ¨¡å¼åˆ‡æ¢ä¸å†…æ ¸å‡†å¤‡</h2><p><code>head.s</code>ä½œä¸ºä»å®æ¨¡å¼å‘<strong>ä¿æŠ¤æ¨¡å¼</strong>ï¼ˆProtected Modeï¼‰è¿‡æ¸¡çš„å…³é”®ç¨‹åºï¼Œæ‰§è¡Œä»¥ä¸‹æ ¸å¿ƒæ­¥éª¤ï¼š</p>
<h3 id="ï¼ˆä¸€ï¼‰å†…å­˜é‡å®šä½ä¸åˆ†é¡µåˆå§‹åŒ–"><a href="#ï¼ˆä¸€ï¼‰å†…å­˜é‡å®šä½ä¸åˆ†é¡µåˆå§‹åŒ–" class="headerlink" title="ï¼ˆä¸€ï¼‰å†…å­˜é‡å®šä½ä¸åˆ†é¡µåˆå§‹åŒ–"></a>ï¼ˆä¸€ï¼‰å†…å­˜é‡å®šä½ä¸åˆ†é¡µåˆå§‹åŒ–</h3><ol>
<li><strong>é€»è¾‘åœ°å€æ˜ å°„</strong>ï¼šé€šè¿‡æ„å»º<strong>é¡µè¡¨</strong>å®ç°é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„é—´æ¥æ˜ å°„ï¼Œæ— éœ€ç‰©ç†ç§»åŠ¨ä»£ç å³å¯å®ç°åœ°å€ç©ºé—´é‡å¸ƒå±€ï¼›</li>
<li><strong>åˆ†é¡µæœºåˆ¶æ¿€æ´»</strong>ï¼šåˆå§‹åŒ–<strong>é¡µç›®å½•</strong>ä¸äºŒçº§é¡µè¡¨ï¼Œè®¾ç½®é¡µç›®å½•åŸºå€å¯„å­˜å™¨<code>CR3</code>ï¼Œå¹¶å°†æ§åˆ¶å¯„å­˜å™¨<code>CR0</code>çš„<strong>PGä½</strong>ï¼ˆåˆ†é¡µæ ‡å¿—ï¼‰ç½®1ï¼Œå¼€å¯32ä½åˆ†é¡µå¯»å€ã€‚</li>
</ol>
<h3 id="ï¼ˆäºŒï¼‰ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹"><a href="#ï¼ˆäºŒï¼‰ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹" class="headerlink" title="ï¼ˆäºŒï¼‰ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹"></a>ï¼ˆäºŒï¼‰ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹</h3><ol>
<li><strong>åŠ è½½å…¨å±€æè¿°ç¬¦è¡¨ï¼ˆGDTï¼‰</strong>ï¼šå®šä¹‰ä»£ç æ®µã€æ•°æ®æ®µç­‰æè¿°ç¬¦ï¼Œè®¾ç½®æ®µåŸºå€ã€ç•Œé™å€¼ä¸è®¿é—®æƒé™ï¼›</li>
<li><strong>å¯ç”¨A20åœ°å€çº¿</strong>ï¼šé€šè¿‡é”®ç›˜æ§åˆ¶å™¨æˆ–ä¸“ç”¨èŠ¯ç‰‡è§£é™¤1MBå†…å­˜é™åˆ¶ï¼Œä½¿CPUå¯è®¿é—®æ›´é«˜åœ°å€ç©ºé—´ï¼›</li>
<li><strong>è®¾ç½®CR0å¯„å­˜å™¨</strong>ï¼šå°†<code>CR0</code>çš„<strong>PEä½</strong>ï¼ˆä¿æŠ¤æ¨¡å¼æ ‡å¿—ï¼‰ç½®1ï¼Œè§¦å‘CPUæ¨¡å¼åˆ‡æ¢ã€‚</li>
</ol>
<h3 id="ï¼ˆä¸‰ï¼‰ä¸­æ–­ä¸å¼‚å¸¸å¤„ç†å‡†å¤‡"><a href="#ï¼ˆä¸‰ï¼‰ä¸­æ–­ä¸å¼‚å¸¸å¤„ç†å‡†å¤‡" class="headerlink" title="ï¼ˆä¸‰ï¼‰ä¸­æ–­ä¸å¼‚å¸¸å¤„ç†å‡†å¤‡"></a>ï¼ˆä¸‰ï¼‰ä¸­æ–­ä¸å¼‚å¸¸å¤„ç†å‡†å¤‡</h3><ol>
<li><strong>åˆå§‹åŒ–ä¸­æ–­æè¿°ç¬¦è¡¨ï¼ˆIDTï¼‰</strong>ï¼šä¸ºåç»­ç³»ç»Ÿè°ƒç”¨ä¸ç¡¬ä»¶ä¸­æ–­å¤„ç†é¢„ç•™æ¥å£ï¼Œå°½ç®¡å…·ä½“å¤„ç†å‡½æ•°å°†ç”±Cä»£ç å¡«å……ï¼›</li>
<li><strong>åˆ·æ–°æ®µå¯„å­˜å™¨</strong>ï¼šé‡æ–°åŠ è½½ä»£ç æ®µã€æ•°æ®æ®µé€‰æ‹©å­ï¼Œç¡®ä¿ä¿æŠ¤æ¨¡å¼ä¸‹çš„å†…å­˜è®¿é—®åˆæ³•æ€§ï¼›</li>
<li><strong>æ ˆåˆå§‹åŒ–</strong>ï¼šæ¸…ç©ºæ ˆåŸºå€å¹¶è®¾ç½®åˆé€‚çš„æ ˆæŒ‡é’ˆï¼Œä¸ºåç»­Cä»£ç æ‰§è¡Œæä¾›è¿è¡Œç¯å¢ƒã€‚</li>
</ol>
<p>å®Œæˆä¸Šè¿°æ“ä½œåï¼Œ<code>head.s</code>é€šè¿‡<code>jmp</code>æŒ‡ä»¤å°†æ§åˆ¶æƒè½¬ç§»è‡³å†…æ ¸Cè¯­è¨€å…¥å£å‡½æ•°<code>start_kernel()</code>ï¼Œæ ‡å¿—ç€å†…æ ¸åˆå§‹åŒ–è¿›å…¥é«˜çº§é˜¶æ®µã€‚</p>
<hr>
<h2 id="äº”ã€æŠ€æœ¯æ·±åº¦è§£æ"><a href="#äº”ã€æŠ€æœ¯æ·±åº¦è§£æ" class="headerlink" title="äº”ã€æŠ€æœ¯æ·±åº¦è§£æ"></a>äº”ã€æŠ€æœ¯æ·±åº¦è§£æ</h2><p>Linux 0.11çš„å¯åŠ¨æµç¨‹æ·±åˆ»ä½“ç°äº†æ—©æœŸæ“ä½œç³»ç»Ÿè®¾è®¡çš„ä¸‰å¤§æ ¸å¿ƒåŸåˆ™ï¼š</p>
<ol>
<li><strong>ç¡¬ä»¶å…¼å®¹æ€§</strong>ï¼šé€šè¿‡BIOSä¸­æ–­ä¸ç«¯å£æ“ä½œå®ç°å¯¹x86æ¶æ„çš„ç›´æ¥æ§åˆ¶ï¼Œç¡®ä¿åœ¨ä¸åŒç¡¬ä»¶ç¯å¢ƒä¸‹çš„å¯å¯åŠ¨æ€§ï¼›</li>
<li><strong>æ¨¡å¼åˆ‡æ¢è‰ºæœ¯</strong>ï¼šå®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼çš„åˆ‡æ¢æµç¨‹ï¼Œå±•ç°äº†å¯¹CPUä½“ç³»ç»“æ„ç‰¹æ€§çš„ç²¾å‡†åˆ©ç”¨ï¼›</li>
<li><strong>åˆ†å±‚åˆå§‹åŒ–æ€æƒ³</strong>ï¼šä»å¼•å¯¼æ‰‡åŒºåˆ°å†…æ ¸ä¸»ä½“ï¼Œé‡‡ç”¨é€æ­¥é€’è¿›çš„åŠ è½½ç­–ç•¥ï¼Œé™ä½ç³»ç»Ÿå¯åŠ¨çš„å¤æ‚æ€§ã€‚</li>
</ol>
<hr>
<h3 id="ä»£ç ç»“æ„æ¦‚è§ˆ"><a href="#ä»£ç ç»“æ„æ¦‚è§ˆ" class="headerlink" title="ä»£ç ç»“æ„æ¦‚è§ˆ"></a>ä»£ç ç»“æ„æ¦‚è§ˆ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯åŠ¨åŒºæ ¸å¿ƒä»£ç æ®µ (0x7C00)</span><br><span class="line">org 0x7C00</span><br><span class="line"></span><br><span class="line">ç¬¬1-2å›ï¼šä»£ç è¿ç§»ä¸è·³è½¬</span><br><span class="line">mov ax, 0x7C00</span><br><span class="line">mov ds, ax</span><br><span class="line">mov es, ax</span><br><span class="line">mov si, 0x0000</span><br><span class="line">mov di, 0x9000</span><br><span class="line">mov cx, 256</span><br><span class="line">rep movsw           ; è·³è½¬è‡³æ–°ä½ç½®</span><br><span class="line">jmp 0x9000:0x0000</span><br><span class="line"></span><br><span class="line">ç¬¬3å›ï¼šæ®µå¯„å­˜å™¨åˆå§‹åŒ–</span><br><span class="line">mov ax, 0x9000</span><br><span class="line">mov ds, ax</span><br><span class="line">mov ss, ax</span><br><span class="line">mov sp, 0xFF00      ; æ ˆé¡¶åˆå§‹åŒ–ä¸º0x9000:0xFF00</span><br><span class="line"></span><br><span class="line">ç¬¬4å›ï¼šç¡¬ç›˜æ•°æ®åŠ è½½</span><br><span class="line">mov ah, 0x02        ; BIOSè¯»æ‰‡åŒºåŠŸèƒ½</span><br><span class="line">mov al, 0x04        ; åŠ è½½4ä¸ªæ‰‡åŒº</span><br><span class="line">mov ch, 0x01        ; èµ·å§‹æ‰‡åŒº2</span><br><span class="line">mov cl, 0x02</span><br><span class="line">mov dl, 0x80        ; ç¡¬ç›˜0å·è®¾å¤‡</span><br><span class="line">mov bx, 0x9020      ; ç›®æ ‡åœ°å€0x90200</span><br><span class="line">int 0x13            ; </span><br><span class="line"></span><br><span class="line">ç¬¬5-7å›ï¼šä¿æŠ¤æ¨¡å¼åˆ‡æ¢</span><br><span class="line">lgdt [gdt_desc]     ; åŠ è½½GDTæè¿°ç¬¦</span><br><span class="line">mov eax, cr0</span><br><span class="line">or eax, 0x1         ; è®¾ç½®PEä½</span><br><span class="line">mov cr0, eax</span><br><span class="line">jmp 0x08:0x7E00     ; è¿œè·³è½¬åˆ·æ–°æµæ°´çº¿ </span><br><span class="line"></span><br><span class="line">ç¬¬8-10å›ï¼šä¿æŠ¤æ¨¡å¼åˆå§‹åŒ–</span><br><span class="line">[extern _main]</span><br><span class="line">startup_32:</span><br><span class="line">    mov ax, 0x10</span><br><span class="line">    mov ds, ax</span><br><span class="line">    mov es, ax</span><br><span class="line">    mov fs, ax</span><br><span class="line">    mov gs, ax</span><br><span class="line">    lss esp, _stack_start</span><br><span class="line">    push 0x7E00       ; ä¸ºmainå‡½æ•°å‡†å¤‡å‚æ•°</span><br><span class="line">    ret               ; è·³è½¬åˆ°mainå‡½æ•° </span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€å…³é”®æŠ€æœ¯è§£æ"><a href="#å…­ã€å…³é”®æŠ€æœ¯è§£æ" class="headerlink" title="å…­ã€å…³é”®æŠ€æœ¯è§£æ"></a>å…­ã€å…³é”®æŠ€æœ¯è§£æ</h2><h3 id="1-ä»£ç è¿ç§»æœºåˆ¶"><a href="#1-ä»£ç è¿ç§»æœºåˆ¶" class="headerlink" title="1. ä»£ç è¿ç§»æœºåˆ¶"></a>1. ä»£ç è¿ç§»æœºåˆ¶</h3><ul>
<li><strong>å†…å­˜å¤åˆ¶ç®—æ³•</strong>ï¼šä½¿ç”¨<code>rep movsw</code>æŒ‡ä»¤å®Œæˆ512å­—èŠ‚æ•°æ®è¿ç§»ï¼ˆ256æ¬¡Ã—2å­—èŠ‚ï¼‰</li>
<li><strong>åœ°å€è®¡ç®—</strong>ï¼š<code>0x7C00</code>ä¸ºBIOSåŠ è½½MBRçš„æ ‡å‡†åœ°å€ï¼Œè¿ç§»è‡³<code>0x90000</code>é¿å…åç»­è¦†ç›–</li>
<li><strong>è·³è½¬é€»è¾‘</strong>ï¼š<code>jmp 0x9000:0x0000</code>é€šè¿‡æ®µåœ°å€é‡ç½®CSå¯„å­˜å™¨</li>
</ul>
<h3 id="2-ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹"><a href="#2-ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹" class="headerlink" title="2. ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹"></a>2. ä¿æŠ¤æ¨¡å¼åˆ‡æ¢æµç¨‹</h3><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>æ“ä½œ</th>
<th>å¯„å­˜å™¨å˜åŒ–</th>
<th>ä½œç”¨åŸŸ</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>åŠ è½½GDT</td>
<td>GDTR &#x3D; gdt_desc</td>
<td>å…¨å±€æè¿°ç¬¦è¡¨</td>
</tr>
<tr>
<td>2</td>
<td>è®¾ç½®PEä½</td>
<td>CR0[0] &#x3D; 1</td>
<td>æ§åˆ¶å¯„å­˜å™¨</td>
</tr>
<tr>
<td>3</td>
<td>è¿œè·³è½¬</td>
<td>CS:EIPåˆ·æ–°</td>
<td>æŒ‡ä»¤æµæ°´çº¿</td>
</tr>
<tr>
<td>4</td>
<td>æ®µå¯„å­˜å™¨é‡æ„</td>
<td>DS&#x3D;ES&#x3D;FS&#x3D;GS&#x3D;0x10</td>
<td>æ•°æ®æ®µé€‰æ‹©å­</td>
</tr>
</tbody></table>
<h3 id="3-å†…å­˜ç®¡ç†æ¶æ„"><a href="#3-å†…å­˜ç®¡ç†æ¶æ„" class="headerlink" title="3. å†…å­˜ç®¡ç†æ¶æ„"></a>3. å†…å­˜ç®¡ç†æ¶æ„</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// GDTè¡¨ç»“æ„ç¤ºä¾‹</span><br><span class="line">struct gdt_desc &#123;</span><br><span class="line">    uint16_t limit;</span><br><span class="line">    uint32_t base;</span><br><span class="line">&#125; __attribute__((packed));</span><br><span class="line"></span><br><span class="line">// ä»£ç æ®µæè¿°ç¬¦</span><br><span class="line">#define GDT_CODE_ENTRY \</span><br><span class="line">    &#123;0xFFFF, 0x00000000, 0x00CF9A00, 0x00000000&#125;</span><br><span class="line"></span><br><span class="line">// åˆ†é¡µæœºåˆ¶åˆå§‹åŒ–</span><br><span class="line">mov eax, cr0</span><br><span class="line">or eax, 0x80000000  ; è®¾ç½®PGä½</span><br><span class="line">mov cr0, eax</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€ä»£ç å®ç°ç»†èŠ‚"><a href="#ä¸ƒã€ä»£ç å®ç°ç»†èŠ‚" class="headerlink" title="ä¸ƒã€ä»£ç å®ç°ç»†èŠ‚"></a>ä¸ƒã€ä»£ç å®ç°ç»†èŠ‚</h2><h3 id="1-ä¸­æ–­æœåŠ¡è°ƒç”¨"><a href="#1-ä¸­æ–­æœåŠ¡è°ƒç”¨" class="headerlink" title="1. ä¸­æ–­æœåŠ¡è°ƒç”¨"></a>1. ä¸­æ–­æœåŠ¡è°ƒç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">; è¯»å–ç£ç›˜å‚æ•°</span><br><span class="line">mov ah, 0x08        ; è·å–é©±åŠ¨å™¨å‚æ•°</span><br><span class="line">int 0x13</span><br><span class="line">jc disk_error       ; é”™è¯¯å¤„ç†</span><br><span class="line"></span><br><span class="line">; å†™å…¥ä¿æŠ¤æ¨¡å¼ä»£ç </span><br><span class="line">mov ax, 0x7E00</span><br><span class="line">mov es, ax</span><br><span class="line">mov bx, 0x0000</span><br><span class="line">mov cx, 0x0200      ; 512å­—èŠ‚</span><br><span class="line">mov dx, 0x0000</span><br><span class="line">int 0x13</span><br></pre></td></tr></table></figure>

<h3 id="2-åˆ†é¡µæœºåˆ¶é…ç½®"><a href="#2-åˆ†é¡µæœºåˆ¶é…ç½®" class="headerlink" title="2. åˆ†é¡µæœºåˆ¶é…ç½®"></a>2. åˆ†é¡µæœºåˆ¶é…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">; é¡µç›®å½•è¡¨åˆå§‹åŒ–</span><br><span class="line">mov eax, page_dir</span><br><span class="line">mov cr3, eax</span><br><span class="line">mov eax, 0x80000003 ; P=1, R/W=1, PS=1 (4MBé¡µ)</span><br><span class="line">mov cr4, eax</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ä»£ç è¯´æ˜"><a href="#ä»£ç è¯´æ˜" class="headerlink" title="ä»£ç è¯´æ˜"></a>ä»£ç è¯´æ˜</h3><ol>
<li><strong>å†…å­˜æ“ä½œ</strong>ï¼šæ‰€æœ‰å†…å­˜åœ°å€å‡é‡‡ç”¨<strong>ç‰©ç†åœ°å€</strong>è®¡ç®—ï¼ˆæ®µåœ°å€Ã—16 + åç§»åœ°å€ï¼‰</li>
<li><strong>ä¸­æ–­å¤„ç†</strong>ï¼š<code>int 0x13</code>ä¸ºBIOSæ ‡å‡†ç£ç›˜ä¸­æ–­ï¼Œéœ€ç¡®ä¿AHå¯„å­˜å™¨æ­£ç¡®è®¾ç½®</li>
<li><strong>ä¿æŠ¤æ¨¡å¼</strong>ï¼šGDTè¡¨éœ€åŒ…å«è‡³å°‘3ä¸ªæè¿°ç¬¦ï¼ˆä»£ç æ®µã€æ•°æ®æ®µã€ç©ºæè¿°ç¬¦ï¼‰</li>
<li><strong>åˆ†é¡µæœºåˆ¶</strong>ï¼šå¯ç”¨PGä½å‰éœ€ç¡®ä¿æ‰€æœ‰é¡µè¡¨é¡¹å·²æ­£ç¡®æ˜ å°„</li>
</ol>
<blockquote>
<p>æ³¨ï¼šå®é™…å¯åŠ¨è¿‡ç¨‹ä¸­éœ€å¤„ç†A20åœ°å€çº¿å¼€å¯ã€è½¯ä¸­æ–­é‡å®šå‘ç­‰åº•å±‚ç»†èŠ‚ï¼Œæ­¤å¤„ä¸ºç®€åŒ–æ•™å­¦ç‰ˆæœ¬ã€‚</p>
</blockquote>
<img src="/img/PageCode/28-1.png" alt="å­¦ä¹ Linux 0.11 æ€ç»´å¯¼å›¾" style="width: 90%;height: auto;margin: 0 auto;display: block;border: 3px solid #f0f0f0;border-radius: 12px;box-shadow: 0 4px 8px rgba(0,0,0,0.1);">]]></content>
      <categories>
        <category>Operating-Systems</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
