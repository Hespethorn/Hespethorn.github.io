<!DOCTYPE html><html lang="zh_CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Butterfly 5.0 更新日誌 | HespethornのBlog</title><meta name="author" content="Hespethorn"><meta name="copyright" content="Hespethorn"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#E2E8F0"><meta name="description" content="重大變更由於整合了多個設定並更改了部分設定名稱，升級到 5.0 版本時，請重新設定 _config.yml 檔案。 新增功能與改進 新增 macstyle 設定，取消 mac &#x2F; mac light 主題設定 整合搜尋相關設定 修改程式碼區塊設定 主頁文章新增多種版面配置 新增說說頁面 適配 hexo-blog-encrypt 加密外掛 改善手機端目錄的開啟效果 新增平滑滾動功能 支援以">
<meta property="og:type" content="article">
<meta property="og:title" content="Butterfly 5.0 更新日誌">
<meta property="og:url" content="http://example.com/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/index.html">
<meta property="og:site_name" content="HespethornのBlog">
<meta property="og:description" content="重大變更由於整合了多個設定並更改了部分設定名稱，升級到 5.0 版本時，請重新設定 _config.yml 檔案。 新增功能與改進 新增 macstyle 設定，取消 mac &#x2F; mac light 主題設定 整合搜尋相關設定 修改程式碼區塊設定 主頁文章新增多種版面配置 新增說說頁面 適配 hexo-blog-encrypt 加密外掛 改善手機端目錄的開啟效果 新增平滑滾動功能 支援以">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png">
<meta property="article:published_time" content="2024-07-16T18:09:49.000Z">
<meta property="article:modified_time" content="2025-03-04T07:52:46.000Z">
<meta property="article:author" content="Hespethorn">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="更新日誌">
<meta property="article:tag" content="butterfly">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Butterfly 5.0 更新日誌",
  "url": "http://example.com/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/",
  "image": "https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png",
  "datePublished": "2024-07-16T18:09:49.000Z",
  "dateModified": "2025-03-04T07:52:46.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Hespethorn",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/butterfly-icon.png"><link rel="canonical" href="http://example.com/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/index.html"><link rel="preconnect" href="https://jsd.012700.xyz"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><meta/><meta/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://jsd.012700.xyz/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#1A202C')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#E2E8F0')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 8 || hour >= 22
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=11292943601"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', '11292943601')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', '11292943601', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400,"highlightFullpage":true,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":150,"languages":{"author":"Author: Hespethorn","link":"Link: ","source":"Source: HespethornのBlog","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://jsd.012700.xyz/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Butterfly 5.0 更新日誌',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="preconnect" href="https://jsd.012700.xyz"><link href="/self/btf.css" rel="stylesheet"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="HespethornのBlog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-code"></i><span> 代码</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 歸檔</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 圖庫</span></a></li><li><a class="site-page child" href="/talking/"><i class="fa-fw fas fa-comment-dots"></i><span> 說說</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 收藏</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "/img/loading.gif" data-lazy-src="https://avatars.githubusercontent.com/u/213720115?v=4" alt="Logo"><span class="site-name">HespethornのBlog</span></a><a class="nav-page-title" href="/"><span class="site-name">Butterfly 5.0 更新日誌</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-code"></i><span> 代码</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 歸檔</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 標籤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分類</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 圖庫</span></a></li><li><a class="site-page child" href="/talking/"><i class="fa-fw fas fa-comment-dots"></i><span> 說說</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-thumbs-up"></i><span> 收藏</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Butterfly 5.0 更新日誌</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2024-07-16T18:09:49.000Z" title="Created 2024-07-17 02:09:49">2024-07-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/">更新日誌</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">933</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>2mins</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="重大變更"><a href="#重大變更" class="headerlink" title="重大變更"></a>重大變更</h2><p>由於整合了多個設定並更改了部分設定名稱，升級到 5.0 版本時，請重新設定 <code>_config.yml</code> 檔案。</p>
<h2 id="新增功能與改進"><a href="#新增功能與改進" class="headerlink" title="新增功能與改進"></a>新增功能與改進</h2><ol>
<li>新增 macstyle 設定，取消 mac &#x2F; mac light 主題設定</li>
<li>整合搜尋相關設定</li>
<li>修改程式碼區塊設定</li>
<li>主頁文章新增多種版面配置</li>
<li>新增說說頁面</li>
<li>適配 hexo-blog-encrypt 加密外掛</li>
<li>改善手機端目錄的開啟效果</li>
<li>新增平滑滾動功能</li>
<li>支援以程式碼區塊方式撰寫 mermaid 圖表</li>
<li>可自訂文章標題位置</li>
<li>新增程式碼全螢幕按鈕</li>
<li>友情連結頭像改為圓角設計</li>
<li>優化程式碼，使用 hexo-util 的參數和 hexo 內建參數</li>
<li>可自訂搜尋框提示文字</li>
<li>未設定選單時，不顯示側邊欄目錄和按鈕</li>
<li>螢幕寬度超過 2000px 時，增加卡片高度</li>
<li>根據語言設定調整字型：簡體中文使用雅黑，其他使用正黑體</li>
<li>更新 plugins.yml</li>
<li>全新的側邊欄介面設計</li>
<li>新增 giscus 的 js 設定</li>
<li>調整 utterances js 的設定位置</li>
<li>新增 utterances option 設定</li>
<li>修改 giscus 的主題設定</li>
<li>多個介面元素改為圓角設計</li>
<li>可選擇圓角或直角介面風格</li>
<li>相簿載入按鈕新增圖示</li>
<li>改善標籤頁面的滑鼠懸停效果</li>
<li>調整側邊欄的滑鼠懸停效果</li>
<li>微調部分介面元素</li>
<li>背景圖片配置不再需要新增 url()</li>
<li>移除 messenger 聊天外掛</li>
<li>更新 fackbook 版本號</li>
<li>增加 香港繁體、日文和韓語</li>
<li>使用的新的複製api 代替舊的</li>
<li>增加 umami 分析</li>
<li>增加 umami 獲取訪問量&#x2F;訪客數</li>
<li>snackbar 增加透明度</li>
<li>文章頁下， nav fixed 下 顯示文章標題</li>
</ol>
<h2 id="問題修復"><a href="#問題修復" class="headerlink" title="問題修復"></a>問題修復</h2><ol>
<li>修復 Hexo 新版本下 Prism.js 無法正確高亮的問題</li>
<li>修復文章標籤為空時可能出現的錯誤</li>
<li>修正 mermaid 圖表可能出現的錯誤</li>
<li>解決未設定選單時控制檯報錯的問題</li>
<li>修復 Algolia 搜尋的每頁顯示數量設定無效的問題</li>
<li>解決 Algolia 搜尋結果出現滾動條的問題</li>
<li>修正滾動條出現上下按鈕的問題</li>
<li>修復相簿遠端連結未加字首的問題</li>
<li>修正 label 標籤外掛右側多餘空格的問題</li>
<li>解決 APlayer 報告記憶體洩漏的問題</li>
<li>lazyload 為 false 時，artalk 無法正常載入評論的 bug</li>
<li>修復 gallery 出現抖動的 bug</li>
</ol>
<h2 id="效能優化"><a href="#效能優化" class="headerlink" title="效能優化"></a>效能優化</h2><ol>
<li>優化 PJAX 下的函數呼叫</li>
<li>整體程式碼優化</li>
<li>提升相容性</li>
<li>改善 Lighthouse 評分</li>
<li>在 PJAX 關閉時減少不必要的全局變數</li>
<li>優化 Waline 的 import 相容性</li>
<li>改善頁面進入效果</li>
<li>優化程式碼區塊工具列顯示邏輯</li>
<li>改善不同螢幕寬度下文章標題位置的顯示</li>
<li>優化標籤顏色生成演算法，避免過暗或過亮</li>
<li>調整 Artalk 和 Waline 在夜間模式下的字型顏色，與主題保持一致</li>
<li>調整 Algolia 搜尋載入動畫位置，避免換行</li>
<li>優化 Algolia 搜尋結果為空時的處理</li>
<li>改善系列文章的滑鼠懸停效果</li>
<li>優化 404 頁面程式碼</li>
<li>解決搜尋和側邊欄開啟時視窗抖動的問題</li>
<li>優化 tabs 標籤外掛的程式碼和效能</li>
<li>改善 tabs 中使用 gallery 標籤外掛時的圖片載入邏輯</li>
<li>優化目錄滾動效果，使當前標題保持在中間</li>
<li>調整螢幕寬度超過 1024px 時 gallerygroup 的顯示數量</li>
<li>優化 背景url 的判斷</li>
<li>修改部分用語</li>
<li>timeline tag 樣式優化</li>
<li>優化 seo</li>
<li>優化 artalk 的最新評論</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Hespethorn</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/">http://example.com/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener external nofollow noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a><a class="post-meta__tags" href="/tags/%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/">更新日誌</a><a class="post-meta__tags" href="/tags/butterfly/">butterfly</a></div><div class="post-share"><div class="social-share" data-image="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://jsd.012700.xyz/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://jsd.012700.xyz/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8919908724705274" data-ad-slot="5978969231"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/20/5-1-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.1 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-1-0-release-note.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Butterfly 5.1 更新日誌</div></div><div class="info-2"><div class="info-item-1">新功能 添加 chart.js 圖表庫（標籤外挂） 適配 Algolia Search 5.0 搜索分頁按鈕圓角化 本地搜索結果列表顯示數字排序 章節導航和相關推薦支持 hover 顯示文章介紹 移除 Daovoice 導航欄添加背景虛化效果 導航欄 hover 效果增加圓角  修復 修復不啟用評論系統時，不蒜子統計不顯示的問題 修復背景漸變色無法生效的問題  改進 説説的標籤可選填 代碼精簡和優化 移動到説説日期，顯示完整的日期時間 説説的時間標籤改為 time 標籤 延遲調用 abcjs 函數以解決渲染問題 調整側邊欄文章分類的字體大小  </div></div></div></a><a class="pagination-related" href="/2024/02/22/4-13-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.13 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/02/4-13-release-notes.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Butterfly 4.13 更新日誌</div></div><div class="info-2"><div class="info-item-1">內容 適配 waline v3 適配 artalk 新版  修復 修復文章頁面，twikoo 無法獲取評論數的 bug  優化 首頁多個標籤和分類時，每個都增加標識 文章頁標題改為左邊  </div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2023/12/29/4-12-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.12 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2023/12/butterfly-4-12-release-note.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-29</div><div class="info-item-2">Butterfly 4.12 更新日誌</div></div><div class="info-2"><div class="info-item-1">內容 適配 Artalk 新版本 card_post_series 可配置標題顯示為系列的名字 cdn 的 version 默認為 true  修復 當 front-matter 的 toc_number 沒有值時，toc_number 沒有按照主題配置應用的 bug Github 最新評論獲取報錯的 bug  優化 標題點擊範圍縮小為字體本身 Waline 增加 destroy 調用  </div></div></div></a><a class="pagination-related" href="/2023/10/08/4-10-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.10 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2023/10/4-10-changelog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-08</div><div class="info-item-2">Butterfly 4.10 更新日誌</div></div><div class="info-2"><div class="info-item-1">破壞性內容 更改 rightside-bottom 為 rightside_bottom 12- rightside-bottom:+ rightside_bottom:  重構 gallery 標籤外掛  寫法變更  默認為滾動到顯示區域才加載圖片  更改依賴， 由 nk-o&#x2F;flickr-justified-gallery 改為 egjs-infinitegrid 12345  CDN:    option:-      # flickr_justified_gallery_js:-      # flickr_justified_gallery_css:+      # egjs_infinitegrid:   更改 ClickShowText 為 clickShowText 123456789101112131415-ClickShowText:+clickShowText:  enable: false  text:    - I    - LOVEeeeeeeeeeeeee    - YOU  fontSize: 15px  random: true ...</div></div></div></a><a class="pagination-related" href="/2023/11/24/4-11-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.11 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2023/11/butterfly-4.11.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-24</div><div class="info-item-2">Butterfly 4.11 更新日誌</div></div><div class="info-2"><div class="info-item-1">內容 適配 hexo 7.0.0  修復 當瀏覽器不支持代碼複製時，提示不顯示的 bug 設置 click_to_scroll 後， 點擊標題中的鏈接無法正確跳轉的 bug 切換評論時，控制枱報 loadOtherComment 沒有定義的 bug  優化 sidebar ui 微調 避免因為沒有更新配置而報錯的問題 更新插件版本  </div></div></div></a><a class="pagination-related" href="/2024/02/22/4-13-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.13 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/02/4-13-release-notes.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-22</div><div class="info-item-2">Butterfly 4.13 更新日誌</div></div><div class="info-2"><div class="info-item-1">內容 適配 waline v3 適配 artalk 新版  修復 修復文章頁面，twikoo 無法獲取評論數的 bug  優化 首頁多個標籤和分類時，每個都增加標識 文章頁標題改為左邊  </div></div></div></a><a class="pagination-related" href="/2024/10/20/5-1-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.1 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-1-0-release-note.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-20</div><div class="info-item-2">Butterfly 5.1 更新日誌</div></div><div class="info-2"><div class="info-item-1">新功能 添加 chart.js 圖表庫（標籤外挂） 適配 Algolia Search 5.0 搜索分頁按鈕圓角化 本地搜索結果列表顯示數字排序 章節導航和相關推薦支持 hover 顯示文章介紹 移除 Daovoice 導航欄添加背景虛化效果 導航欄 hover 效果增加圓角  修復 修復不啟用評論系統時，不蒜子統計不顯示的問題 修復背景漸變色無法生效的問題  改進 説説的標籤可選填 代碼精簡和優化 移動到説説日期，顯示完整的日期時間 説説的時間標籤改為 time 標籤 延遲調用 abcjs 函數以解決渲染問題 調整側邊欄文章分類的字體大小  </div></div></div></a><a class="pagination-related" href="/2025/01/10/5-3-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.3 更新日誌"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://github.com/Hespethorn/PHOTO/blob/f4fca7e68afcdecab94cada6b0b77a6fda3ddf65/Hespethorn.github.io/006%20(2).jpeg?raw=true" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-10</div><div class="info-item-2">Butterfly 5.3 更新日誌</div></div><div class="info-2"><div class="info-item-1">新功能 js 加載完才顯示聊天按鈕 移除 Pangu 添加結構化數據支持 添加 avif 到支持的圖片格式列表 更新 lazyload 配置，支持原生 lazyload 功能 代碼優化 優化 pageType 邏輯 代碼字體先 fallback 到 monospace 再到中文和 sans-serif 更新 plugins.yml 中的依賴版本至最新 優化 aside_archives，改進性能和可讀性 改善 inlineImg 和 timeline 標籤的文檔，優化時間線邏輯 更新 gallery 標籤以支持額外參數，優化圖片顯示邏輯 優化隨機封面過濾器邏輯，避免連續重複 最新評論限制顯示 1-10 條之間  修復 修復 artalk 的最新評論顯示待定或者封禁的評論的 bug 修復解密文章後，chartjs 沒有加載的 bug  </div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Hespethorn</div><div class="author-info-description">HespethornのBlog</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Hespethorn"><i class="fab fa-github"></i><span>主題 GitHub</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Hespethorn" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fa-brands fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:17362995493@163.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #007bff;"></i></a><a class="social-icon" href="https://weibo.com/u/7103954483" rel="external nofollow noreferrer" target="_blank" title="weibo"><i class="fa-brands fa-weibo" style="color: #E6162D;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">人生没有绝对的公平，但逆风终会成为顺风。重要的是抵达终点时的光芒。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%A4%A7%E8%AE%8A%E6%9B%B4"><span class="toc-number">1.</span> <span class="toc-text">重大變更</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%8A%9F%E8%83%BD%E8%88%87%E6%94%B9%E9%80%B2"><span class="toc-number">2.</span> <span class="toc-text">新增功能與改進</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%95%8F%E9%A1%8C%E4%BF%AE%E5%BE%A9"><span class="toc-number">3.</span> <span class="toc-text">問題修復</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E8%83%BD%E5%84%AA%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">效能優化</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/10/5-3-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.3 更新日誌"><img src= "/img/loading.gif" data-lazy-src="https://github.com/Hespethorn/PHOTO/blob/f4fca7e68afcdecab94cada6b0b77a6fda3ddf65/Hespethorn.github.io/006%20(2).jpeg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 5.3 更新日誌"/></a><div class="content"><a class="title" href="/2025/01/10/5-3-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.3 更新日誌">Butterfly 5.3 更新日誌</a><time datetime="2025-01-10T10:47:26.000Z" title="Created 2025-01-10 18:47:26">2025-01-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/02/5-2-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.2 更新日誌"><img src= "/img/loading.gif" data-lazy-src="https://github.com/Hespethorn/PHOTO/blob/f4fca7e68afcdecab94cada6b0b77a6fda3ddf65/Hespethorn.github.io/004.jpg?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 5.2 更新日誌"/></a><div class="content"><a class="title" href="/2024/11/02/5-2-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.2 更新日誌">Butterfly 5.2 更新日誌</a><time datetime="2024-11-02T10:47:26.000Z" title="Created 2024-11-02 18:47:26">2024-11-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/20/5-1-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.1 更新日誌"><img src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-1-0-release-note.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 5.1 更新日誌"/></a><div class="content"><a class="title" href="/2024/10/20/5-1-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.1 更新日誌">Butterfly 5.1 更新日誌</a><time datetime="2024-10-20T09:27:48.000Z" title="Created 2024-10-20 17:27:48">2024-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.0 更新日誌"><img src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 5.0 更新日誌"/></a><div class="content"><a class="title" href="/2024/07/17/5-0-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 5.0 更新日誌">Butterfly 5.0 更新日誌</a><time datetime="2024-07-16T18:09:49.000Z" title="Created 2024-07-17 02:09:49">2024-07-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/22/4-13-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.13 更新日誌"><img src= "/img/loading.gif" data-lazy-src="https://oss.012700.xyz/butterfly/2024/02/4-13-release-notes.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 4.13 更新日誌"/></a><div class="content"><a class="title" href="/2024/02/22/4-13-%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/" title="Butterfly 4.13 更新日誌">Butterfly 4.13 更新日誌</a><time datetime="2024-02-22T08:54:12.000Z" title="Created 2024-02-22 16:54:12">2024-02-22</time></div></div></div></div><div class="card-widget ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8919908724705274" data-ad-slot="8108145410" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></main><footer id="footer" style="background-image: url(https://oss.012700.xyz/butterfly/2024/10/butterfly-docs-5-0-release-notes.png);"><div id="footer-wrap"><div class="copyright">&copy;2025 By Hespethorn</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.4</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Hespethorn">Hub</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">簡</button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://jsd.012700.xyz/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://jsd.012700.xyz/npm/hexo-theme-butterfly/source/js/main.min.js"></script><script src="https://jsd.012700.xyz/npm/hexo-theme-butterfly/source/js/tw_cn.min.js"></script><script src="https://jsd.012700.xyz/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://jsd.012700.xyz/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://jsd.012700.xyz/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://jsd.012700.xyz/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return

    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = ele => {
    window.loadChartJS = true

    Array.from(ele).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    const chartJSEle = document.querySelectorAll('#article-container .chartjs-container')
    if (chartJSEle.length === 0) return

    window.loadChartJS ? runChartJS(chartJSEle) : btf.getScript('https://jsd.012700.xyz/npm/chart.js/dist/chart.umd.min.js').then(() => runChartJS(chartJSEle))
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', loadChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', loadChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script></div><script data-pjax src="/self/btf.js"></script><script defer="defer" id="ribbon" src="https://jsd.012700.xyz/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.6" zIndex="-1" count="99" mobile="false" src="https://jsd.012700.xyz/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://jsd.012700.xyz/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = false;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://jsd.012700.xyz/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="为,世,界,上,所,有,美,好,而,战" data-fontsize="10px" data-random="false" async="async"></script><script src="https://jsd.012700.xyz/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: true,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true 
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="https://jsd.012700.xyz/npm/hexo-theme-butterfly/source/js/search/local-search.min.js"></script></div></div></body></html>